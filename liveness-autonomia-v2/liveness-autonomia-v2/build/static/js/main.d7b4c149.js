/*! For license information please see main.d7b4c149.js.LICENSE.txt */
(()=>{var e={7143:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>a});const r=e=>"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))){const a=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),a=e=>"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const a=e[++n];t+=String.fromCharCode((31&r)<<6|63&a)}else if(240<=r&&r<365){const a="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},5615:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in n))break e;n=n[s]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function i(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=i(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var i=a[n[o]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&r(i.prototype,e,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return e}));var u,c="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var d;e:{var p={};try{p.__proto__={a:!0},d=p.a;break e}catch(Gt){}d=!1}u=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=u;function f(e,t){if(e.prototype=c(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.na=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function g(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function v(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new m,this.h=e}function w(e,t,n,r){try{var a=t.call(e.g.i,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.g.l=!1,a;var o=a.value}catch(s){return e.g.i=null,v(e.g,s),k(e)}return e.g.i=null,r.call(e.g,o),k(e)}function k(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,v(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=k(e)),t},this.throw=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(v(e.g,t),t=k(e)),t},this.return=function(t){return function(e,t){g(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),k(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function x(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,a){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,a)}(e.next())}))}(new S(new b(e)))}m.prototype.s=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.u},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=a.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;o((function(){if(e.C()){var t=a.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)s.h(this.g[e]);this.g=null}};var s=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(n){o(n)}}:t}var a,o,s=new t((function(e,t){a=e,o=t}));return this.M(r(e,a),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?s.h(n):this.g.push(n),this.s=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var a=i(e),o=a.next();!o.done;o=a.next())r(o.value).M(t,n)}))},t.all=function(e){var n=i(e),a=n.next();return a.done?r([]):new t((function(e,t){function o(t){return function(n){s[t]=n,0==--i&&e(s)}}var s=[],i=0;do{s.push(void 0),i++,r(a.value).M(o(s.length-1),t),a=n.next()}while(!a.done)}))},t}));var _="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};o("Object.assign",(function(e){return e||_})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var a=n[t];if(a===e||Object.is(a,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e){return e}))}}));var I=this||self;function E(e,t){e=e.split(".");var n,r=I;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(){throw Error("Invalid UTF8")}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var C,A,M="undefined"!==typeof TextDecoder,O="undefined"!==typeof TextEncoder,R={},D=null;function F(e){var t;void 0===t&&(t=0),L(),t=R[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",a=0,o=0;a<e.length-2;a+=3){var s=e[a],i=e[a+1],l=e[a+2],u=t[s>>2];s=t[(3&s)<<4|i>>4],i=t[(15&i)<<2|l>>6],l=t[63&l],n[o++]=u+s+i+l}switch(u=0,l=r,e.length-a){case 2:l=t[(15&(u=e[a+1]))<<2]||r;case 1:e=e[a],n[o]=t[e>>2]+t[(3&e)<<4|u>>4]+l+r}return n.join("")}function P(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),a=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),a=D[n];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}L();for(var r=0;;){var a=n(-1),o=n(0),s=n(64),i=n(64);if(64===i&&-1===a)break;t(a<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=i&&t(s<<6&192|i))}}(e,(function(e){r[a++]=e})),a!==n?r.subarray(0,a):r}function L(){if(!D){D={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));R[n]=r;for(var a=0;a<r.length;a++){var o=r[a];void 0===D[o]&&(D[o]=a)}}}}var z,B="function"===typeof Uint8Array;function W(e){return B&&null!=e&&e instanceof Uint8Array}function U(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var j="function"===typeof Uint8Array.prototype.slice,H=0;function V(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function q(){return Error("Failed to read varint, encoding is invalid.")}function G(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&K(this,e)}function K(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return P(e);if(e.constructor===U)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||W(t)?t:"string"===typeof t?P(t):null,(e=e.L=t)?new Uint8Array(e):z||(z=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function $(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function Y(e){var t=e.h,n=t[e.g],r=127&n;if(128>n)return e.g+=1,$(e),r;if(r|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,$(e),r;if(r|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,$(e),r;if(r|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,$(e),r;if(n=t[e.g+4],e.g+=5,r|=(15&n)<<28,128>n)return $(e),r;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw q();return $(e),r}G.prototype.reset=function(){this.g=this.j};var Q=[];function X(){this.g=[]}function J(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Z(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,Q.length?(n=Q.pop(),t&&(n.v=t.v),e&&K(n,e),e=n):e=new G(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function ee(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=Y(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw V(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function te(e){switch(e.h){case 0:if(0!=e.h)te(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,$(e);break e}throw q()}break;case 1:(e=e.g).g+=8,$(e);break;case 2:2!=e.h?te(e):(t=Y(e.g)>>>0,(e=e.g).g+=t,$(e));break;case 5:(e=e.g).g+=4,$(e);break;case 3:for(t=e.i;;){if(!ee(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}te(e)}break;default:throw V(e.h,e.j)}}X.prototype.length=function(){return this.g.length},X.prototype.end=function(){var e=this.g;return this.g=[],e},Z.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ne=[];function re(){this.i=[],this.h=0,this.g=new X}function ae(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var oe="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function se(e,t){Object.isFrozen(e)||(oe?e[oe]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ie(e){var t;return null==(t=oe?e[oe]:e.N)?0:t}function le(e){return se(e,1),e}function ue(e){return!!Array.isArray(e)&&!!(2&ie(e))}function ce(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");se(e,2)}function de(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&e.constructor===Object}var pe=Object.freeze(le([]));function he(e){if(ue(e.m))throw Error("Cannot mutate an immutable Message")}var fe,me="undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.hasInstance;function ge(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ve(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ye(e,t,n,r){r=void 0!==r&&r,he(e),t<e.i&&!r?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function be(e,t,n,r){n=void 0===n||n;var a=ve(e,t,r=void 0!==r&&r);return null==a&&(a=pe),ue(e.m)?n&&(ce(a),Object.freeze(a)):(a===pe||ue(a))&&ye(e,t,a=le(a.slice()),r),a}function we(e,t,n){return null==(e=null==(e=ve(e,t))?e:+e)?void 0===n?0:n:e}function ke(e,t,n,r){e.j||(e.j={});var a=ue(e.m),o=e.j[n];if(!o){r=be(e,n,!0,void 0!==r&&r),o=[],a=a||ue(r);for(var s=0;s<r.length;s++)o[s]=new t(r[s]),a&&ce(o[s].m);a&&(ce(o),Object.freeze(o)),e.j[n]=o}return o}function Se(e,t,n,r,a){var o=void 0!==o&&o;return he(e),o=ke(e,n,t,o),n=r||new n,e=be(e,t),void 0!=a?(o.splice(a,0,n),e.splice(a,0,n.m)):(o.push(n),e.push(n.m)),n}function xe(e,t){return null==(e=ve(e,t))?0:e}function _e(e,t){return null==(e=ve(e,t))?"":e}function Ie(e){var t=Ne;return Te(e,t=void 0===t?Ce:t)}function Ee(e,t){if(null!=e){if(Array.isArray(e))e=Te(e,t);else if(de(e)){var n,r={};for(n in e)r[n]=Ee(e[n],t);e=r}else e=t(e);return e}}function Te(e,t){for(var n=e.slice(),r=0;r<n.length;r++)n[r]=Ee(n[r],t);return Array.isArray(e)&&1&ie(e)&&le(n),n}function Ne(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(W(e))return F(e);if(e instanceof U){var t=e.L;return t=null==t||"string"===typeof t?t:B&&t instanceof Uint8Array?F(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Ie(e):e)}function Ce(e){return W(e)?new Uint8Array(e):e}function Ae(e,t,n){e||(e=fe),fe=null;var r=this.constructor.h;if(e||(e=r?[r]:[]),this.h=(r?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(r=this.m.length)-1,r&&de(r=this.m[e])?(this.i=e-this.h,this.g=r):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(r=this.m[e])?Array.isArray(r)&&le(r):this.m[e]=pe;else{var a=(r=this.g||(this.g=this.m[this.i+this.h]={}))[e];a?Array.isArray(a)&&le(a):r[e]=pe}}function Me(){Ae.apply(this,arguments)}if(Ae.prototype.toJSON=function(){return Ie(this.m)},Ae.prototype.toString=function(){return this.m.toString()},f(Me,Ae),me){var Oe={};Object.defineProperties(Me,(Oe[Symbol.hasInstance]=ge((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),Oe))}function Re(e,t,n){if(n){var r,a={};for(r in n){var o=n[r],s=o.ha;s||(a.F=o.la||o.fa.P,o.aa?(a.U=We(o.aa),s=function(e){return function(t,n,r){return e.F(t,n,r,e.U)}}(a)):o.ca?(a.T=Ue(o.X.g,o.ca),s=function(e){return function(t,n,r){return e.F(t,n,r,e.T)}}(a)):s=a.F,o.ha=s),s(t,e,o.X),a={F:a.F,U:a.U,T:a.T}}}!function(e,t){if(t=t.ba){ae(e,e.g.end());for(var n=0;n<t.length;n++)ae(e,t[n])}}(t,e)}var De=Symbol();function Fe(e,t,n){return e[De]||(e[De]=function(e,r){return t(e,r,n)})}function Pe(e){var t=e[De];if(!t){var n=Ze(e);t=function(e,t){return et(e,t,n)},e[De]=t}return t}function Le(e){var t=function(e){var t=e.aa;return t?Pe(t):(t=e.ka)?Fe(e.X.g,t,e.ca):void 0}(e),n=e.X,r=e.fa.O;return t?function(e,a){return r(e,a,n,t)}:function(e,t){return r(e,t,n)}}function ze(e,t,n,r,a,o){var s=0;for((e=e()).length&&"number"!==typeof e[0]&&(n(t,e[0]),s++);s<e.length;){n=e[s++];for(var i=s+1;i<e.length&&"number"!==typeof e[i];)i++;var l=e[s++];switch(i-=s){case 0:r(t,n,l);break;case 1:r(t,n,l,e[s++]);break;case 2:a(t,n,l,e[s++],e[s++]);break;case 3:i=e[s++];var u=e[s++],c=e[s++];Array.isArray(c)?a(t,n,l,i,u,c):o(t,n,l,i,u,c);break;case 4:o(t,n,l,e[s++],e[s++],e[s++],e[s++]);break;default:throw Error("unexpected number of binary field arguments: "+i)}}return t}var Be=Symbol();function We(e){var t=e[Be];if(!t){var n=Ke(e);t=function(e,t){return nt(e,t,n)},e[Be]=t}return t}function Ue(e,t){var n=e[Be];return n||(n=function(e,n){return Re(e,n,t)},e[Be]=n),n}var je=Symbol();function He(e,t){e.push(t)}function Ve(e,t,n){e.push(t,n.P)}function qe(e,t,n,r,a){var o=We(a),s=n.P;e.push(t,(function(e,t,n){return s(e,t,n,r,o)}))}function Ge(e,t,n,r,a,o){var s=Ue(r,o),i=n.P;e.push(t,(function(e,t,n){return i(e,t,n,r,s)}))}function Ke(e){var t=e[je];return t||ze(e,e[je]=[],He,Ve,qe,Ge)}var $e=Symbol();function Ye(e,t){e[0]=t}function Qe(e,t,n,r){var a=n.O;e[t]=r?function(e,t,n){return a(e,t,n,r)}:a}function Xe(e,t,n,r,a,o){var s=n.O,i=Pe(a);e[t]=function(e,t,n){return s(e,t,n,r,i,o)}}function Je(e,t,n,r,a,o,s){var i=n.O,l=Fe(r,a,o);e[t]=function(e,t,n){return i(e,t,n,r,l,s)}}function Ze(e){var t=e[$e];return t||ze(e,e[$e]={},Ye,Qe,Xe,Je)}function et(e,t,n){for(;ee(t)&&4!=t.h;){var r=t.i,a=n[r];if(!a){var o=n[0];o&&(o=o[r])&&(a=n[r]=Le(o))}if((!a||!a(t,e,r))&&(r=e,o=(a=t).j,te(a),!a.W)){var s=a.g.h;a=o===(a=a.g.g)?z||(z=new Uint8Array(0)):j?s.slice(o,a):new Uint8Array(s.subarray(o,a)),(o=r.ba)?o.push(a):r.ba=[a]}}return e}function tt(e,t,n){if(ne.length){var r=ne.pop();e&&(K(r.g,e),r.i=-1,r.h=-1),e=r}else e=new Z(e);try{return et(new t,e,Ze(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ne.length&&ne.push(e)}}function nt(e,t,n){for(var r=n.length,a=1==r%2,o=a?1:0;o<r;o+=2)(0,n[o+1])(t,e,n[o]);Re(e,t,a?n[0]:void 0)}function rt(e,t){var n=new re;nt(e,n,Ke(t)),ae(n,n.g.end()),e=new Uint8Array(n.h);for(var r=(t=n.i).length,a=0,o=0;o<r;o++){var s=t[o];e.set(s,a),a+=s.length}return n.i=[e],e}function at(e,t){return{O:e,P:t}}var ot=at((function(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],a=e.h[e.g+1],o=e.h[e.g+2],s=e.h[e.g+3];return e.g+=4,$(e),e=2*((a=(r|a<<8|o<<16|s<<24)>>>0)>>31)+1,r=a>>>23&255,a&=8388607,ye(t,n,255==r?a?NaN:1/0*e:0==r?e*Math.pow(2,-149)*a:e*Math.pow(2,r-150)*(a+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=ve(t,n))){J(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?0<1/r?H=0:H=2147483648:isNaN(r)?H=2147483647:34028234663852886e22<r?H=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),H=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,H=(n<<31|t+127<<23|8388607&r)>>>0),n=H,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),st=at((function(e,t,n){if(0!==e.h)return!1;for(var r=e.g,a=128,o=0,s=e=0;4>s&&128<=a;s++)a=r.h[r.g++],$(r),o|=(127&a)<<7*s;if(128<=a&&(a=r.h[r.g++],$(r),o|=(127&a)<<28,e|=(127&a)>>4),128<=a)for(s=0;5>s&&128<=a;s++)a=r.h[r.g++],$(r),e|=(127&a)<<7*s+3;if(!(128>a))throw q();return r=o>>>0,(e=2147483648&(a=e>>>0))&&(a=~a>>>0,0==(r=1+~r>>>0)&&(a=a+1>>>0)),r=4294967296*a+(r>>>0),ye(t,n,e?-r:r),!0}),(function(e,t,n){if(null!=(t=ve(t,n))&&null!=t){J(e.g,8*n),e=e.g;var r=t;for(n=0>r,t=(r=Math.abs(r))>>>0,r=Math.floor((r-t)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++r&&(r=0))),n=H=t,t=r;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),it=at((function(e,t,n){return 0===e.h&&(ye(t,n,Y(e.g)),!0)}),(function(e,t,n){if(null!=(t=ve(t,n))&&null!=t)if(J(e.g,8*n),e=e.g,0<=(n=t))J(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),lt=at((function(e,t,n){if(2!==e.h)return!1;var r,a=Y(e.g)>>>0,o=(e=e.g).g;if(e.g+=a,$(e),e=e.h,M)(r=C)||(r=C=new TextDecoder("utf-8",{fatal:!0})),r=r.decode(e.subarray(o,o+a));else{a=o+a;for(var s,i,l,u=[],c=null;o<a;)128>(s=e[o++])?u.push(s):224>s?o>=a?T():(i=e[o++],194>s||128!==(192&i)?(o--,T()):u.push((31&s)<<6|63&i)):240>s?o>=a-1?T():128!==(192&(i=e[o++]))||224===s&&160>i||237===s&&160<=i||128!==(192&(r=e[o++]))?(o--,T()):u.push((15&s)<<12|(63&i)<<6|63&r):244>=s?o>=a-2?T():128!==(192&(i=e[o++]))||0!==i-144+(s<<28)>>30||128!==(192&(r=e[o++]))||128!==(192&(l=e[o++]))?(o--,T()):(s=(7&s)<<18|(63&i)<<12|(63&r)<<6|63&l,s-=65536,u.push(55296+(s>>10&1023),56320+(1023&s))):T(),8192<=u.length&&(c=N(c,u),u.length=0);r=N(c,u)}return ye(t,n,r),!0}),(function(e,t,n){if(null!=(t=ve(t,n))){var r=!1;if(r=void 0!==r&&r,O){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(A||(A=new TextEncoder)).encode(t)}else{for(var a=0,o=new Uint8Array(3*t.length),s=0;s<t.length;s++){var i=t.charCodeAt(s);if(128>i)o[a++]=i;else{if(2048>i)o[a++]=i>>6|192;else{if(55296<=i&&57343>=i){if(56319>=i&&s<t.length){var l=t.charCodeAt(++s);if(56320<=l&&57343>=l){i=1024*(i-55296)+l-56320+65536,o[a++]=i>>18|240,o[a++]=i>>12&63|128,o[a++]=i>>6&63|128,o[a++]=63&i|128;continue}s--}if(r)throw Error("Found an unpaired surrogate");i=65533}o[a++]=i>>12|224,o[a++]=i>>6&63|128}o[a++]=63&i|128}}t=o.subarray(0,a)}J(e.g,8*n+2),J(e.g,t.length),ae(e,e.g.end()),ae(e,t)}})),ut=at((function(e,t,n,r,a){if(2!==e.h)return!1;t=Se(t,n,r),n=e.g.i,r=Y(e.g)>>>0;var o=e.g.g+r,s=o-n;if(0>=s&&(e.g.i=o,a(t,e),s=o-e.g.g),s)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-s)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0}),(function(e,t,n,r,a){if(null!=(t=ke(t,r,n)))for(r=0;r<t.length;r++){var o=e;J(o.g,8*n+2);var s=o.g.end();ae(o,s),s.push(o.h),o=s,a(t[r],e),s=e;var i=o.pop();for(i=s.h+s.g.length()-i;127<i;)o.push(127&i|128),i>>>=7,s.h++;o.push(i),s.h++}}));function ct(){Me.apply(this,arguments)}if(f(ct,Me),me){var dt={};Object.defineProperties(ct,(dt[Symbol.hasInstance]=ge(Object[Symbol.hasInstance]),dt))}function pt(e){ct.call(this,e)}function ht(){return[1,it,2,ot,3,lt,4,lt]}function ft(e){ct.call(this,e,-1,gt)}function mt(){return[1,ut,pt,ht]}f(pt,ct),f(ft,ct),ft.prototype.addClassification=function(e,t){return Se(this,1,pt,e,t),this};var gt=[1];function vt(e){ct.call(this,e)}function yt(){return[1,ot,2,ot,3,ot,4,ot,5,ot]}function bt(e){ct.call(this,e,-1,kt)}function wt(){return[1,ut,vt,yt]}f(vt,ct),f(bt,ct);var kt=[1];function St(e){ct.call(this,e)}function xt(){return[1,ot,2,ot,3,ot,4,ot,5,ot,6,st]}f(St,ct);var _t=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],It=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Et=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Tt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Nt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ct=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],At=[].concat(l(_t),l(It),l(Et),l(Tt),l(Nt),l(Ct));function Mt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ot(e){return ke(e,pt,1).map((function(e){return{index:xe(e,1),ga:we(e,2),label:null!=ve(e,3)?_e(e,3):void 0,displayName:null!=ve(e,4)?_e(e,4):void 0}}))}function Rt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ve(e,4)?we(e,4):void 0}}function Dt(e,t){this.h=e,this.g=t,this.l=0}function Ft(e,t,n){return function(e,t){var n=e.g;if(void 0===e.o){var r=Mt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),a=Mt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.o=o,n.useProgram(r),a=n.getUniformLocation(r,"sampler0"),e.j={K:n.getAttribLocation(r,"aVertex"),J:n.getAttribLocation(r,"aTex"),ma:a},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(a,0)}r=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.K),n.disableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"===typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function Pt(e){this.g=e}var Lt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function zt(e,t){return t+e}function Bt(e,t){window[e]=t}function Wt(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||zt,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=t,e.options)for(var n=(t=i(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.j[n]="function"===typeof r?r():r)}}function Ut(e){var t,n,r,a,o,s,i,u,c,d,p;return x((function(h){switch(h.g){case 1:return e.Z?(t=void 0===e.g.files?[]:"function"===typeof e.g.files?e.g.files(e.j):e.g.files,y(h,x((function(e){switch(e.g){case 1:return e.o=2,y(e,WebAssembly.instantiate(Lt),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(n=h.h,"object"===typeof window)return Bt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),Bt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),s=t.filter((function(e){return void 0!==e.data})),i=t.filter((function(e){return void 0===e.data})),u=Promise.all(s.map((function(t){var n=jt(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then((function(t){return e.overrideFile(r,t),Promise.resolve(t)}))}return n}))),c=Promise.all(i.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.$)):Promise.resolve()}))).then((function(){var t,n,r;return x((function(a){if(1==a.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,y(a,t(n),2);r.h=a.h,a.g=0}))})),d=x((function(t){return e.g.graph&&e.g.graph.url?t=y(t,jt(e,e.g.graph.url),0):(t.g=0,t=void 0),t})),y(h,Promise.all([c,u,d]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.$)})),importScripts.apply(null,l(r)),a=e,y(h,createMediapipeSolutionsWasm(Module),6);case 6:a.h=h.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,o=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(o),h.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(p=e.l.getContext("webgl2",{}))&&!(p=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();e.G=p,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,h.g=0}}))}function jt(e,t){var n,r;return x((function(a){return t in e.H?a.return(e.H[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=r,a.return(r))}))}function Ht(e,t,n){var r,a,o,s,l,u,c,d,p,h,f,m,g,v;return x((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},a=0,o=i(Object.keys(n)),s=o.next();!s.done;s=o.next())l=s.value,"string"!==typeof(u=n[l])&&"texture"===u.type&&void 0!==t[u.stream]&&++a;1<a&&(e.I=!1),c=i(Object.keys(n)),s=c.next();case 2:if(s.done){b.g=4;break}if(d=s.value,"string"===typeof(p=n[d]))return g=r,v=d,y(b,function(e,t,n){var r;return x((function(a){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?a.return(n):n instanceof e.h.Texture2dDataOut?((r=e.u[t])||(r=new Dt(e.h,e.G),e.u[t]=r),a.return(Ft(r,n,e.I))):a.return(void 0)}))}(e,d,t[p]),14);if(h=t[p.stream],"detection_list"===p.type){if(h){for(var w=h.getRectList(),k=h.getLandmarksList(),S=h.getClassificationsList(),_=[],I=0;I<w.size();++I){var E=tt(w.get(I),St,xt);E={boundingBox:{xCenter:we(E,1),yCenter:we(E,2),height:we(E,3),width:we(E,4),rotation:we(E,5,0),rectId:xe(E,6)},landmarks:ke(tt(k.get(I),bt,wt),vt,1).map(Rt),V:Ot(tt(S.get(I),ft,mt))},_.push(E)}w=_}else w=[];r[d]=w,b.g=7;break}if("proto_list"===p.type){if(h){for(w=Array(h.size()),k=0;k<h.size();k++)w[k]=h.get(k);h.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===h){b.g=3;break}if("float_list"===p.type){r[d]=h,b.g=7;break}if("proto"===p.type){r[d]=h,b.g=7;break}if("texture"!==p.type)throw Error("Unknown output config type: '"+p.type+"'");return(f=e.u[d])||(f=new Dt(e.h,e.G),e.u[d]=f),y(b,Ft(f,h,e.I),13);case 13:m=b.h,r[d]=m;case 7:p.transform&&r[d]&&(r[d]=p.transform(r[d])),b.g=3;break;case 14:g[v]=b.h;case 3:s=c.next(),b.g=2;break;case 4:return b.return(r)}}))}function Vt(e,t){for(var n=t.name||"$",r=[].concat(l(t.wants)),a=new e.h.StringList,o=i(t.wants),s=o.next();!s.done;s=o.next())a.push_back(s.value);o=e.h.PacketListener.implement({onResults:function(a){for(var o={},s=0;s<t.wants.length;++s)o[r[s]]=a.get(s);var i=e.listeners[n];i&&(e.D=Ht(e,o,t.outs).then((function(n){n=i(n);for(var a=0;a<t.wants.length;++a){var s=o[r[a]];"object"===typeof s&&s.hasOwnProperty&&s.hasOwnProperty("delete")&&s.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(a,o),a.delete()}function qt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},r={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Wt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var a,o,s,l,u;return x((function(c){switch(c.g){case 1:a=i("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),o=a.next();case 2:if(o.done){c.g=4;break}return s=o.value,l="third_party/mediapipe/modules/face_detection/"+s,y(c,jt(t.g,s),5);case 5:u=c.h,t.g.overrideFile(l,u),o=a.next(),c.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",r.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",c.return(!0)}}))}},minDetectionConfidence:r}})}(e=Wt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return x((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],a=[],o={},s=i(Object.keys(e)),l=s.next();!l.done;o={R:o.R,S:o.S},l=s.next()){var u=l.value;u in this.j&&this.j[u]===e[u]||(this.j[u]=e[u],void 0!==(l=t[u])&&(l.onChange&&(o.R=l.onChange,o.S=e[u],r.push(function(e){return function(){return x((function(t){if(1==t.g)return y(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(o))),l.graphOptionXref&&(u={valueNumber:1===l.type?e[u]:0,valueBoolean:0===l.type&&e[u],valueString:2===l.type?e[u]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),u),a.push(l))))}0===r.length&&0===a.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(a),this.A=(void 0===this.A?[]:this.A).concat(r))}},e.initialize=function(){var e=this;return x((function(t){return 1==t.g?y(t,Ut(e),2):3!=t.g?y(t,function(e){var t,n,r,a,o,s,l,u;return x((function(c){if(1==c.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?c.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,y(c,jt(e,e.g.graph.url),3)):void(c.g=2));for(2!=c.g&&(t=c.h,e.i.loadGraph(t)),n=i(Object.keys(e.C)),r=n.next();!r.done;r=n.next())a=r.value,e.i.overrideFile(a,e.C[a]);if(e.C={},e.g.listeners)for(o=i(e.g.listeners),s=o.next();!s.done;s=o.next())l=s.value,Vt(e,l);u=e.j,e.j={},e.setOptions(u),c.g=0}))}(e),3):y(t,function(e){var t,n,r,a,o,s;return x((function(l){switch(l.g){case 1:if(!e.s)return l.return();if(!e.A){l.g=2;break}t=i(e.A),n=t.next();case 3:if(n.done){l.g=5;break}return y(l,(0,n.value)(),4);case 4:n=t.next(),l.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(r=new e.h.GraphOptionChangeRequestList,a=i(e.B),o=a.next();!o.done;o=a.next())s=o.value,r.push_back(s);e.i.changeOptions(r),r.delete(),e.B=void 0}e.s=!1,l.g=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,r,a,o,s,l,u,c,d,p=this;return x((function(h){switch(h.g){case 1:return p.g.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),y(h,p.D,2)):h.return();case 2:return y(h,p.initialize(),3);case 3:for(r=new p.h.PacketDataList,a=i(Object.keys(e)),o=a.next();!o.done;o=a.next())if(s=o.value,l=p.g.inputs[s]){e:{var f=e[s];switch(l.type){case"video":var m=p.o[l.stream];if(m||(m=new Dt(p.h,p.G),p.o[l.stream]=m),0===m.l&&(m.l=m.h.createTexture()),"undefined"!==typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var g=f.videoWidth,v=f.videoHeight;else"undefined"!==typeof HTMLImageElement&&f instanceof HTMLImageElement?(g=f.naturalWidth,v=f.naturalHeight):(g=f.width,v=f.height);v={glName:m.l,width:g,height:v},(g=m.g).canvas.width=v.width,g.canvas.height=v.height,g.activeTexture(g.TEXTURE0),m.h.bindTexture2d(m.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f),m.h.bindTexture2d(0),m=v;break e;case"detections":for((m=p.o[l.stream])||(m=new Pt(p.h),p.o[l.stream]=m),m.data||(m.data=new m.g.DetectionListData),m.data.reset(f.length),v=0;v<f.length;++v){g=f[v];var b=m.data,w=b.setBoundingBox,k=v,S=g.boundingBox,x=new St;if(ye(x,1,S.xCenter),ye(x,2,S.yCenter),ye(x,3,S.height),ye(x,4,S.width),ye(x,5,S.rotation),ye(x,6,S.rectId),S=rt(x,xt),w.call(b,k,S),g.landmarks)for(b=0;b<g.landmarks.length;++b){var _=!!(x=g.landmarks[b]).visibility;k=(w=m.data).addNormalizedLandmark,S=v,x=Object.assign(Object.assign({},x),{visibility:_?x.visibility:0}),ye(_=new vt,1,x.x),ye(_,2,x.y),ye(_,3,x.z),x.visibility&&ye(_,4,x.visibility),x=rt(_,yt),k.call(w,S,x)}if(g.V)for(b=0;b<g.V.length;++b)k=(w=m.data).addClassification,S=v,x=g.V[b],ye(_=new pt,2,x.ga),x.index&&ye(_,1,x.index),x.label&&ye(_,3,x.label),x.displayName&&ye(_,4,x.displayName),x=rt(_,ht),k.call(w,S,x)}m=m.data;break e;default:m={}}}switch(u=m,c=l.stream,l.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},u),{stream:c,timestamp:n}));break;case"detections":(d=u).stream=c,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return p.i.send(r),y(h,p.D,4);case 4:r.delete(),h.g=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},E("Solution",Wt),E("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=qt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return x((function(t){return y(t,e.g.initialize(),0)}))},e.reset=function(){this.g.reset()},e.send=function(e){var t=this;return x((function(n){return y(n,t.g.send(e),0)}))},e.setOptions=function(e){this.g.setOptions(e)},E("FaceDetection",qt),E("FACEDETECTION_LIPS",_t),E("FACEDETECTION_LEFT_EYE",It),E("FACEDETECTION_LEFT_EYEBROW",Et),E("FACEDETECTION_RIGHT_EYE",Tt),E("FACEDETECTION_RIGHT_EYEBROW",Nt),E("FACEDETECTION_FACE_OVAL",Ct),E("FACEDETECTION_CONTOURS",At),E("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),E("VERSION","0.4.1646425229")}).call(this)},3272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(6270),a=n(20),o=n(2465),s=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,a.isEmptyData)(e)||this.crc32.update((0,a.convertToBuffer)(e))},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,(0,a.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new o.Crc32},e}();t.AwsCrc32=s},2465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(6270),a=n(20);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var a=r.__values(e),o=a.next();!o.done;o=a.next()){var i=o.value;this.checksum=this.checksum>>>8^s[255&(this.checksum^i)]}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var s=(0,a.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),i=n(3272);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return i.AwsCrc32}})},6270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>k,__await:()=>y,__awaiter:()=>c,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>E,__createBinding:()=>p,__decorate:()=>i,__exportStar:()=>h,__extends:()=>a,__generator:()=>d,__importDefault:()=>_,__importStar:()=>x,__makeTemplateObject:()=>S,__metadata:()=>u,__param:()=>l,__read:()=>m,__rest:()=>s,__spread:()=>g,__spreadArrays:()=>v,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function i(e,t,n,r){var a,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(o<3?a(s):o>3?a(t,n,s):a(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(a,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function i(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)r[a]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||i(e,t)}))})}function i(e,t){try{(n=a[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(e){i("next",e)}function u(e){i("throw",e)}function c(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,a,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5848:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(7143),a="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?a(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},20:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(5848);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var a=n(9261);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var o=n(2253);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(1254);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},9261:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},2253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1254:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},2495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(723),a=n(2361),o=n(5774),s=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,a.isEmptyData)(e)||this.crc32.update((0,a.convertToBuffer)(e))},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,(0,a.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new o.Crc32},e}();t.AwsCrc32=s},5774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(723),a=n(2361);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var a=r.__values(e),o=a.next();!o.done;o=a.next()){var i=o.value;this.checksum=this.checksum>>>8^s[255&(this.checksum^i)]}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var s=(0,a.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),i=n(2495);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return i.AwsCrc32}})},723:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>k,__await:()=>y,__awaiter:()=>c,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>E,__createBinding:()=>p,__decorate:()=>i,__exportStar:()=>h,__extends:()=>a,__generator:()=>d,__importDefault:()=>_,__importStar:()=>x,__makeTemplateObject:()=>S,__metadata:()=>u,__param:()=>l,__read:()=>m,__rest:()=>s,__spread:()=>g,__spreadArrays:()=>v,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function i(e,t,n,r){var a,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(o<3?a(s):o>3?a(t,n,s):a(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(a,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function i(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)r[a]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||i(e,t)}))})}function i(e,t){try{(n=a[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(e){i("next",e)}function u(e){i("throw",e)}function c(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,a,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(7143),a="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?a(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},2361:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1845);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var a=n(6496);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var o=n(3198);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(1707);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},6496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},3198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1707:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},9764:(e,t,n)=>{var r=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){function r(){return M.buffer!=P&&q(M.buffer),L}function a(){return M.buffer!=P&&q(M.buffer),z}function o(){return M.buffer!=P&&q(M.buffer),B}function s(){return M.buffer!=P&&q(M.buffer),W}function i(){return M.buffer!=P&&q(M.buffer),U}var l,u,c,d="undefined"!=typeof(t=t||{})?t:{};d.ready=new Promise((function(e,t){l=e,u=t})),"undefined"!==typeof process&&process.listeners&&(c={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var p,h,f,m=Object.assign({},d),g=[],v=(e,t)=>{throw t},y="object"==typeof window,b="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=d.ENVIRONMENT_IS_PTHREAD||!1,S="";function x(e){return d.locateFile?d.locateFile(e,S):S+e}if(w){var _=n(9893),I=n(5281);let e;S=b?I.dirname(S)+"/":"//",p=(e,t)=>(e=oe(e)?new URL(e):I.normalize(e),_.readFileSync(e,t?void 0:"utf8")),f=e=>{var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),t},h=(e,t,n)=>{e=oe(e)?new URL(e):I.normalize(e),_.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),g=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof le))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(X())throw process.exitCode=e,t;!function(e){if(e instanceof le)return;C("exiting due to exception: "+e)}(t),process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{e=n(3556)}catch(Ye){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Ye}n.g.Worker=e.Worker}else(y||b)&&(b?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),"undefined"!==typeof e&&e&&(S=e),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),e=>document.title=e);w&&"undefined"==typeof performance&&(n.g.performance=n(7244).performance);var E=console.log.bind(console),T=console.warn.bind(console);w&&(E=e=>_.writeSync(1,e+"\n"),T=e=>_.writeSync(2,e+"\n"));var N=d.print||E,C=d.printErr||T;Object.assign(d,m),m=null,d.arguments&&(g=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&(v=d.quit);var A;Atomics.load,Atomics.store,Atomics.compareExchange;d.wasmBinary&&(A=d.wasmBinary);var M,O,R=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var D,F=!1;var P,L,z,B,W,U,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function H(e,t,n){for(var r=(t>>>=0)+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&j)return j.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,a):e.subarray(t,a));for(var o="";t<a;){var s=e[t++];if(128&s){var i=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|i<<6|l:(7&s)<<18|i<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|i)}else o+=String.fromCharCode(s)}return o}function V(e,t){return(e>>>=0)?H(a(),e,t):""}function q(e){P=e,d.HEAP8=L=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAP32=B=new Int32Array(e),d.HEAPU8=z=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAPU32=W=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=U=new Float64Array(e)}k&&(P=d.buffer);var G,K=d.INITIAL_MEMORY||16777216;if(k)M=d.wasmMemory,P=d.buffer;else if(d.wasmMemory)M=d.wasmMemory;else if(!((M=new WebAssembly.Memory({initial:K/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&C("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");M&&(P=M.buffer),K=P.byteLength,q(P);var $=[],Y=[],Q=[];function X(){return R}function J(){k||fe(Y)}var Z=0,ee=null,te=null;function ne(e){d.onAbort&&d.onAbort(e),C(e="Aborted("+e+")"),F=!0,D=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}var re;function ae(e){return e.startsWith("data:application/octet-stream;base64,")}function oe(e){return e.startsWith("file://")}function se(e){try{if(e==re&&A)return new Uint8Array(A);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(C){ne(C)}}ae(re="tfjs-backend-wasm-threaded-simd.wasm")||(re=x(re));var ie={};function le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ue(e){var t,n=he.pthreads[e];n||ne(t),he.returnWorkerToPool(n)}function ce(e){var t=he.getNewWorker();if(!t)return 6;he.runningWorkers.push(t),he.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{w&&t.ref(),t.postMessage(n,e.transferList),delete t.runPthread},t.loaded&&t.runPthread(),0}function de(e){if(k)return Se(1,1,e);D=e,X()||(he.terminateAllThreads(),d.onExit&&d.onExit(e),F=!0),v(e,new le(e))}var pe=function(e,t){if(D=e,!t&&k)throw me(e),"unwind";de(e)};var he={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){k?he.initWorker():he.initMainThread()},initMainThread:function(){for(var e=8;e--;)he.allocateUnusedWorker()},initWorker:function(){R=!1},setExitStatus:function(e){D=e},terminateAllThreads:function(){for(var e of Object.values(he.pthreads))he.returnWorkerToPool(e);for(var e of he.unusedWorkers)e.terminate();he.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete he.pthreads[t],he.unusedWorkers.push(e),he.runningWorkers.splice(he.runningWorkers.indexOf(e),1),e.pthread_ptr=0,w&&e.unref(),Ue(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){he.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:function(t,n){t.onmessage=e=>{var r,a=e.data,o=a.cmd;if(t.pthread_ptr&&(he.currentProxiedOperationCallerThread=t.pthread_ptr),a.targetThread&&a.targetThread!=Le()){var s=he.pthreads[a.targetThread];return s?s.postMessage(a,a.transferList):C('Internal error! Worker sent a message "'+o+'" to target pthread '+a.targetThread+", but that thread no longer exists!"),void(he.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===o?we(a.queue):"spawnThread"===o?ce(a):"cleanupThread"===o?ue(a.thread):"killThread"===o?function(e){var t=he.pthreads[e];delete he.pthreads[e],t.terminate(),Ue(e),he.runningWorkers.splice(he.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(a.thread):"cancelThread"===o?(r=a.thread,he.pthreads[r].postMessage({cmd:"cancel"})):"loaded"===o?(t.loaded=!0,w&&t.unref(),n&&n(t),t.runPthread&&t.runPthread()):"print"===o?N("Thread "+a.threadId+": "+a.text):"printErr"===o?C("Thread "+a.threadId+": "+a.text):"alert"===o?alert("Thread "+a.threadId+": "+a.text):"setimmediate"===a.target?t.postMessage(a):"callHandler"===o?d[a.handler](...a.args):o&&C("worker sent an unknown command "+o),he.currentProxiedOperationCallerThread=void 0},t.onerror=e=>{throw C("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){})));var r=[];for(var a of["onExit","onAbort","print","printErr"])d.hasOwnProperty(a)&&r.push(a);t.postMessage({cmd:"load",handlers:r,urlOrBlob:d.mainScriptUrlOrBlob||e,wasmMemory:M,wasmModule:O})},allocateUnusedWorker:function(){var e,t=x("tfjs-backend-wasm-threaded-simd.worker.js");e=new Worker(t),he.unusedWorkers.push(e)},getNewWorker:function(){return 0==he.unusedWorkers.length&&(he.allocateUnusedWorker(),he.loadWasmModuleToWorker(he.unusedWorkers[0])),he.unusedWorkers.pop()}};function fe(e){for(;e.length>0;)e.shift()(d)}function me(e){if(k)return Se(2,0,e);try{pe(e)}catch(Ye){!function(e){if(e instanceof le||"unwind"==e)return D;v(1,e)}(Ye)}}d.PThread=he,d.establishStackSpace=function(){var e=Le(),t=o()[e+52>>>2],n=o()[e+56>>>2];He(t,t-n),qe(t)};var ge=[];function ve(e,t,n,r){return k?Se(3,1,e,t,n,r):ye(e,t,n,r)}function ye(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(k&&0===a.length)return ve(e,t,n,r);var o={startRoutine:n,pthread_ptr:e,arg:r,transferList:a};return k?(o.cmd="spawnThread",postMessage(o,a),0):ce(o)}d.invokeEntryPoint=function(e,t){var n=function(e){var t=ge[e];return t||(e>=ge.length&&(ge.length=e+1),ge[e]=t=G.get(e)),t}(e)(t);X()?he.setExitStatus(n):je(n)};var be;function we(e){Atomics.store(o(),e>>2,1),Le()&&We(e),Atomics.compareExchange(o(),e>>2,1,0)}function ke(e){ke.shown||(ke.shown={}),ke.shown[e]||(ke.shown[e]=1,w&&(e="warning: "+e),C(e))}function Se(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=Ve(),n=e();return qe(t),n}((()=>{for(var a=n,o=Ge(8*a),s=o>>3,l=0;l<n;l++){var u=r[2+l];i()[s+l>>>0]=u}return Be(e,a,o,t)}))}d.executeNotifiedProxyingQueue=we,be=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var xe=[];function _e(e){try{return M.grow(e-P.byteLength+65535>>>16),q(M.buffer),1}catch(Ye){}}function Ie(e){return k?Se(4,1,e):52}function Ee(e,t,n,r,a){return k?Se(5,1,e,t,n,r,a):70}var Te=[null,[],[]];function Ne(e,t){var n=Te[e];0===t||10===t?((1===e?N:C)(H(n,0)),n.length=0):n.push(t)}function Ce(e,t,n,r){if(k)return Se(6,1,e,t,n,r);for(var o=0,i=0;i<n;i++){var l=s()[t>>>2],u=s()[t+4>>>2];t+=8;for(var c=0;c<u;c++)Ne(e,a()[l+c>>>0]);o+=u}return s()[r>>>2]=o,0}function Ae(e){return d["_"+e]}function Me(e,t,n,o,s){var i={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n>>>=0,o=n+r-1,s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++s)),i<=127){if(n>=o)break;t[n++>>>0]=i}else if(i<=2047){if(n+1>=o)break;t[n++>>>0]=192|i>>6,t[n++>>>0]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++>>>0]=224|i>>12,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}else{if(n+3>=o)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}}t[n>>>0]=0})(e,a(),t,n)})(e,t=Ge(n),n)}return t},array:e=>{var t=Ge(e.length);return function(e,t){r().set(e,t>>>0)}(e,t),t}};var l=Ae(e),u=[],c=0;if(o)for(var d=0;d<o.length;d++){var p=i[n[d]];p?(0===c&&(c=Ve()),u[d]=p(o[d])):u[d]=o[d]}var h=l.apply(null,u);return h=function(e){return 0!==c&&qe(c),function(e){return"string"===t?V(e):"boolean"===t?Boolean(e):e}(e)}(h)}he.init();var Oe,Re,De,Fe=[null,de,me,ve,Ie,Ee,Ce],Pe={__emscripten_init_main_thread_js:function(e){ze(e,!b,1,!y),he.threadInitTLS()},__emscripten_thread_cleanup:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):ue(e)},__pthread_create_js:ye,_emscripten_default_pthread_stack_size:function(){return 65536},_emscripten_get_now_is_monotonic:function(){return true},_emscripten_notify_task_queue:function(e,t,n,r){if(e==t)setTimeout((()=>we(r)));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{var a=he.pthreads[e];if(!a)return;a.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},_emscripten_set_offscreencanvas_size:function(e,t,n){return-1},abort:function(){ne("")},emscripten_check_blocking_allowed:function(){w||b||ke("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:be,emscripten_memcpy_big:function(e,t,n){a().copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_num_logical_cores:function(){return w?n(8074).cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){xe.length=t;for(var r=n>>3,a=0;a<t;a++)xe[a]=i()[r+a>>>0];return(e<0?ie[-e-1]:Fe[e]).apply(null,xe)},emscripten_resize_heap:function(e){var t=a().length;if((e>>>=0)<=t)return!1;var n,r,o=4294901760;if(e>o)return!1;for(var s=1;s<=4;s*=2){var i=t*(1+.2/s);if(i=Math.min(i,e+100663296),_e(Math.min(o,(n=Math.max(e,i))+((r=65536)-n%r)%r)))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:pe,fd_close:Ie,fd_seek:Ee,fd_write:Ce,memory:M||d.wasmMemory},Le=(function(){var e={env:Pe,wasi_snapshot_preview1:Pe};function t(e,t){var n,r,a=e.exports;if(d.asm=a,n=d.asm._emscripten_tls_init,he.tlsInitFunctions.push(n),G=d.asm.__indirect_function_table,r=d.asm.__wasm_call_ctors,Y.unshift(r),O=t,!k){var o=he.unusedWorkers.length;he.unusedWorkers.forEach((function(e){he.loadWasmModuleToWorker(e,(function(){--o||function(){if(Z--,d.monitorRunDependencies&&d.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te)){var e=te;te=null,e()}}()}))}))}}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!A&&(y||b)){if("function"==typeof fetch&&!oe(re))return fetch(re,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+re+"'";return e.arrayBuffer()})).catch((function(){return se(re)}));if(h)return new Promise((function(e,t){h(re,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se(re)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){C("failed to asynchronously prepare wasm: "+e),ne(e)}))}if(k||(Z++,d.monitorRunDependencies&&d.monitorRunDependencies(Z)),d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(Ye){C("Module.instantiateWasm callback failed with error: "+Ye),u(Ye)}(A||"function"!=typeof WebAssembly.instantiateStreaming||ae(re)||oe(re)||w||"function"!=typeof fetch?r(n):fetch(re,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(u)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.__wasm_call_ctors).apply(null,arguments)},d._init=function(){return(d._init=d.asm.init).apply(null,arguments)},d._init_with_threads_count=function(){return(d._init_with_threads_count=d.asm.init_with_threads_count).apply(null,arguments)},d._get_threads_count=function(){return(d._get_threads_count=d.asm.get_threads_count).apply(null,arguments)},d._register_tensor=function(){return(d._register_tensor=d.asm.register_tensor).apply(null,arguments)},d._dispose_data=function(){return(d._dispose_data=d.asm.dispose_data).apply(null,arguments)},d._dispose=function(){return(d._dispose=d.asm.dispose).apply(null,arguments)},d._Abs=function(){return(d._Abs=d.asm.Abs).apply(null,arguments)},d._Acos=function(){return(d._Acos=d.asm.Acos).apply(null,arguments)},d._Acosh=function(){return(d._Acosh=d.asm.Acosh).apply(null,arguments)},d._Add=function(){return(d._Add=d.asm.Add).apply(null,arguments)},d._AddN=function(){return(d._AddN=d.asm.AddN).apply(null,arguments)},d._All=function(){return(d._All=d.asm.All).apply(null,arguments)},d._Any=function(){return(d._Any=d.asm.Any).apply(null,arguments)},d._ArgMax=function(){return(d._ArgMax=d.asm.ArgMax).apply(null,arguments)},d._ArgMin=function(){return(d._ArgMin=d.asm.ArgMin).apply(null,arguments)},d._Asin=function(){return(d._Asin=d.asm.Asin).apply(null,arguments)},d._Asinh=function(){return(d._Asinh=d.asm.Asinh).apply(null,arguments)},d._Atan=function(){return(d._Atan=d.asm.Atan).apply(null,arguments)},d._Atan2=function(){return(d._Atan2=d.asm.Atan2).apply(null,arguments)},d._Atanh=function(){return(d._Atanh=d.asm.Atanh).apply(null,arguments)},d._AvgPool=function(){return(d._AvgPool=d.asm.AvgPool).apply(null,arguments)},d._AvgPool3D=function(){return(d._AvgPool3D=d.asm.AvgPool3D).apply(null,arguments)},d._AvgPool3DGrad=function(){return(d._AvgPool3DGrad=d.asm.AvgPool3DGrad).apply(null,arguments)},d._AvgPoolGrad=function(){return(d._AvgPoolGrad=d.asm.AvgPoolGrad).apply(null,arguments)},d._BatchMatMul=function(){return(d._BatchMatMul=d.asm.BatchMatMul).apply(null,arguments)},d._Bincount=function(){return(d._Bincount=d.asm.Bincount).apply(null,arguments)},d._BitwiseAnd=function(){return(d._BitwiseAnd=d.asm.BitwiseAnd).apply(null,arguments)},d._Ceil=function(){return(d._Ceil=d.asm.Ceil).apply(null,arguments)},d._ClipByValue=function(){return(d._ClipByValue=d.asm.ClipByValue).apply(null,arguments)},d._Conv2D=function(){return(d._Conv2D=d.asm.Conv2D).apply(null,arguments)},d._Conv2DBackpropInput=function(){return(d._Conv2DBackpropInput=d.asm.Conv2DBackpropInput).apply(null,arguments)},d._Conv3D=function(){return(d._Conv3D=d.asm.Conv3D).apply(null,arguments)},d._Conv3DBackpropFilterV2=function(){return(d._Conv3DBackpropFilterV2=d.asm.Conv3DBackpropFilterV2).apply(null,arguments)},d._Conv3DBackpropInputV2=function(){return(d._Conv3DBackpropInputV2=d.asm.Conv3DBackpropInputV2).apply(null,arguments)},d._Cos=function(){return(d._Cos=d.asm.Cos).apply(null,arguments)},d._Cosh=function(){return(d._Cosh=d.asm.Cosh).apply(null,arguments)},d._CropAndResize=function(){return(d._CropAndResize=d.asm.CropAndResize).apply(null,arguments)},d._Cumprod=function(){return(d._Cumprod=d.asm.Cumprod).apply(null,arguments)},d._Cumsum=function(){return(d._Cumsum=d.asm.Cumsum).apply(null,arguments)},d._DenseBincount=function(){return(d._DenseBincount=d.asm.DenseBincount).apply(null,arguments)},d._DepthToSpace=function(){return(d._DepthToSpace=d.asm.DepthToSpace).apply(null,arguments)},d._DepthwiseConv2dNative=function(){return(d._DepthwiseConv2dNative=d.asm.DepthwiseConv2dNative).apply(null,arguments)},d._Diag=function(){return(d._Diag=d.asm.Diag).apply(null,arguments)},d._Dilation2D=function(){return(d._Dilation2D=d.asm.Dilation2D).apply(null,arguments)},d._Dilation2DBackpropFilter=function(){return(d._Dilation2DBackpropFilter=d.asm.Dilation2DBackpropFilter).apply(null,arguments)},d._Dilation2DBackpropInput=function(){return(d._Dilation2DBackpropInput=d.asm.Dilation2DBackpropInput).apply(null,arguments)},d._Elu=function(){return(d._Elu=d.asm.Elu).apply(null,arguments)},d._EluGrad=function(){return(d._EluGrad=d.asm.EluGrad).apply(null,arguments)},d._Equal=function(){return(d._Equal=d.asm.Equal).apply(null,arguments)},d._Erf=function(){return(d._Erf=d.asm.Erf).apply(null,arguments)},d._Exp=function(){return(d._Exp=d.asm.Exp).apply(null,arguments)},d._Expm1=function(){return(d._Expm1=d.asm.Expm1).apply(null,arguments)},d._FlipLeftRight=function(){return(d._FlipLeftRight=d.asm.FlipLeftRight).apply(null,arguments)},d._Floor=function(){return(d._Floor=d.asm.Floor).apply(null,arguments)},d._FloorDiv=function(){return(d._FloorDiv=d.asm.FloorDiv).apply(null,arguments)},d._FusedBatchNorm=function(){return(d._FusedBatchNorm=d.asm.FusedBatchNorm).apply(null,arguments)},d._FusedConv2D=function(){return(d._FusedConv2D=d.asm.FusedConv2D).apply(null,arguments)},d._FusedDepthwiseConv2D=function(){return(d._FusedDepthwiseConv2D=d.asm.FusedDepthwiseConv2D).apply(null,arguments)},d._Gather=function(){return(d._Gather=d.asm.Gather).apply(null,arguments)},d._GatherNd=function(){return(d._GatherNd=d.asm.GatherNd).apply(null,arguments)},d._Greater=function(){return(d._Greater=d.asm.Greater).apply(null,arguments)},d._GreaterEqual=function(){return(d._GreaterEqual=d.asm.GreaterEqual).apply(null,arguments)},d._IsFinite=function(){return(d._IsFinite=d.asm.IsFinite).apply(null,arguments)},d._IsInf=function(){return(d._IsInf=d.asm.IsInf).apply(null,arguments)},d._IsNan=function(){return(d._IsNan=d.asm.IsNan).apply(null,arguments)},d._LRN=function(){return(d._LRN=d.asm.LRN).apply(null,arguments)},d._LRNGrad=function(){return(d._LRNGrad=d.asm.LRNGrad).apply(null,arguments)},d._LeakyRelu=function(){return(d._LeakyRelu=d.asm.LeakyRelu).apply(null,arguments)},d._Less=function(){return(d._Less=d.asm.Less).apply(null,arguments)},d._LessEqual=function(){return(d._LessEqual=d.asm.LessEqual).apply(null,arguments)},d._LinSpace=function(){return(d._LinSpace=d.asm.LinSpace).apply(null,arguments)},d._Log=function(){return(d._Log=d.asm.Log).apply(null,arguments)},d._Log1p=function(){return(d._Log1p=d.asm.Log1p).apply(null,arguments)},d._LogicalAnd=function(){return(d._LogicalAnd=d.asm.LogicalAnd).apply(null,arguments)},d._LogicalNot=function(){return(d._LogicalNot=d.asm.LogicalNot).apply(null,arguments)},d._LogicalOr=function(){return(d._LogicalOr=d.asm.LogicalOr).apply(null,arguments)},d._LogicalXor=function(){return(d._LogicalXor=d.asm.LogicalXor).apply(null,arguments)},d._Max=function(){return(d._Max=d.asm.Max).apply(null,arguments)},d._MaxPool=function(){return(d._MaxPool=d.asm.MaxPool).apply(null,arguments)},d._MaxPool3D=function(){return(d._MaxPool3D=d.asm.MaxPool3D).apply(null,arguments)},d._MaxPool3DGrad=function(){return(d._MaxPool3DGrad=d.asm.MaxPool3DGrad).apply(null,arguments)},d._MaxPoolGrad=function(){return(d._MaxPoolGrad=d.asm.MaxPoolGrad).apply(null,arguments)},d._MaxPoolWithArgmax=function(){return(d._MaxPoolWithArgmax=d.asm.MaxPoolWithArgmax).apply(null,arguments)},d._Maximum=function(){return(d._Maximum=d.asm.Maximum).apply(null,arguments)},d._Mean=function(){return(d._Mean=d.asm.Mean).apply(null,arguments)},d._Min=function(){return(d._Min=d.asm.Min).apply(null,arguments)},d._Minimum=function(){return(d._Minimum=d.asm.Minimum).apply(null,arguments)},d._MirrorPad=function(){return(d._MirrorPad=d.asm.MirrorPad).apply(null,arguments)},d._Mod=function(){return(d._Mod=d.asm.Mod).apply(null,arguments)},d._Multinomial=function(){return(d._Multinomial=d.asm.Multinomial).apply(null,arguments)},d._Multiply=function(){return(d._Multiply=d.asm.Multiply).apply(null,arguments)},d._Neg=function(){return(d._Neg=d.asm.Neg).apply(null,arguments)},d._NonMaxSuppressionV3=function(){return(d._NonMaxSuppressionV3=d.asm.NonMaxSuppressionV3).apply(null,arguments)},d._NonMaxSuppressionV4=function(){return(d._NonMaxSuppressionV4=d.asm.NonMaxSuppressionV4).apply(null,arguments)},d._NonMaxSuppressionV5=function(){return(d._NonMaxSuppressionV5=d.asm.NonMaxSuppressionV5).apply(null,arguments)},d._NotEqual=function(){return(d._NotEqual=d.asm.NotEqual).apply(null,arguments)},d._OneHot=function(){return(d._OneHot=d.asm.OneHot).apply(null,arguments)},d._PadV2=function(){return(d._PadV2=d.asm.PadV2).apply(null,arguments)},d._Pow=function(){return(d._Pow=d.asm.Pow).apply(null,arguments)},d._Prelu=function(){return(d._Prelu=d.asm.Prelu).apply(null,arguments)},d._Prod=function(){return(d._Prod=d.asm.Prod).apply(null,arguments)},d._RealDiv=function(){return(d._RealDiv=d.asm.RealDiv).apply(null,arguments)},d._Reciprocal=function(){return(d._Reciprocal=d.asm.Reciprocal).apply(null,arguments)},d._Relu=function(){return(d._Relu=d.asm.Relu).apply(null,arguments)},d._Relu6=function(){return(d._Relu6=d.asm.Relu6).apply(null,arguments)},d._ResizeBilinear=function(){return(d._ResizeBilinear=d.asm.ResizeBilinear).apply(null,arguments)},d._ResizeBilinearGrad=function(){return(d._ResizeBilinearGrad=d.asm.ResizeBilinearGrad).apply(null,arguments)},d._ResizeNearestNeighbor=function(){return(d._ResizeNearestNeighbor=d.asm.ResizeNearestNeighbor).apply(null,arguments)},d._ResizeNearestNeighborGrad=function(){return(d._ResizeNearestNeighborGrad=d.asm.ResizeNearestNeighborGrad).apply(null,arguments)},d._Reverse=function(){return(d._Reverse=d.asm.Reverse).apply(null,arguments)},d._RotateWithOffset=function(){return(d._RotateWithOffset=d.asm.RotateWithOffset).apply(null,arguments)},d._Round=function(){return(d._Round=d.asm.Round).apply(null,arguments)},d._Rsqrt=function(){return(d._Rsqrt=d.asm.Rsqrt).apply(null,arguments)},d._ScatterNd=function(){return(d._ScatterNd=d.asm.ScatterNd).apply(null,arguments)},d._SearchSorted=function(){return(d._SearchSorted=d.asm.SearchSorted).apply(null,arguments)},d._SelectV2=function(){return(d._SelectV2=d.asm.SelectV2).apply(null,arguments)},d._Selu=function(){return(d._Selu=d.asm.Selu).apply(null,arguments)},d._Sigmoid=function(){return(d._Sigmoid=d.asm.Sigmoid).apply(null,arguments)},d._Sign=function(){return(d._Sign=d.asm.Sign).apply(null,arguments)},d._Sin=function(){return(d._Sin=d.asm.Sin).apply(null,arguments)},d._Sinh=function(){return(d._Sinh=d.asm.Sinh).apply(null,arguments)},d._Softmax=function(){return(d._Softmax=d.asm.Softmax).apply(null,arguments)},d._Softplus=function(){return(d._Softplus=d.asm.Softplus).apply(null,arguments)},d._SparseFillEmptyRows=function(){return(d._SparseFillEmptyRows=d.asm.SparseFillEmptyRows).apply(null,arguments)},d._SparseReshape=function(){return(d._SparseReshape=d.asm.SparseReshape).apply(null,arguments)},d._SparseSegmentReduction=function(){return(d._SparseSegmentReduction=d.asm.SparseSegmentReduction).apply(null,arguments)},d._SparseToDense=function(){return(d._SparseToDense=d.asm.SparseToDense).apply(null,arguments)},d._Sqrt=function(){return(d._Sqrt=d.asm.Sqrt).apply(null,arguments)},d._Square=function(){return(d._Square=d.asm.Square).apply(null,arguments)},d._SquaredDifference=function(){return(d._SquaredDifference=d.asm.SquaredDifference).apply(null,arguments)},d._Step=function(){return(d._Step=d.asm.Step).apply(null,arguments)},d._StridedSlice=function(){return(d._StridedSlice=d.asm.StridedSlice).apply(null,arguments)},d._Sub=function(){return(d._Sub=d.asm.Sub).apply(null,arguments)},d._Sum=function(){return(d._Sum=d.asm.Sum).apply(null,arguments)},d._Tan=function(){return(d._Tan=d.asm.Tan).apply(null,arguments)},d._Tanh=function(){return(d._Tanh=d.asm.Tanh).apply(null,arguments)},d._TensorScatterUpdate=function(){return(d._TensorScatterUpdate=d.asm.TensorScatterUpdate).apply(null,arguments)},d._Tile=function(){return(d._Tile=d.asm.Tile).apply(null,arguments)},d._TopK=function(){return(d._TopK=d.asm.TopK).apply(null,arguments)},d._Transform=function(){return(d._Transform=d.asm.Transform).apply(null,arguments)},d._Transpose=function(){return(d._Transpose=d.asm.Transpose).apply(null,arguments)},d.__FusedMatMul=function(){return(d.__FusedMatMul=d.asm._FusedMatMul).apply(null,arguments)},d._malloc=function(){return(d._malloc=d.asm.malloc).apply(null,arguments)},d._free=function(){return(d._free=d.asm.free).apply(null,arguments)},d.__emscripten_tls_init=function(){return(d.__emscripten_tls_init=d.asm._emscripten_tls_init).apply(null,arguments)},d._pthread_self=function(){return(Le=d._pthread_self=d.asm.pthread_self).apply(null,arguments)}),ze=(d.___errno_location=function(){return(d.___errno_location=d.asm.__errno_location).apply(null,arguments)},d.__emscripten_thread_init=function(){return(ze=d.__emscripten_thread_init=d.asm._emscripten_thread_init).apply(null,arguments)}),Be=(d.__emscripten_thread_crashed=function(){return(d.__emscripten_thread_crashed=d.asm._emscripten_thread_crashed).apply(null,arguments)},d._emscripten_main_thread_process_queued_calls=function(){return(d._emscripten_main_thread_process_queued_calls=d.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},d._emscripten_main_browser_thread_id=function(){return(d._emscripten_main_browser_thread_id=d.asm.emscripten_main_browser_thread_id).apply(null,arguments)},d._emscripten_run_in_main_runtime_thread_js=function(){return(Be=d._emscripten_run_in_main_runtime_thread_js=d.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)}),We=(d._emscripten_dispatch_to_thread_=function(){return(d._emscripten_dispatch_to_thread_=d.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},d.__emscripten_proxy_execute_task_queue=function(){return(We=d.__emscripten_proxy_execute_task_queue=d.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)}),Ue=d.__emscripten_thread_free_data=function(){return(Ue=d.__emscripten_thread_free_data=d.asm._emscripten_thread_free_data).apply(null,arguments)},je=d.__emscripten_thread_exit=function(){return(je=d.__emscripten_thread_exit=d.asm._emscripten_thread_exit).apply(null,arguments)},He=d._emscripten_stack_set_limits=function(){return(He=d._emscripten_stack_set_limits=d.asm.emscripten_stack_set_limits).apply(null,arguments)},Ve=d.stackSave=function(){return(Ve=d.stackSave=d.asm.stackSave).apply(null,arguments)},qe=d.stackRestore=function(){return(qe=d.stackRestore=d.asm.stackRestore).apply(null,arguments)},Ge=d.stackAlloc=function(){return(Ge=d.stackAlloc=d.asm.stackAlloc).apply(null,arguments)};d.dynCall_iijjiiii=function(){return(d.dynCall_iijjiiii=d.asm.dynCall_iijjiiii).apply(null,arguments)},d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm.dynCall_jiji).apply(null,arguments)};function Ke(e){if(e=e||g,!(Z>0)){if(k)return l(d),J(),void startWorker(d);!function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)e=d.preRun.shift(),$.unshift(e);var e;fe($)}(),Z>0||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),t()}),1)):t())}function t(){Oe||(Oe=!0,d.calledRun=!0,F||(J(),l(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(!k){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)e=d.postRun.shift(),Q.unshift(e);var e;fe(Q)}}()))}}if(d.keepRuntimeAlive=X,d.wasmMemory=M,d.cwrap=function(e,t,n,r){var a=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&a&&!r?Ae(e):function(){return Me(e,t,n,arguments)}},d.ExitStatus=le,d.PThread=he,te=function e(){Oe||Ke(),Oe||(te=e)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();if(Ke(),c&&(Re={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!c.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!c.unhandledRejection.indexOf(e)>-1}))}),"undefined"!==typeof WasmBackendModule)De=WasmBackendModule;else{if("undefined"===typeof t)throw new Error("Could not find wasm module in post.js");De=t}if(Re){var $e=De._dispose;De._dispose=function(){$e(),Re.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Re.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return t.ready}})();e.exports=r},8562:e=>{e.exports.$='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};'},1372:(e,t,n)=>{var r=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var r,a,o,s="undefined"!=typeof(t=t||{})?t:{};s.ready=new Promise((function(e,t){r=e,a=t})),"undefined"!==typeof process&&process.listeners&&(o={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var i,l,u,c=Object.assign({},s),d=[],p="object"==typeof window,h="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";if(f){var g=n(9893),v=n(5281);m=h?v.dirname(m)+"/":"//",i=(e,t)=>(e=j(e)?new URL(e):v.normalize(e),g.readFileSync(e,t?void 0:"utf8")),u=e=>{var t=i(e,!0);return t.buffer||(t=new Uint8Array(t)),t},l=(e,t,n)=>{e=j(e)?new URL(e):v.normalize(e),g.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),d=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof V))throw e})),process.on("unhandledRejection",(function(e){throw e})),s.inspect=function(){return"[Emscripten Module object]"}}else(p||h)&&(h?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},e=>document.title=e);var y=s.print||console.log.bind(console),b=s.printErr||console.warn.bind(console);Object.assign(s,c),c=null,s.arguments&&(d=s.arguments),s.thisProgram&&s.thisProgram,s.quit&&s.quit;var w;s.wasmBinary&&(w=s.wasmBinary);var k,S=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&z("no native wasm support detected");var x=!1;var _,I,E,T,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){for(var r=(t>>>=0)+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&N)return N.decode(e.subarray(t,a));for(var o="";t<a;){var s=e[t++];if(128&s){var i=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|i<<6|l:(7&s)<<18|i<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|i)}else o+=String.fromCharCode(s)}return o}function A(e,t){return(e>>>=0)?C(E,e,t):""}function M(e){_=e,s.HEAP8=I=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=new Int32Array(e),s.HEAPU8=E=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=T=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=new Float64Array(e)}s.INITIAL_MEMORY;var O=[],R=[],D=[];var F=0,P=null,L=null;function z(e){s.onAbort&&s.onAbort(e),b(e="Aborted("+e+")"),x=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}var B,W;function U(e){return e.startsWith("data:application/octet-stream;base64,")}function j(e){return e.startsWith("file://")}function H(e){try{if(e==B&&w)return new Uint8Array(w);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(b){z(b)}}function V(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function q(e){for(;e.length>0;)e.shift()(s)}function G(e){try{return k.grow(e-_.byteLength+65535>>>16),M(k.buffer),1}catch(t){}}U(B="tfjs-backend-wasm.wasm")||(W=B,B=s.locateFile?s.locateFile(W,m):m+W);var K=[null,[],[]];function $(e,t){var n=K[e];0===t||10===t?((1===e?y:b)(C(n,0)),n.length=0):n.push(t)}function Y(e){return s["_"+e]}function Q(e,t,n,r,a){var o={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n>>>=0,o=n+r-1,s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++s)),i<=127){if(n>=o)break;t[n++>>>0]=i}else if(i<=2047){if(n+1>=o)break;t[n++>>>0]=192|i>>6,t[n++>>>0]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++>>>0]=224|i>>12,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}else{if(n+3>=o)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}}t[n>>>0]=0})(e,E,t,n)})(e,t=re(n),n)}return t},array:e=>{var t=re(e.length);return function(e,t){I.set(e,t>>>0)}(e,t),t}};var s=Y(e),i=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=o[n[u]];c?(0===l&&(l=te()),i[u]=c(r[u])):i[u]=r[u]}var d=s.apply(null,i);return d=function(e){return 0!==l&&ne(l),function(e){return"string"===t?A(e):"boolean"===t?Boolean(e):e}(e)}(d)}var X,J,Z,ee={abort:function(){z("")},emscripten_get_heap_max:function(){return 4294901760},emscripten_memcpy_big:function(e,t,n){E.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t,n,r=E.length,a=4294901760;if((e>>>=0)>a)return!1;for(var o=1;o<=4;o*=2){var s=r*(1+.2/o);if(s=Math.min(s,e+100663296),G(Math.min(a,(t=Math.max(e,s))+((n=65536)-t%n)%n)))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,t,n,r,a){return 70},fd_write:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var s=T[t>>>2],i=T[t+4>>>2];t+=8;for(var l=0;l<i;l++)$(e,E[s+l>>>0]);a+=i}return T[r>>>2]=a,0}},te=(function(){var e={env:ee,wasi_snapshot_preview1:ee};function t(e,t){var n,r=e.exports;s.asm=r,M((k=s.asm.memory).buffer),s.asm.__indirect_function_table,n=s.asm.__wasm_call_ctors,R.unshift(n),function(){if(F--,s.monitorRunDependencies&&s.monitorRunDependencies(F),0==F&&(null!==P&&(clearInterval(P),P=null),L)){var e=L;L=null,e()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!w&&(p||h)){if("function"==typeof fetch&&!j(B))return fetch(B,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+B+"'";return e.arrayBuffer()})).catch((function(){return H(B)}));if(l)return new Promise((function(e,t){l(B,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return H(B)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){b("failed to asynchronously prepare wasm: "+e),z(e)}))}if(F++,s.monitorRunDependencies&&s.monitorRunDependencies(F),s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(o){b("Module.instantiateWasm callback failed with error: "+o),a(o)}(w||"function"!=typeof WebAssembly.instantiateStreaming||U(B)||j(B)||f||"function"!=typeof fetch?r(n):fetch(B,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)},s._init=function(){return(s._init=s.asm.init).apply(null,arguments)},s._init_with_threads_count=function(){return(s._init_with_threads_count=s.asm.init_with_threads_count).apply(null,arguments)},s._get_threads_count=function(){return(s._get_threads_count=s.asm.get_threads_count).apply(null,arguments)},s._register_tensor=function(){return(s._register_tensor=s.asm.register_tensor).apply(null,arguments)},s._dispose_data=function(){return(s._dispose_data=s.asm.dispose_data).apply(null,arguments)},s._dispose=function(){return(s._dispose=s.asm.dispose).apply(null,arguments)},s._Abs=function(){return(s._Abs=s.asm.Abs).apply(null,arguments)},s._Acos=function(){return(s._Acos=s.asm.Acos).apply(null,arguments)},s._Acosh=function(){return(s._Acosh=s.asm.Acosh).apply(null,arguments)},s._Add=function(){return(s._Add=s.asm.Add).apply(null,arguments)},s._AddN=function(){return(s._AddN=s.asm.AddN).apply(null,arguments)},s._All=function(){return(s._All=s.asm.All).apply(null,arguments)},s._Any=function(){return(s._Any=s.asm.Any).apply(null,arguments)},s._ArgMax=function(){return(s._ArgMax=s.asm.ArgMax).apply(null,arguments)},s._ArgMin=function(){return(s._ArgMin=s.asm.ArgMin).apply(null,arguments)},s._Asin=function(){return(s._Asin=s.asm.Asin).apply(null,arguments)},s._Asinh=function(){return(s._Asinh=s.asm.Asinh).apply(null,arguments)},s._Atan=function(){return(s._Atan=s.asm.Atan).apply(null,arguments)},s._Atan2=function(){return(s._Atan2=s.asm.Atan2).apply(null,arguments)},s._Atanh=function(){return(s._Atanh=s.asm.Atanh).apply(null,arguments)},s._AvgPool=function(){return(s._AvgPool=s.asm.AvgPool).apply(null,arguments)},s._AvgPool3D=function(){return(s._AvgPool3D=s.asm.AvgPool3D).apply(null,arguments)},s._AvgPool3DGrad=function(){return(s._AvgPool3DGrad=s.asm.AvgPool3DGrad).apply(null,arguments)},s._AvgPoolGrad=function(){return(s._AvgPoolGrad=s.asm.AvgPoolGrad).apply(null,arguments)},s._BatchMatMul=function(){return(s._BatchMatMul=s.asm.BatchMatMul).apply(null,arguments)},s._Bincount=function(){return(s._Bincount=s.asm.Bincount).apply(null,arguments)},s._BitwiseAnd=function(){return(s._BitwiseAnd=s.asm.BitwiseAnd).apply(null,arguments)},s._Ceil=function(){return(s._Ceil=s.asm.Ceil).apply(null,arguments)},s._ClipByValue=function(){return(s._ClipByValue=s.asm.ClipByValue).apply(null,arguments)},s._Conv2D=function(){return(s._Conv2D=s.asm.Conv2D).apply(null,arguments)},s._Conv2DBackpropInput=function(){return(s._Conv2DBackpropInput=s.asm.Conv2DBackpropInput).apply(null,arguments)},s._Conv3D=function(){return(s._Conv3D=s.asm.Conv3D).apply(null,arguments)},s._Conv3DBackpropFilterV2=function(){return(s._Conv3DBackpropFilterV2=s.asm.Conv3DBackpropFilterV2).apply(null,arguments)},s._Conv3DBackpropInputV2=function(){return(s._Conv3DBackpropInputV2=s.asm.Conv3DBackpropInputV2).apply(null,arguments)},s._Cos=function(){return(s._Cos=s.asm.Cos).apply(null,arguments)},s._Cosh=function(){return(s._Cosh=s.asm.Cosh).apply(null,arguments)},s._CropAndResize=function(){return(s._CropAndResize=s.asm.CropAndResize).apply(null,arguments)},s._Cumprod=function(){return(s._Cumprod=s.asm.Cumprod).apply(null,arguments)},s._Cumsum=function(){return(s._Cumsum=s.asm.Cumsum).apply(null,arguments)},s._DenseBincount=function(){return(s._DenseBincount=s.asm.DenseBincount).apply(null,arguments)},s._DepthToSpace=function(){return(s._DepthToSpace=s.asm.DepthToSpace).apply(null,arguments)},s._DepthwiseConv2dNative=function(){return(s._DepthwiseConv2dNative=s.asm.DepthwiseConv2dNative).apply(null,arguments)},s._Diag=function(){return(s._Diag=s.asm.Diag).apply(null,arguments)},s._Dilation2D=function(){return(s._Dilation2D=s.asm.Dilation2D).apply(null,arguments)},s._Dilation2DBackpropFilter=function(){return(s._Dilation2DBackpropFilter=s.asm.Dilation2DBackpropFilter).apply(null,arguments)},s._Dilation2DBackpropInput=function(){return(s._Dilation2DBackpropInput=s.asm.Dilation2DBackpropInput).apply(null,arguments)},s._Elu=function(){return(s._Elu=s.asm.Elu).apply(null,arguments)},s._EluGrad=function(){return(s._EluGrad=s.asm.EluGrad).apply(null,arguments)},s._Equal=function(){return(s._Equal=s.asm.Equal).apply(null,arguments)},s._Erf=function(){return(s._Erf=s.asm.Erf).apply(null,arguments)},s._Exp=function(){return(s._Exp=s.asm.Exp).apply(null,arguments)},s._Expm1=function(){return(s._Expm1=s.asm.Expm1).apply(null,arguments)},s._FlipLeftRight=function(){return(s._FlipLeftRight=s.asm.FlipLeftRight).apply(null,arguments)},s._Floor=function(){return(s._Floor=s.asm.Floor).apply(null,arguments)},s._FloorDiv=function(){return(s._FloorDiv=s.asm.FloorDiv).apply(null,arguments)},s._FusedBatchNorm=function(){return(s._FusedBatchNorm=s.asm.FusedBatchNorm).apply(null,arguments)},s._FusedConv2D=function(){return(s._FusedConv2D=s.asm.FusedConv2D).apply(null,arguments)},s._FusedDepthwiseConv2D=function(){return(s._FusedDepthwiseConv2D=s.asm.FusedDepthwiseConv2D).apply(null,arguments)},s._Gather=function(){return(s._Gather=s.asm.Gather).apply(null,arguments)},s._GatherNd=function(){return(s._GatherNd=s.asm.GatherNd).apply(null,arguments)},s._Greater=function(){return(s._Greater=s.asm.Greater).apply(null,arguments)},s._GreaterEqual=function(){return(s._GreaterEqual=s.asm.GreaterEqual).apply(null,arguments)},s._IsFinite=function(){return(s._IsFinite=s.asm.IsFinite).apply(null,arguments)},s._IsInf=function(){return(s._IsInf=s.asm.IsInf).apply(null,arguments)},s._IsNan=function(){return(s._IsNan=s.asm.IsNan).apply(null,arguments)},s._LRN=function(){return(s._LRN=s.asm.LRN).apply(null,arguments)},s._LRNGrad=function(){return(s._LRNGrad=s.asm.LRNGrad).apply(null,arguments)},s._LeakyRelu=function(){return(s._LeakyRelu=s.asm.LeakyRelu).apply(null,arguments)},s._Less=function(){return(s._Less=s.asm.Less).apply(null,arguments)},s._LessEqual=function(){return(s._LessEqual=s.asm.LessEqual).apply(null,arguments)},s._LinSpace=function(){return(s._LinSpace=s.asm.LinSpace).apply(null,arguments)},s._Log=function(){return(s._Log=s.asm.Log).apply(null,arguments)},s._Log1p=function(){return(s._Log1p=s.asm.Log1p).apply(null,arguments)},s._LogicalAnd=function(){return(s._LogicalAnd=s.asm.LogicalAnd).apply(null,arguments)},s._LogicalNot=function(){return(s._LogicalNot=s.asm.LogicalNot).apply(null,arguments)},s._LogicalOr=function(){return(s._LogicalOr=s.asm.LogicalOr).apply(null,arguments)},s._LogicalXor=function(){return(s._LogicalXor=s.asm.LogicalXor).apply(null,arguments)},s._Max=function(){return(s._Max=s.asm.Max).apply(null,arguments)},s._MaxPool=function(){return(s._MaxPool=s.asm.MaxPool).apply(null,arguments)},s._MaxPool3D=function(){return(s._MaxPool3D=s.asm.MaxPool3D).apply(null,arguments)},s._MaxPool3DGrad=function(){return(s._MaxPool3DGrad=s.asm.MaxPool3DGrad).apply(null,arguments)},s._MaxPoolGrad=function(){return(s._MaxPoolGrad=s.asm.MaxPoolGrad).apply(null,arguments)},s._MaxPoolWithArgmax=function(){return(s._MaxPoolWithArgmax=s.asm.MaxPoolWithArgmax).apply(null,arguments)},s._Maximum=function(){return(s._Maximum=s.asm.Maximum).apply(null,arguments)},s._Mean=function(){return(s._Mean=s.asm.Mean).apply(null,arguments)},s._Min=function(){return(s._Min=s.asm.Min).apply(null,arguments)},s._Minimum=function(){return(s._Minimum=s.asm.Minimum).apply(null,arguments)},s._MirrorPad=function(){return(s._MirrorPad=s.asm.MirrorPad).apply(null,arguments)},s._Mod=function(){return(s._Mod=s.asm.Mod).apply(null,arguments)},s._Multinomial=function(){return(s._Multinomial=s.asm.Multinomial).apply(null,arguments)},s._Multiply=function(){return(s._Multiply=s.asm.Multiply).apply(null,arguments)},s._Neg=function(){return(s._Neg=s.asm.Neg).apply(null,arguments)},s._NonMaxSuppressionV3=function(){return(s._NonMaxSuppressionV3=s.asm.NonMaxSuppressionV3).apply(null,arguments)},s._NonMaxSuppressionV4=function(){return(s._NonMaxSuppressionV4=s.asm.NonMaxSuppressionV4).apply(null,arguments)},s._NonMaxSuppressionV5=function(){return(s._NonMaxSuppressionV5=s.asm.NonMaxSuppressionV5).apply(null,arguments)},s._NotEqual=function(){return(s._NotEqual=s.asm.NotEqual).apply(null,arguments)},s._OneHot=function(){return(s._OneHot=s.asm.OneHot).apply(null,arguments)},s._PadV2=function(){return(s._PadV2=s.asm.PadV2).apply(null,arguments)},s._Pow=function(){return(s._Pow=s.asm.Pow).apply(null,arguments)},s._Prelu=function(){return(s._Prelu=s.asm.Prelu).apply(null,arguments)},s._Prod=function(){return(s._Prod=s.asm.Prod).apply(null,arguments)},s._RealDiv=function(){return(s._RealDiv=s.asm.RealDiv).apply(null,arguments)},s._Reciprocal=function(){return(s._Reciprocal=s.asm.Reciprocal).apply(null,arguments)},s._Relu=function(){return(s._Relu=s.asm.Relu).apply(null,arguments)},s._Relu6=function(){return(s._Relu6=s.asm.Relu6).apply(null,arguments)},s._ResizeBilinear=function(){return(s._ResizeBilinear=s.asm.ResizeBilinear).apply(null,arguments)},s._ResizeBilinearGrad=function(){return(s._ResizeBilinearGrad=s.asm.ResizeBilinearGrad).apply(null,arguments)},s._ResizeNearestNeighbor=function(){return(s._ResizeNearestNeighbor=s.asm.ResizeNearestNeighbor).apply(null,arguments)},s._ResizeNearestNeighborGrad=function(){return(s._ResizeNearestNeighborGrad=s.asm.ResizeNearestNeighborGrad).apply(null,arguments)},s._Reverse=function(){return(s._Reverse=s.asm.Reverse).apply(null,arguments)},s._RotateWithOffset=function(){return(s._RotateWithOffset=s.asm.RotateWithOffset).apply(null,arguments)},s._Round=function(){return(s._Round=s.asm.Round).apply(null,arguments)},s._Rsqrt=function(){return(s._Rsqrt=s.asm.Rsqrt).apply(null,arguments)},s._ScatterNd=function(){return(s._ScatterNd=s.asm.ScatterNd).apply(null,arguments)},s._SearchSorted=function(){return(s._SearchSorted=s.asm.SearchSorted).apply(null,arguments)},s._SelectV2=function(){return(s._SelectV2=s.asm.SelectV2).apply(null,arguments)},s._Selu=function(){return(s._Selu=s.asm.Selu).apply(null,arguments)},s._Sigmoid=function(){return(s._Sigmoid=s.asm.Sigmoid).apply(null,arguments)},s._Sign=function(){return(s._Sign=s.asm.Sign).apply(null,arguments)},s._Sin=function(){return(s._Sin=s.asm.Sin).apply(null,arguments)},s._Sinh=function(){return(s._Sinh=s.asm.Sinh).apply(null,arguments)},s._Softmax=function(){return(s._Softmax=s.asm.Softmax).apply(null,arguments)},s._Softplus=function(){return(s._Softplus=s.asm.Softplus).apply(null,arguments)},s._SparseFillEmptyRows=function(){return(s._SparseFillEmptyRows=s.asm.SparseFillEmptyRows).apply(null,arguments)},s._SparseReshape=function(){return(s._SparseReshape=s.asm.SparseReshape).apply(null,arguments)},s._SparseSegmentReduction=function(){return(s._SparseSegmentReduction=s.asm.SparseSegmentReduction).apply(null,arguments)},s._SparseToDense=function(){return(s._SparseToDense=s.asm.SparseToDense).apply(null,arguments)},s._Sqrt=function(){return(s._Sqrt=s.asm.Sqrt).apply(null,arguments)},s._Square=function(){return(s._Square=s.asm.Square).apply(null,arguments)},s._SquaredDifference=function(){return(s._SquaredDifference=s.asm.SquaredDifference).apply(null,arguments)},s._Step=function(){return(s._Step=s.asm.Step).apply(null,arguments)},s._StridedSlice=function(){return(s._StridedSlice=s.asm.StridedSlice).apply(null,arguments)},s._Sub=function(){return(s._Sub=s.asm.Sub).apply(null,arguments)},s._Sum=function(){return(s._Sum=s.asm.Sum).apply(null,arguments)},s._Tan=function(){return(s._Tan=s.asm.Tan).apply(null,arguments)},s._Tanh=function(){return(s._Tanh=s.asm.Tanh).apply(null,arguments)},s._TensorScatterUpdate=function(){return(s._TensorScatterUpdate=s.asm.TensorScatterUpdate).apply(null,arguments)},s._Tile=function(){return(s._Tile=s.asm.Tile).apply(null,arguments)},s._TopK=function(){return(s._TopK=s.asm.TopK).apply(null,arguments)},s._Transform=function(){return(s._Transform=s.asm.Transform).apply(null,arguments)},s._Transpose=function(){return(s._Transpose=s.asm.Transpose).apply(null,arguments)},s.__FusedMatMul=function(){return(s.__FusedMatMul=s.asm._FusedMatMul).apply(null,arguments)},s._malloc=function(){return(s._malloc=s.asm.malloc).apply(null,arguments)},s._free=function(){return(s._free=s.asm.free).apply(null,arguments)},s.___errno_location=function(){return(s.___errno_location=s.asm.__errno_location).apply(null,arguments)},s.stackSave=function(){return(te=s.stackSave=s.asm.stackSave).apply(null,arguments)}),ne=s.stackRestore=function(){return(ne=s.stackRestore=s.asm.stackRestore).apply(null,arguments)},re=s.stackAlloc=function(){return(re=s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)};s.dynCall_iijjiiii=function(){return(s.dynCall_iijjiiii=s.asm.dynCall_iijjiiii).apply(null,arguments)},s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.dynCall_jiji).apply(null,arguments)};function ae(e){function t(){X||(X=!0,s.calledRun=!0,x||(q(R),r(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)e=s.postRun.shift(),D.unshift(e);var e;q(D)}()))}e=e||d,F>0||(!function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)e=s.preRun.shift(),O.unshift(e);var e;q(O)}(),F>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s.cwrap=function(e,t,n,r){var a=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&a&&!r?Y(e):function(){return Q(e,t,n,arguments)}},L=function e(){X||ae(),X||(L=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();if(ae(),o&&(J={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!o.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!o.unhandledRejection.indexOf(e)>-1}))}),"undefined"!==typeof t)Z=t;else{if("undefined"===typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");Z=WasmBackendModuleThreadedSimd}if(J){var oe=Z._dispose;Z._dispose=function(){oe(),J.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),J.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return t.ready}})();e.exports=r},5:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var a=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(a,o),i=0,l=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(i=s-Math.min(a,o)),s-=1;s>=i;){if(l[0][s]>l[1][s])return 1;if(l[0][s]===l[1][s]){if(s===i)return 0;s-=1}else if(l[0][s]<l[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var a=e[n];if(t(a,n))return a}},e.assign=function(e){for(var t,n,r=e,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var i=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)i();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=i,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),a=l(n(93)),o=l(n(94)),s=l(n(95)),i=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=i.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=i.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=i.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=i.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return i.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,a={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(a[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),l=i.default.find(s,(function(e){return t.isOS(e)}));if(l){var u=this.satisfies(n[l]);if(void 0!==u)return u}var c=i.default.find(s,(function(e){return t.isPlatform(e)}));if(c){var d=this.satisfies(n[c]);if(void 0!==d)return d}}if(o>0){var p=Object.keys(a),h=i.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(a[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),a=i.default.getBrowserTypeByAlias(r);return t&&a&&(r=a.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(i.default.compareVersions(a,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=a.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=a.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=a.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},9421:e=>{e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},9648:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),o=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):o(e)}},2037:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},8541:(e,t,n)=>{var r=n(9812),a=n(149),o=n(4052),s=n(9841),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},6882:(e,t,n)=>{var r=n(9421),a=n(4971),o=n(7676),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(a(t).replace(s,"")),e,"")}}},3086:(e,t,n)=>{var r=n(2037)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=s.call(e);return r&&(t?e[i]=n:delete e[i]),a}},5967:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},1540:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+o+"]",i="\\d+",l="["+n+"]",u="["+r+"]",c="[^"+t+o+i+n+r+a+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+a+"]",f="(?:"+u+"|"+c+")",m="(?:"+h+"|"+c+")",g="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",w=b+y+("(?:\\u200d(?:"+["[^"+t+"]",d,p].join("|")+")"+b+y+")*"),k="(?:"+[l,d,p].join("|")+")"+w,S=RegExp([h+"?"+u+"+"+g+"(?="+[s,h,"$"].join("|")+")",m+"+"+v+"(?="+[s,h+f,"$"].join("|")+")",h+"?"+f+"+"+g,h+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,k].join("|"),"g");e.exports=function(e){return e.match(S)||[]}},4971:(e,t,n)=>{var r=n(3086),a=n(1069),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(o,r).replace(s,"")}},4052:e=>{var t=Array.isArray;e.exports=t},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},940:(e,t,n)=>{var r=n(6882)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=r},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},7676:(e,t,n)=>{var r=n(9648),a=n(5967),o=n(1069),s=n(1540);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?a(e)?s(e):r(e):e.match(t)||[]}},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(I){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),s&&(a[e]=n),n)}function i(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=h)return S}else{if(e<=-f)return x;if(e+1>=f)return k}return e<0?i(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=i,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=i(u(n,8)),o=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+l),n);if(l<8){var p=i(u(n,l));o=o.mul(p).add(i(d))}else o=(o=o.mul(a)).add(i(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=s(1<<24),g=s(0);n.ZERO=g;var v=s(0,!0);n.UZERO=v;var y=s(1);n.ONE=y;var b=s(1,!0);n.UONE=b;var w=s(-1);n.NEG_ONE=w;var k=l(-1,2147483647,!1);n.MAX_VALUE=k;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var x=l(0,-2147483648,!1);n.MIN_VALUE=x;var _=n.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},_.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(u(e,6),this.unsigned),o=this,s="";;){var l=o.div(a),c=(o.sub(l.mul(a)).toInt()>>>0).toString(e);if((o=l).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||this.high>=0},_.isOdd=function(){return 1===(1&this.low)},_.isEven=function(){return 0===(1&this.low)},_.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},_.eq=_.equals,_.notEquals=function(e){return!this.eq(e)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(e){return this.comp(e)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(e){return this.comp(e)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(e){return this.comp(e)>0},_.gt=_.greaterThan,_.greaterThanOrEqual=function(e){return this.comp(e)>=0},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(y)},_.neg=_.negate,_.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,s=e.high>>>16,i=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=o+(65535&e.low))>>>16,p+=(h+=a+u)>>>16,c+=(p+=n+i)>>>16,c+=t+s,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},_.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},_.sub=_.subtract,_.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(x))return e.isOdd()?x:g;if(e.eq(x))return this.isOdd()?x:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,s=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,v=0,y=0,b=0;return y+=(b+=s*h)>>>16,v+=(y+=o*h)>>>16,y&=65535,v+=(y+=s*p)>>>16,f+=(v+=a*h)>>>16,v&=65535,f+=(v+=o*p)>>>16,v&=65535,f+=(v+=s*c)>>>16,f+=n*h+a*p+o*c+s*u,l((y&=65535)<<16|(b&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},_.mul=_.multiply,_.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return b;o=v}else{if(this.eq(x))return e.eq(y)||e.eq(w)?x:e.eq(x)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:w:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(x))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:u(2,s-48),p=i(n),h=p.mul(e);h.isNegative()||h.gt(a);)h=(p=i(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=y),o=o.add(p),a=a.sub(h)}return o},_.div=_.divide,_.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return l(~this.low,~this.high,this.unsigned)},_.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},_.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},_.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},_.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},_.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,r,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var P,L=Object.assign;function z(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case I:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,_e=null;function Ie(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ka(t),Se(e.stateNode,e.type,t))}}function Ee(e){xe?_e?_e.push(e):_e=[e]:xe=e}function Te(){if(xe){var e=xe,t=_e;if(_e=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==xe||null!==_e)&&(Ce(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ka(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Re=!1}function Fe(e,t,n,r,a,o,s,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Pe=!1,Le=null,ze=!1,Be=null,We={onError:function(e){Pe=!0,Le=e}};function Ue(e,t,n,r,a,o,s,i,l){Pe=!1,Le=null,Fe.apply(We,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ve(a),e;if(s===r)return Ve(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~a;0!==i?r=dt(i):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~a)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,St,xt,_t,It,Et=!1,Tt=[],Nt=null,Ct=null,At=null,Mt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Pt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Wt(){Et=!1,null!==Nt&&zt(Nt)&&(Nt=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==At&&zt(At)&&(At=null),Mt.forEach(Bt),Ot.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function jt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),Mt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function Gt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function Kt(e,t,n,r){if(Vt){var a=Yt(e,t,n,r);if(null===a)Vr(e,t,r,$t,n),Ft(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Nt=Pt(Nt,e,t,n,r,a),!0;case"dragenter":return Ct=Pt(Ct,e,t,n,r,a),!0;case"mouseover":return At=Pt(At,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Mt.set(o,Pt(Mt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ot.set(o,Pt(Ot.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&kt(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,$t,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=ya(e=ke(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=L({},un,{view:0,detail:0}),pn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(hn),mn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(L({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return _n}var En=L({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Nn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Mn),Rn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var Pn=c&&"TextEvent"in window&&!Fn,Ln=c&&(!Dn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){zr(e,0)}function Yn(e){if(K(wa(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,ke(e)),Me($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var s=cr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},_r={};function Ir(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return xr[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Nr=Ir("animationstart"),Cr=Ir("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Mr.length;Rr++){var Dr=Mr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,l,u){if(Ue.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var c=Le;Pe=!1,Le=null,ze||(ze=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,i,u),o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,i,u),o=l}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Wr(t,!1,e),Wr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Wr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=ya(i)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}i=i.parentNode}}r=r.return}Me((function(){var r=o,a=ke(n),s=[];e:{var i=Ar.get(e);if(void 0!==i){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Er:case Tr:case Nr:l=vn;break;case Cr:l=An;break;case"scroll":l=pn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==i?i+"Capture":null:i;c=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Oe(f,p))&&c.push(qr(f,m,h)))),d)break;f=f.return}0<c.length&&(i=new l(i,u,null,n,a),s.push({event:i,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?i:wa(l),h=null==u?i:wa(u),(i=new c(m,f+"leave",l,n,a)).target=d,i.relatedTarget=h,m=null,ya(a)===r&&((c=new c(p,f+"enter",u,n,a)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,f=0,h=c=l;h;h=Kr(h))f++;for(h=0,m=p;m;m=Kr(m))h++;for(;0<f-h;)c=Kr(c),f--;for(;0<h-f;)p=Kr(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=Kr(c),p=Kr(p)}c=null}else c=null;null!==l&&$r(s,i,l,c,!1),null!==u&&null!==d&&$r(s,d,u,c,!0)}if("select"===(l=(i=r?wa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Qn;else if(Vn(i))if(Xn)g=sr;else{g=ar;var v=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,a):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=r?wa(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=en()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,jn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,a),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Dn&&Wn(e,t)?(e=en(),Zt=Jt=Xt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=y))}zr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Oe(e,n))&&r.unshift(qr(e,o,a)),null!=(o=Oe(e,t))&&r.push(qr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==u&&(i=u,a?null!=(l=Oe(n,o))&&s.unshift(qr(n,l,i)):a||null!=(l=Oe(n,o))&&s.push(qr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);jt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,ha="__reactProps$"+da,fa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ka(e){return e[ha]||null}var Sa=[],xa=-1;function _a(e){return{current:e}}function Ia(e){0>xa||(e.current=Sa[xa],Sa[xa]=null,xa--)}function Ea(e,t){xa++,Sa[xa]=e.current,e.current=t}var Ta={},Na=_a(Ta),Ca=_a(!1),Aa=Ta;function Ma(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ia(Ca),Ia(Na)}function Da(e,t,n){if(Na.current!==Ta)throw Error(o(168));Ea(Na,t),Ea(Ca,n)}function Fa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,H(e)||"Unknown",a));return L({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Aa=Na.current,Ea(Na,e),Ea(Ca,Ca.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Fa(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ia(Ca),Ia(Na),Ea(Na,e)):Ia(Ca),Ea(Ca,n)}var za=null,Ba=!1,Wa=!1;function Ua(e){null===za?za=[e]:za.push(e)}function ja(){if(!Wa&&null!==za){Wa=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ba=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ke(Ze,ja),a}finally{bt=t,Wa=!1}}return null}var Ha=[],Va=0,qa=null,Ga=0,Ka=[],$a=0,Ya=null,Qa=1,Xa="";function Ja(e,t){Ha[Va++]=Ga,Ha[Va++]=qa,qa=e,Ga=t}function Za(e,t,n){Ka[$a++]=Qa,Ka[$a++]=Xa,Ka[$a++]=Ya,Ya=e;var r=Qa;e=Xa;var a=32-st(r)-1;r&=~(1<<a),n+=1;var o=32-st(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Qa=1<<32-st(t)+a|n<<a|r,Xa=o+e}else Qa=1<<o|n<<a|r,Xa=e}function eo(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function to(e){for(;e===qa;)qa=Ha[--Va],Ha[Va]=null,Ga=Ha[--Va],Ha[Va]=null;for(;e===Ya;)Ya=Ka[--$a],Ka[$a]=null,Xa=Ka[--$a],Ka[$a]=null,Qa=Ka[--$a],Ka[$a]=null}var no=null,ro=null,ao=!1,oo=null;function so(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Qa,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&io(e,t)?so(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ua(e.nextSibling)}function fo(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&bo(o)===t.type)?((r=a(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=zu(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fu(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?c(e,t,n,r):null;case O:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:d(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,a,null);yo(t,r)}return null}function m(a,o,i,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===i.length)return n(a,d),ao&&Ja(a,m),u;if(null===d){for(;m<i.length;m++)null!==(d=p(a,i[m],l))&&(o=s(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Ja(a,m),u}for(d=r(a,d);m<i.length;m++)null!==(g=f(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ja(a,m),u}function g(a,i,l,u){var c=F(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),i=s(b,i,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ao&&Ja(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,u))&&(i=s(y,i,g),null===d?c=y:d.sibling=y,d=y);return ao&&Ja(a,g),c}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=f(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=s(y,i,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ja(a,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===x){if(7===c.tag){n(r,c.sibling),(o=a(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&bo(u)===c.type){n(r,c.sibling),(o=a(c,s.props)).ref=vo(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===x?((o=Fu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Du(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return i(r);case S:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=a(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zu(s,r.mode,l)).return=r,r=o}return i(r);case O:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(F(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,s)).return=r,r=o):(n(r,o),(o=Lu(s,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var ko=wo(!0),So=wo(!1),xo=_a(null),_o=null,Io=null,Eo=null;function To(){Eo=Io=_o=null}function No(e){var t=xo.current;Ia(xo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){_o=e,Eo=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===_o)throw Error(o(308));Io=e,_o.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var Oo=null;function Ro(e){null===Oo?Oo=[e]:Oo.push(e)}function Do(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ro(t)):(n.next=a.next,a.next=n),t.interleaved=n,Fo(e,r)}function Fo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Fo(e,n)}return null===(a=r.interleaved)?(t.next=t,Ro(r)):(t.next=a.next,a.next=t),r.interleaved=t,Fo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var a=e.updateQueue;Po=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,c=u=l=null,i=o;;){var p=i.lane,h=i.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,m=i;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,d,p):f)||void 0===p)break e;d=L({},d,p);break e;case 2:Po=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[i]:p.push(i))}else h={eventTime:h,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,s|=p;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Pl|=s,e.lanes=s,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var qo={},Go=_a(qo),Ko=_a(qo),$o=_a(qo);function Yo(e){if(e===qo)throw Error(o(174));return e}function Qo(e,t){switch(Ea($o,t),Ea(Ko,e),Ea(Go,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ia(Go),Ea(Go,t)}function Xo(){Ia(Go),Ia(Ko),Ia($o)}function Jo(e){Yo($o.current);var t=Yo(Go.current),n=le(t,e.type);t!==n&&(Ea(Ko,e),Ea(Go,n))}function Zo(e){Ko.current===e&&(Ia(Go),Ia(Ko))}var es=_a(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var as=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,is=null,ls=null,us=null,cs=!1,ds=!1,ps=0,hs=0;function fs(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,a,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Zs:ei,e=n(r,a),ds){s=0;do{if(ds=!1,ps=0,25<=s)throw Error(o(301));s+=1,us=ls=null,t.updateQueue=null,as.current=ti,e=n(r,a)}while(ds)}if(as.current=Js,t=null!==ls&&null!==ls.next,ss=0,us=ls=is=null,cs=!1,t)throw Error(o(300));return e}function vs(){var e=0!==ps;return ps=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?is.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?is.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?is.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=i=null,u=null,c=s;do{var d=c.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,i=r):u=u.next=p,is.lanes|=d,Pl|=d}c=c.next}while(null!==c&&c!==s);null===u?i=r:u.next=l,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,is.lanes|=s,Pl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);ir(s,t.memoizedState)||(bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function _s(e,t){var n=is,r=bs(),a=t(),s=!ir(r.memoizedState,a);if(s&&(r.memoizedState=a,bi=!0),r=r.queue,Ps(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ms(9,Es.bind(null,n,r,a,t),void 0,null),null===Cl)throw Error(o(349));0!==(30&ss)||Is(n,t,a)}return a}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Ns(t)&&Cs(e)}function Ts(e,t,n){return n((function(){Ns(t)&&Cs(e)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Cs(e){var t=Fo(e,1);null!==t&&nu(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,is,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return bs().memoizedState}function Rs(e,t,n,r){var a=ys();is.flags|=e,a.memoizedState=Ms(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var a=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(a.memoizedState=Ms(t,n,o,r))}is.flags|=e,a.memoizedState=Ms(1|t,n,o,r)}function Fs(e,t){return Rs(8390656,8,e,t)}function Ps(e,t){return Ds(2048,8,e,t)}function Ls(e,t){return Ds(4,2,e,t)}function zs(e,t){return Ds(4,4,e,t)}function Bs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ws(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Bs.bind(null,t,e),n)}function Us(){}function js(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),is.lanes|=n,Pl|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Gs(){return bs().memoizedState}function Ks(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Do(e,t,n,r))){nu(n,e,r,eu()),Xs(n,t,r)}}function $s(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(a.next=a,Ro(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Do(e,t,a,r))&&(nu(n,e,r,a=eu()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===is||null!==t&&t===is}function Qs(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Mo,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Mo,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,Bs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,is,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=is,a=ys();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cl)throw Error(o(349));0!==(30&ss)||Is(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Fs(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Cl.identifierPrefix;if(ao){var n=Xa;t=":"+t+"R"+(n=(Qa&~(1<<32-st(Qa)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Mo,useCallback:js,useContext:Mo,useEffect:Ps,useImperativeHandle:Ws,useInsertionEffect:Ls,useLayoutEffect:zs,useMemo:Hs,useReducer:ks,useRef:Os,useState:function(){return ks(ws)},useDebugValue:Us,useDeferredValue:function(e){return Vs(bs(),ls.memoizedState,e)},useTransition:function(){return[ks(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1},ti={readContext:Mo,useCallback:js,useContext:Mo,useEffect:Ps,useImperativeHandle:Ws,useInsertionEffect:Ls,useLayoutEffect:zs,useMemo:Hs,useReducer:Ss,useRef:Os,useState:function(){return Ss(ws)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=Bo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Wo(e,o,a))&&(nu(t,e,a,r),Uo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=Bo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Wo(e,o,a))&&(nu(t,e,a,r),Uo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Bo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Wo(e,a,r))&&(nu(t,e,r,n),Uo(t,e,r))}};function oi(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function si(e,t,n){var r=!1,a=Ta,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(a=Oa(t)?Aa:Na.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ma(e,a):Ta),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Mo(o):(o=Oa(t)?Aa:Na.current,a.context=Ma(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ri(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Ho(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pi="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),di(0,t)},n}function fi(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Wo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yi=w.ReactCurrentOwner,bi=!1;function wi(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function ki(e,t,n,r,a){n=n.render;var o=t.ref;return Ao(t,a),r=gs(e,t,n,r,o,a),n=vs(),null===e||bi?(ao&&n&&eo(t),t.flags|=1,wi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function Si(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Ou(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xi(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Vi(e,t,a)}return t.flags|=1,(e=Ru(o,r)).ref=t.ref,e.return=t,t.child=e}function xi(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vi(e,t,a);0!==(131072&e.flags)&&(bi=!0)}}return Ei(e,t,n,r,a)}function _i(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ea(Rl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ea(Rl,Ol),Ol|=r;return wi(e,t,a,n),t.child}function Ii(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ei(e,t,n,r,a){var o=Oa(n)?Aa:Na.current;return o=Ma(t,o),Ao(t,a),n=gs(e,t,n,r,o,a),r=vs(),null===e||bi?(ao&&r&&eo(t),t.flags|=1,wi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function Ti(e,t,n,r,a){if(Oa(n)){var o=!0;Pa(t)}else o=!1;if(Ao(t,a),null===t.stateNode)Hi(e,t),si(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Mo(u):u=Ma(t,u=Oa(n)?Aa:Na.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==u)&&ii(t,s,r,u),Po=!1;var p=t.memoizedState;s.state=p,Ho(t,r,s,a),l=t.memoizedState,i!==r||p!==l||Ca.current||Po?("function"===typeof c&&(ri(t,n,c,r),l=t.memoizedState),(i=Po||oi(t,n,i,r,p,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zo(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:ni(t.type,i),s.props=u,d=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Ma(t,l=Oa(n)?Aa:Na.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||p!==l)&&ii(t,s,r,l),Po=!1,p=t.memoizedState,s.state=p,Ho(t,r,s,a);var f=t.memoizedState;i!==d||p!==f||Ca.current||Po?("function"===typeof h&&(ri(t,n,h,r),f=t.memoizedState),(u=Po||oi(t,n,u,r,p,f,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ni(e,t,n,r,o,a)}function Ni(e,t,n,r,a,o){Ii(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&La(t,n,!1),Vi(e,t,o);r=t.stateNode,yi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,i,o)):wi(e,t,i,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ci(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Qo(e,t.containerInfo)}function Ai(e,t,n,r,a){return fo(),mo(a),t.flags|=256,wi(e,t,n,r),t.child}var Mi,Oi,Ri,Di,Fi={dehydrated:null,treeContext:null,retryLane:0};function Pi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,a=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ea(es,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Pu(l,a,0,null),e=Fu(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pi(n),t.memoizedState=Fi,e):zi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,Bi(e,t,i,r=ci(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Pu({mode:"visible",children:r.children},a,0,null),(s=Fu(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&ko(t,e.child,null,i),t.child.memoizedState=Pi(i),t.memoizedState=Fi,s);if(0===(1&t.mode))return Bi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bi(e,t,i,r=ci(s=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(r=Cl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Fo(e,a),nu(r,e,a,-1))}return mu(),Bi(e,t,i,r=ci(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[$a++]=Qa,Ka[$a++]=Xa,Ka[$a++]=Ya,Qa=e.id,Xa=e.overflow,Ya=t),t=zi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(i){i=a.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ru(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Ru(r,i):(i=Fu(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Pi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Fi,a}return e=(i=e.child).sibling,a=Ru(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zi(e,t){return(t=Pu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bi(e,t,n,r){return null!==r&&mo(r),ko(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Ui(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function ji(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(wi(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(es,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ts(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,o);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Oa(t.type)&&Ra(),Gi(t),null;case 3:return r=t.stateNode,Xo(),Ia(Ca),Ia(Na),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Oi(e,t),Gi(t),null;case 5:Zo(t);var a=Yo($o.current);if(n=t.type,null!==e&&null!=t.stateNode)Ri(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gi(t),null}if(e=Yo(Go.current),po(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pa]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Br(Fr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ae(r,s),Br("invalid",r)}for(var l in ye(n,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),a=["children",""+u]):i.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[ha]=r,Mi(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Br(Fr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":Q(e,r),a=Y(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(s in ye(n,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Br("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Di(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo($o.current),Yo(Go.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Gi(t),null;case 13:if(Ia(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),fo(),t.flags|=98560,s=!1;else if(s=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[pa]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),s=!1}else null!==oo&&(su(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dl&&(Dl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return Xo(),Oi(e,t),null===e&&jr(t.stateNode.containerInfo),Gi(t),null;case 10:return No(t.type._context),Gi(t),null;case 19:if(Ia(es),null===(s=t.memoizedState))return Gi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qi(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>jl&&(t.flags|=128,r=!0,qi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ao)return Gi(t),null}else 2*Xe()-s.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,qi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,Ea(es,r?1&n|2:1&n),t):(Gi(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $i(e,t){switch(to(t),t.tag){case 1:return Oa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ia(Ca),Ia(Na),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ia(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ia(es),null;case 4:return Xo(),null;case 10:return No(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Mi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},Ri=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yo(Go.current);var o,s=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Di=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yi=!1,Qi=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_u(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_u(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Qi||Zi(n,t);case 6:var r=cl,a=dl;cl=null,pl(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),jt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),a=a.next}while(a!==r)}pl(e,t,n);break;case 1:if(!Qi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){_u(n,t,i)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qi=(r=Qi)||null!==n.memoizedState,pl(e,t,n),Qi=r):pl(e,t,n);break;default:pl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(s,i,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){_u(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_u(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_u(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){_u(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(a,s),be(l,i);var c=be(l,s);for(i=0;i<u.length;i+=2){var d=u[i],p=u[i+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,c)}switch(l){case"input":J(a,s);break;case"textarea":oe(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(a,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(g){_u(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){_u(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){_u(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qi=(c=Qi)||d,ml(t,e),Qi=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(p=Ji=d;null!==Ji;){switch(f=(h=Ji).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Zi(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_u(r,n,g)}}break;case 5:Zi(h,h.return);break;case 22:if(null!==h.memoizedState){kl(p);continue}}null!==f?(f.return=h,Ji=f):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,c?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,i=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",i))}catch(g){_u(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){_u(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ul(e,il(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(o(161))}}catch(i){_u(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ji=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var a=Ji,o=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Yi;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Qi;i=Yi;var u=Qi;if(Yi=s,(Qi=l)&&!u)for(Ji=a;null!==Ji;)l=(s=Ji).child,22===s.tag&&null!==s.memoizedState?Sl(a):null!==l?(l.return=s,Ji=l):Sl(a);for(;null!==o;)Ji=o,bl(o,t,n),o=o.sibling;Ji=a,Yi=i,Qi=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Ji=o):wl(e)}}function wl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&jt(p)}}}break;default:throw Error(o(163))}Qi||512&t.flags&&al(t)}catch(h){_u(t,t.return,h)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function kl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Sl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_u(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){_u(t,a,l)}}var o=t.return;try{al(t)}catch(l){_u(t,o,l)}break;case 5:var s=t.return;try{al(t)}catch(l){_u(t,s,l)}}}catch(l){_u(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var xl,_l=Math.ceil,Il=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,Cl=null,Al=null,Ml=0,Ol=0,Rl=_a(0),Dl=0,Fl=null,Pl=0,Ll=0,zl=0,Bl=null,Wl=null,Ul=0,jl=1/0,Hl=null,Vl=!1,ql=null,Gl=null,Kl=!1,$l=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Nl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ml?Ml&-Ml:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Nl)&&e===Cl||(e===Cl&&(0===(2&Nl)&&(Ll|=n),4===Dl&&iu(e,Ml)),ru(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(jl=Xe()+500,Ba&&ja()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=ht(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=pt(e,e===Cl?Ml:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(lu.bind(null,e)):Ua(lu.bind(null,e)),sa((function(){0===(6&Nl)&&ja()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Jl=-1,Zl=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=pt(e,e===Cl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=Nl;Nl|=2;var s=fu();for(Cl===e&&Ml===t||(Hl=null,jl=Xe()+500,pu(e,t));;)try{yu();break}catch(l){hu(e,l)}To(),Il.current=s,Nl=a,null!==Al?t=0:(Cl=null,Ml=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=ou(e,a))),1===t)throw n=Fl,pu(e,0),iu(e,r),ru(e,Xe()),n;if(6===t)iu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!ir(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(s=ft(e))&&(r=s,t=ou(e,s))),1===t))throw n=Fl,pu(e,0),iu(e,r),ru(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:ku(e,Wl,Hl);break;case 3:if(iu(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(ku.bind(null,e,Wl,Hl),t);break}ku(e,Wl,Hl);break;case 4:if(iu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ra(ku.bind(null,e,Wl,Hl),r);break}ku(e,Wl,Hl);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Wl,Wl=n,null!==t&&su(t)),e}function su(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function iu(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Nl))throw Error(o(327));Su();var t=pt(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Fl,pu(e,0),iu(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Wl,Hl),ru(e,Xe()),null}function uu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(jl=Xe()+500,Ba&&ja())}}function cu(e){null!==$l&&0===$l.tag&&0===(6&Nl)&&Su();var t=Nl;Nl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Nl=t))&&ja()}}function du(){Ol=Rl.current,Ia(Rl)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Xo(),Ia(Ca),Ia(Na),rs();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:Ia(es);break;case 10:No(r.type._context);break;case 22:case 23:du()}n=n.return}if(Cl=e,Al=e=Ru(e.current,null),Ml=Ol=t,Dl=0,Fl=null,zl=Ll=Pl=0,Wl=Bl=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=a,r.next=s}n.pending=r}Oo=null}return e}function hu(e,t){for(;;){var n=Al;try{if(To(),as.current=Js,cs){for(var r=is.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(ss=0,us=ls=is=null,ds=!1,ps=0,El.current=null,null===n||null===n.return){Dl=1,Fl=t,Al=null;break}e:{var s=e,i=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gi(i);if(null!==f){f.flags&=-257,vi(f,i,l,0,t),1&f.mode&&mi(s,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mi(s,c,t),mu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var v=gi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vi(v,i,l,0,t),mo(ui(u,l));break e}}s=u=ui(u,l),4!==Dl&&(Dl=2),null===Bl?Bl=[s]:Bl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,hi(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,fi(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function fu(){var e=Il.current;return Il.current=Js,null===e?Js:e}function mu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Cl||0===(268435455&Pl)&&0===(268435455&Ll)||iu(Cl,Ml)}function gu(e,t){var n=Nl;Nl|=2;var r=fu();for(Cl===e&&Ml===t||(Hl=null,pu(e,t));;)try{vu();break}catch(a){hu(e,a)}if(To(),Nl=n,Il.current=r,null!==Al)throw Error(o(261));return Cl=null,Ml=0,Dl}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Ye();)bu(Al)}function bu(e){var t=xl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Ol)))return void(Al=n)}else{if(null!==(n=$i(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function ku(e,t,n){var r=bt,a=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==$l);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,s),e===Cl&&(Al=Cl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Cu(tt,(function(){return Su(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var i=bt;bt=1;var l=Nl;Nl|=4,El.current=null,function(e,t){if(ea=Vt,hr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var i=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=i+a),p!==s||0!==r&&3!==p.nodeType||(u=i+r),3===p.nodeType&&(i+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===a&&(l=i),h===s&&++d===r&&(u=i),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){_u(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ta),Vt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Qe(),Nl=l,bt=i,Tl.transition=s}else e.current=n;if(Kl&&(Kl=!1,$l=e,Yl=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Su(),s=e.pendingLanes,0!==(1&s)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,ja()}(e,t,n,r)}finally{Tl.transition=a,bt=r}return null}function Su(){if(null!==$l){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Nl))throw Error(o(331));var a=Nl;for(Nl|=4,Ji=e.current;null!==Ji;){var s=Ji,i=s.child;if(0!==(16&Ji.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ji=c;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var p=d.child;if(null!==p)p.return=d,Ji=p;else for(;null!==Ji;){var h=(d=Ji).sibling,f=d.return;if(ol(d),d===c){Ji=null;break}if(null!==h){h.return=f,Ji=h;break}Ji=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ji=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(s=Ji).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ji=y;break e}Ji=s.return}}var b=e.current;for(Ji=b;null!==Ji;){var w=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Ji=w;else e:for(i=b;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){_u(l,l.return,S)}if(l===i){Ji=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Ji=k;break e}Ji=l.return}}if(Nl=a,ja(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function xu(e,t,n){e=Wo(e,t=hi(0,t=ui(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function _u(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Wo(t,e=fi(t,e=ui(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Ml&n)===n&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Xe()-Ul?pu(e,0):zl|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Fo(e,t))&&(vt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Eu(e,n)}function Cu(e,t){return Ke(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Au(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Ou(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case x:return Fu(n.children,a,s,t);case _:i=8,a|=8;break;case I:return(e=Mu(12,n,t,2|a)).elementType=I,e.lanes=s,e;case C:return(e=Mu(13,n,t,a)).elementType=C,e.lanes=s,e;case A:return(e=Mu(19,n,t,a)).elementType=A,e.lanes=s,e;case R:return Pu(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case T:i=9;break e;case N:i=11;break e;case M:i=14;break e;case O:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Fu(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Pu(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wu(e,t,n,r,a,o,s,i,l){return e=new Bu(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Uu(e){if(!e)return Ta;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oa(n))return Fa(e,n,t)}return t}function ju(e,t,n,r,a,o,s,i,l){return(e=Wu(n,r,!0,e,0,o,0,i,l)).context=Uu(null),n=e.current,(o=Bo(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Wo(n,o,a),e.current.lanes=a,vt(e,a,r),ru(e,r),e}function Hu(e,t,n,r){var a=t.current,o=eu(),s=tu(a);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Wo(a,t,s))&&(nu(e,a,s,o),Uo(e,a,s)),s}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ci(t),fo();break;case 5:Jo(t);break;case 1:Oa(t.type)&&Pa(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(xo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(Ea(es,1&es.current),null!==(e=Vi(e,t,n))?e.sibling:null);Ea(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ji(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,_i(e,t,n)}return Vi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,ao&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hi(e,t),e=t.pendingProps;var a=Ma(t,Na.current);Ao(t,n),a=gs(null,t,r,e,a,n);var s=vs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(s=!0,Pa(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Lo(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ni(null,t,r,!0,s,n)):(t.tag=0,ao&&s&&eo(t),wi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===M)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ei(null,t,r,e,n);break e;case 1:t=Ti(null,t,r,e,n);break e;case 11:t=ki(null,t,r,e,n);break e;case 14:t=Si(null,t,r,ni(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ei(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ti(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Ci(t),null===e)throw Error(o(387));r=t.pendingProps,a=(s=t.memoizedState).element,zo(e,t),Ho(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ai(e,t,r,n,a=ui(Error(o(423)),t));break e}if(r!==a){t=Ai(e,t,r,n,a=ui(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===a){t=Vi(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==s&&na(r,s)&&(t.flags|=32),Ii(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Li(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Ea(xo,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===a.children&&!Ca.current){t=Vi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Bo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Co(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Co(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}wi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ao(t,n),r=r(a=Mo(a)),t.flags|=1,wi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),Si(e,t,r,a=ni(r.type,a),n);case 15:return xi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Hi(e,t),t.tag=1,Oa(r)?(e=!0,Pa(t)):e=!1,Ao(t,n),si(t,r,a),li(t,r,a,n),Ni(null,t,r,!0,e,n);case 19:return ji(e,t,n);case 22:return _i(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=Vu(s);i.call(e)}}Hu(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vu(s);o.call(e)}}var s=ju(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[fa]=s.current,jr(8===e.nodeType?e.parentNode:e),cu(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Vu(l);i.call(e)}}var l=Wu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[fa]=l.current,jr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,a,r);return Vu(s)}Yu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Yu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[fa]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Xe()),0===(6&Nl)&&(jl=Xe()+500,ja()))}break;case 13:cu((function(){var t=Fo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},St=function(e){if(13===e.tag){var t=Fo(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Fo(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},_t=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ka(r);if(!a)throw Error(o(90));K(r),J(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uu,Ce=cu;var ec={usingClientEntryPoint:!1,Events:[ba,wa,ka,Ee,Te,uu]},tc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(o(299));var n=!1,r="",a=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wu(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,jr(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,a,0,s,i),e[fa]=t.current,jr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:i.current}}t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,a)&&!_.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+N(l,0):o,k(s)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),C(s,t,a,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var c=o+N(i=e[u],u);l+=C(i,t,a,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=C(i=i.value,t,a,c=o+N(i,u++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!_.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],u=i+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[i]=n,r=i);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&D(k,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),f=!0;var o=h;try{for(w(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!C());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var i=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===r(u)&&a(u),w(n)}else a(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&D(k,d.startTime-n),l=!1}return l}finally{p=null,h=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,_=!1,I=null,E=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function A(){if(null!==I){var e=t.unstable_now();N=e;var n=!0;try{n=I(!0,e)}finally{n?x():(_=!1,I=null)}}else _=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=A,x=function(){O.postMessage(null)}}else x=function(){v(A,0)};function R(e){I=e,_||(_=!0,x())}function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(E),E=-1):g=!0,D(k,o-s))):(e.sortIndex=i,n(u,e),m||f||(m=!0,R(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4334:(e,t,n)=>{var r=n(7359),a=n(7066),o=n(9016),s=n(9538),i=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=a,u.xorwow=o,u.xorshift7=s,u.xor4096=i,u.tychei=l,e.exports=u},7359:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.alea=i}(0,e=n.nmd(e),n.amdD)},5262:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.tychei=i}(0,e=n.nmd(e),n.amdD)},7066:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xor128=i}(0,e=n.nmd(e),n.amdD)},6288:function(e,t,n){var r;!function(e,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,s,i=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,a=0==(n=i[127&o]^=r+s)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=i[a+34&127],n=i[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[a]=r^n;e.w=s,e.X=i,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xor4096=i}(0,e=n.nmd(e),n.amdD)},9538:function(e,t,n){var r;!function(e,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xorshift7=i}(0,e=n.nmd(e),n.amdD)},9016:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xorwow=i}(0,e=n.nmd(e),n.amdD)},2430:function(e,t,n){var r;!function(a,o,s){var i,l=256,u=s.pow(l,6),c=s.pow(2,52),d=2*c,p=255;function h(e,t,n){var r=[],p=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(o)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,y(o)]}}():e,3),r),h=new f(r),b=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,v(y(h.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(s.random=e,t):e})(b,p,"global"in t?t.global:this==s,t.state)}function f(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<l;)s[a]=a++;for(a=0;a<l;a++)s[a]=s[o=p&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=p&a+1],n=n*l+s[p&(s[a]=s[o=p&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function v(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(s.random(),o),e.exports){e.exports=h;try{i=n(1234)}catch(b){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,i=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,c=r[1];return i((function(){a.value=n,a.getSnapshot=t,u(a)&&c({inst:a})}),[e,n,t]),s((function(){return u(a)&&c({inst:a}),e((function(){u(a)&&c({inst:a})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,i=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return i=t}return i=e}if(t=i,o(s,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,i=n)}var s,i,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,a]);var h=s(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=h}),[h]),c(h),h}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},9893:()=>{},8074:()=>{},5281:()=>{},7244:()=>{},3556:()=>{},5817:()=>{},8590:()=>{},1234:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".b35844b0.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="liveness-autonomia-v2:";n.l=(r,a,o,s)=>{if(e[r])e[r].push(a);else{var i,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[a];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=o);var s=n.p+n.u(t),i=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,a[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,o,s=r[0],i=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkliveness_autonomia_v2=self.webpackChunkliveness_autonomia_v2||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{CompositeArrayBuffer:()=>Vc,browserFiles:()=>Ep,browserHTTPRequest:()=>Fp,concatenateArrayBuffers:()=>Xc,copyModel:()=>Ld,decodeWeights:()=>Kc,encodeWeights:()=>Gc,fromMemory:()=>Bp,fromMemorySync:()=>Wp,getLoadHandlers:()=>ud,getModelArtifactsForJSON:()=>td,getModelArtifactsForJSONSync:()=>ed,getModelArtifactsInfoForJSON:()=>nd,getSaveHandlers:()=>ld,getWeightSpecs:()=>rd,http:()=>Dp,isHTTPScheme:()=>Op,listModels:()=>Fd,loadWeights:()=>Cp,moveModel:()=>zd,registerLoadRouter:()=>id,registerSaveRouter:()=>sd,removeModel:()=>Pd,weightsLoaderFactory:()=>Ap,withSaveHandler:()=>Up,withSaveHandlerSync:()=>jp});var t={};n.r(t),n.d(t,{conv2d:()=>hv,depthwiseConv2d:()=>gv,matMul:()=>vv});var r={};n.r(r),n.d(r,{json:()=>pb});var a={};n.r(a),n.d(a,{json:()=>hb});var o={};n.r(o),n.d(o,{json:()=>fb});var s={};n.r(s),n.d(s,{json:()=>mb});var i={};n.r(i),n.d(i,{json:()=>gb});var l={};n.r(l),n.d(l,{json:()=>vb});var u={};n.r(u),n.d(u,{json:()=>yb});var c={};n.r(c),n.d(c,{json:()=>bb});var d={};n.r(d),n.d(d,{json:()=>wb});var p={};n.r(p),n.d(p,{json:()=>kb});var h={};n.r(h),n.d(h,{json:()=>Sb});var f={};n.r(f),n.d(f,{json:()=>xb});var m={};n.r(m),n.d(m,{json:()=>_b});var g={};n.r(g),n.d(g,{json:()=>Ib});var v={};n.r(v),n.d(v,{json:()=>Eb});var y={};n.r(y),n.d(y,{json:()=>Tb});var b={};n.r(b),n.d(b,{json:()=>Nb});var w={};n.r(w),n.d(w,{json:()=>Cb});var k={};n.r(k),n.d(k,{json:()=>Ab});var S={};n.r(S),n.d(S,{OP_SCOPE_SUFFIX:()=>zc,abs:()=>vp,acos:()=>oh,acosh:()=>sh,add:()=>Zd,addN:()=>ih,all:()=>lh,any:()=>uh,argMax:()=>ch,argMin:()=>dh,asin:()=>ph,asinh:()=>hh,atan:()=>fh,atan2:()=>mh,atanh:()=>gh,avgPool:()=>Rh,avgPool3d:()=>Dh,basicLSTMCell:()=>Wh,batchNorm:()=>jh,batchNorm2d:()=>Hh,batchNorm3d:()=>Vh,batchNorm4d:()=>qh,batchToSpaceND:()=>Uh,bincount:()=>Gh,bitwiseAnd:()=>Kh,booleanMaskAsync:()=>Jg,broadcastArgs:()=>$h,broadcastTo:()=>Yh,buffer:()=>Hd,cast:()=>Vd,ceil:()=>Qh,clipByValue:()=>Xh,clone:()=>qd,complex:()=>Wc,concat:()=>Fh,concat1d:()=>Jh,concat2d:()=>Zh,concat3d:()=>ef,concat4d:()=>tf,conv1d:()=>rf,conv2d:()=>nf,conv2dTranspose:()=>of,conv3d:()=>sf,conv3dTranspose:()=>uf,cos:()=>cf,cosh:()=>df,cosineWindow:()=>sv,cumprod:()=>pf,cumsum:()=>hf,denseBincount:()=>ff,depthToSpace:()=>mf,depthwiseConv2d:()=>gf,diag:()=>vf,dilation2d:()=>yf,div:()=>tp,divNoNan:()=>kf,dot:()=>Sf,dropout:()=>av,einsum:()=>xf,elu:()=>_f,enclosingPowerOfTwo:()=>ov,ensureShape:()=>If,equal:()=>bf,erf:()=>Ef,euclideanNorm:()=>Bf,exp:()=>Wf,expandDims:()=>Uf,expm1:()=>jf,eye:()=>Vf,fft:()=>Eg,fill:()=>fp,floor:()=>qf,floorDiv:()=>ep,fused:()=>t,gather:()=>Gf,gatherND:()=>rv,greater:()=>Kf,greaterEqual:()=>$f,ifft:()=>Tg,imag:()=>Yf,image:()=>vy,inTopKAsync:()=>iv,irfft:()=>Ng,isFinite:()=>Qf,isInf:()=>Xf,isNaN:()=>Jf,leakyRelu:()=>Zf,less:()=>em,lessEqual:()=>tm,linalg:()=>yy,linspace:()=>nm,localResponseNormalization:()=>rm,log:()=>am,log1p:()=>om,logSigmoid:()=>lm,logSoftmax:()=>um,logSumExp:()=>cm,logicalAnd:()=>dm,logicalNot:()=>pm,logicalOr:()=>hm,logicalXor:()=>fm,losses:()=>by,lowerBound:()=>vm,matMul:()=>Ph,max:()=>Df,maxPool:()=>ym,maxPool3d:()=>bm,maxPoolWithArgmax:()=>wm,maximum:()=>wp,mean:()=>km,meshgrid:()=>_m,min:()=>Ff,minimum:()=>Im,mirrorPad:()=>Em,mod:()=>Tm,moments:()=>Nm,movingAverage:()=>ev,mul:()=>np,multiRNNCell:()=>Cm,multinomial:()=>Am,neg:()=>sm,norm:()=>zf,notEqual:()=>Mm,oneHot:()=>Om,ones:()=>xm,onesLike:()=>Rm,op:()=>Bc,outerProduct:()=>Dm,pad:()=>Fm,pad1d:()=>Pm,pad2d:()=>Lm,pad3d:()=>zm,pad4d:()=>Bm,pool:()=>Um,pow:()=>mp,prelu:()=>jm,print:()=>Gd,prod:()=>Hm,raggedGather:()=>Vm,raggedRange:()=>qm,raggedTensorToTensor:()=>Gm,rand:()=>Km,randomGamma:()=>Jm,randomNormal:()=>Zm,randomStandardNormal:()=>eg,randomUniform:()=>tg,randomUniformInt:()=>ng,range:()=>rg,real:()=>ag,reciprocal:()=>og,relu:()=>sg,relu6:()=>ig,reshape:()=>Oh,reverse:()=>lg,reverse1d:()=>ug,reverse2d:()=>cg,reverse3d:()=>dg,reverse4d:()=>pg,rfft:()=>Ag,round:()=>hg,rsqrt:()=>fg,scalar:()=>ip,scatterND:()=>tv,searchSorted:()=>gm,selu:()=>mg,separableConv2d:()=>gg,setdiff1dAsync:()=>vg,sigmoid:()=>Lh,sign:()=>yg,signal:()=>gy,sin:()=>bg,sinh:()=>wg,slice:()=>zh,slice1d:()=>kg,slice2d:()=>Sg,slice3d:()=>xg,slice4d:()=>_g,softmax:()=>Ig,softplus:()=>im,spaceToBatchND:()=>Wm,sparse:()=>wy,sparseToDense:()=>nv,spectral:()=>my,split:()=>Cg,sqrt:()=>rp,square:()=>ap,squaredDifference:()=>Mg,squeeze:()=>Og,stack:()=>Rg,step:()=>Dg,stridedSlice:()=>Fg,string:()=>ky,sub:()=>gp,sum:()=>Pf,tan:()=>Pg,tanh:()=>Bh,tensor:()=>jc,tensor1d:()=>Lg,tensor2d:()=>zg,tensor3d:()=>Hp,tensor4d:()=>Bg,tensor5d:()=>Wg,tensor6d:()=>Ug,tensorScatterUpdate:()=>jg,tile:()=>Hf,topk:()=>Hg,transpose:()=>Zg,truncatedNormal:()=>Vg,unique:()=>qg,unsortedSegmentSum:()=>Gg,unstack:()=>Kg,upperBound:()=>$g,variable:()=>Yg,where:()=>wf,whereAsync:()=>Xg,zeros:()=>Sm,zerosLike:()=>op});var x={};n.r(x),n.d(x,{DirectionProvider:()=>UV,Provider:()=>HV,useDirection:()=>jV});var _=n(5043),I=n.t(_,2),E=n(4391);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function N(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}function C(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O;!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(O||(O={}));const R={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class D{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.WARN;this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e){let t=this.level;D.LOG_LEVEL&&(t=D.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(t=window.LOG_LEVEL);if(!(R[e]>=R[t]))return;let n=console.log.bind(console);e===O.ERROR&&console.error&&(n=console.error.bind(console)),e===O.WARN&&console.warn&&(n=console.warn.bind(console)),D.BIND_ALL_LOG_LEVELS&&(e===O.INFO&&console.info&&(n=console.info.bind(console)),e===O.DEBUG&&console.debug&&(n=console.debug.bind(console)));const r="[".concat(e,"] ").concat(this._ts()," ").concat(this.name);let a="";for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];if(1===s.length&&"string"===typeof s[0])a="".concat(r," - ").concat(s[0]),n(a);else if(1===s.length)a="".concat(r," ").concat(s[0]),n(r,s[0]);else if("string"===typeof s[0]){let e=s.slice(1);1===e.length&&(e=e[0]),a="".concat(r," - ").concat(s[0]," ").concat(e),n("".concat(r," - ").concat(s[0]),e)}else a="".concat(r," ").concat(s),n(r,s);for(const l of this._pluggables){const e={message:a,timestamp:Date.now()};l.pushLogs([e])}}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.INFO,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.ERROR,...t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.DEBUG,...t)}verbose(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.VERBOSE,...t)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}D.LOG_LEVEL=null,D.BIND_ALL_LOG_LEVELS=!1;class F extends Error{constructor(e){let{message:t,name:n,recoverySuggestion:r,underlyingError:a}=e;super(t),this.name=n,this.underlyingError=a,this.recoverySuggestion=r,this.constructor=F,Object.setPrototypeOf(this,F.prototype)}}const P="undefined"!==typeof Symbol?Symbol("amplify_default"):"@@amplify_default",L=new D("Hub");class z{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter((e=>{let{callback:n}=e;return n!==t}))]):L.warn("No listeners for ".concat(e))}dispatch(e,t,n,r){if("string"===typeof e&&this.protectedChannels.indexOf(e)>-1){r===P||L.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences"))}const a={channel:e,payload:M({},t),source:n,patternInfo:[]};try{this._toListeners(a)}catch(rB){L.error(rB)}}listen(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noname";if("function"!==typeof t)throw new F({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});n=t;let a=this.listeners.get(e);return a||(a=[],this.listeners.set(e,a)),a.push({name:r,callback:n}),()=>{this._remove(e,n)}}_toListeners(e){const{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach((r=>{L.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(rB){L.error(rB)}}))}}const B=new z("__default__"),W=(new z("internal-hub"),e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"===typeof t||"function"===typeof t)&&W(t)}return Object.freeze(e)}),U=Symbol("oauth-listener"),j=new D("parseAWSExports"),H={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},V=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.split(","))&&void 0!==t?t:[]},q=e=>{let{domain:t,scope:n,redirectSignIn:r,redirectSignOut:a,responseType:o}=e;return{domain:t,scopes:n,redirectSignIn:V(r),redirectSignOut:V(a),responseType:o}},G=e=>e.map((e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}));function K(e){const t={};if(e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&Z(r)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:a,mfa_configuration:o,mfa_methods:s,unauthenticated_identities_enabled:i,oauth:l,username_attributes:u,standard_required_attributes:c,groups:d}=e,p={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};var h;return r&&(p.Cognito=M(M({},p.Cognito),{},{identityPoolId:r})),a&&(p.Cognito.passwordFormat={requireLowercase:a.require_lowercase,requireNumbers:a.require_numbers,requireUppercase:a.require_uppercase,requireSpecialCharacters:a.require_symbols,minLength:null!==(h=a.min_length)&&void 0!==h?h:6}),o&&(p.Cognito.mfa={status:J(o),smsEnabled:null===s||void 0===s?void 0:s.includes("SMS"),totpEnabled:null===s||void 0===s?void 0:s.includes("TOTP")}),i&&(p.Cognito.allowGuestAccess=i),l&&(p.Cognito.loginWith={oauth:{domain:l.domain,redirectSignIn:l.redirect_sign_in_uri,redirectSignOut:l.redirect_sign_out_uri,responseType:"token"===l.response_type?"token":"code",scopes:l.scopes,providers:X(l.identity_providers)}}),u&&(p.Cognito.loginWith=M(M({},p.Cognito.loginWith),{},{email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")})),c&&(p.Cognito.userAttributes=c.reduce(((e,t)=>M(M({},e),{},{[t]:{required:!0}})),{})),p}(e.auth)),e.analytics&&(t.Analytics=function(e){if(null===e||void 0===e||!e.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:a}=e;return{LocationService:{region:t,searchIndices:a,geofenceCollections:n,maps:r}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:a,model_introspection:o}=e;return{GraphQL:{endpoint:r,defaultAuthMode:Y(n),region:t,apiKey:a,modelIntrospection:o}}}(e.data)),e.custom){const n=function(e){if(null===e||void 0===e||!e.events)return;const{url:t,aws_region:n,api_key:r,default_authorization_type:a}=e.events;return{Events:{endpoint:t,defaultAuthMode:Y(a),region:n,apiKey:r}}}(e.custom);n&&"Events"in n&&(t.API=M(M({},t.API),n))}return e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,a=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!a&&!o)return;const s={};return a&&(s.InAppMessaging={Pinpoint:{appId:r,region:t}}),o&&(s.PushNotification={Pinpoint:{appId:r,region:t}}),s}(e.notifications)),t}const $={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function Y(e){return $[e]}const Q={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function X(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>(void 0!==Q[t]&&e.push(Q[t]),e)),[])}function J(e){return"OPTIONAL"===e?"optional":"REQUIRED"===e?"on":"off"}function Z(e){const t={};return e.forEach((e=>{let{name:n,bucket_name:r,aws_region:a,paths:o}=e;if(n in t)throw new Error("Duplicate friendly name found: ".concat(n,". Name must be unique."));t[n]={bucketName:r,region:a,paths:o}})),t}const ee=e=>Object.keys(e).some((e=>e.startsWith("aws_")))?function(){var e,t,n,r,a,o,s,i,l,u,c,d;let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.prototype.hasOwnProperty.call(p,"aws_project_region"))throw new F({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:h,aws_appsync_authenticationType:f,aws_appsync_graphqlEndpoint:m,aws_appsync_region:g,aws_bots_config:v,aws_cognito_identity_pool_id:y,aws_cognito_sign_up_verification_method:b,aws_cognito_mfa_configuration:w,aws_cognito_mfa_types:k,aws_cognito_password_protection_settings:S,aws_cognito_verification_mechanisms:x,aws_cognito_signup_attributes:_,aws_cognito_social_providers:I,aws_cognito_username_attributes:E,aws_mandatory_sign_in:T,aws_mobile_analytics_app_id:N,aws_mobile_analytics_app_region:C,aws_user_files_s3_bucket:A,aws_user_files_s3_bucket_region:O,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:R,aws_user_pools_id:D,aws_user_pools_web_client_id:P,geo:L,oauth:z,predictions:B,aws_cloud_logic_custom:W,Notifications:U,modelIntrospection:V}=p,K={};N&&(K.Analytics={Pinpoint:{appId:N,region:C}});const{InAppMessaging:$,Push:Y}=null!==U&&void 0!==U?U:{};if(null!==$&&void 0!==$&&$.AWSPinpoint||null!==Y&&void 0!==Y&&Y.AWSPinpoint){if(null!==$&&void 0!==$&&$.AWSPinpoint){const{appId:e,region:t}=$.AWSPinpoint;K.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(null!==Y&&void 0!==Y&&Y.AWSPinpoint){const{appId:e,region:t}=Y.AWSPinpoint;K.Notifications=M(M({},K.Notifications),{},{PushNotification:{Pinpoint:{appId:e,region:t}}})}}if(Array.isArray(v)&&(K.Interactions={LexV1:Object.fromEntries(v.map((e=>[e.name,e])))}),m){const e=H[f];e||j.debug("Invalid authentication type ".concat(f,". Falling back to IAM.")),K.API={GraphQL:{endpoint:m,apiKey:h,region:g,defaultAuthMode:null!==e&&void 0!==e?e:"iam"}},V&&(K.API.GraphQL.modelIntrospection=V)}const Q=w?{status:w&&w.toLowerCase(),totpEnabled:null!==(e=null===k||void 0===k?void 0:k.includes("TOTP"))&&void 0!==e&&e,smsEnabled:null!==(t=null===k||void 0===k?void 0:k.includes("SMS"))&&void 0!==t&&t}:void 0,X=S?{minLength:S.passwordPolicyMinLength,requireLowercase:null!==(n=null===(r=S.passwordPolicyCharacters)||void 0===r?void 0:r.includes("REQUIRES_LOWERCASE"))&&void 0!==n&&n,requireUppercase:null!==(a=null===(o=S.passwordPolicyCharacters)||void 0===o?void 0:o.includes("REQUIRES_UPPERCASE"))&&void 0!==a&&a,requireNumbers:null!==(s=null===(i=S.passwordPolicyCharacters)||void 0===i?void 0:i.includes("REQUIRES_NUMBERS"))&&void 0!==s&&s,requireSpecialCharacters:null!==(l=null===(u=S.passwordPolicyCharacters)||void 0===u?void 0:u.includes("REQUIRES_SYMBOLS"))&&void 0!==l&&l}:void 0,J=Array.from(new Set([...null!==x&&void 0!==x?x:[],...null!==_&&void 0!==_?_:[]])).reduce(((e,t)=>M(M({},e),{},{[t.toLowerCase()]:{required:!0}})),{}),Z=null!==(c=null===E||void 0===E?void 0:E.includes("EMAIL"))&&void 0!==c&&c,ee=null!==(d=null===E||void 0===E?void 0:E.includes("PHONE_NUMBER"))&&void 0!==d&&d;(y||D)&&(K.Auth={Cognito:{identityPoolId:y,allowGuestAccess:"enable"!==T,signUpVerificationMethod:b,userAttributes:J,userPoolClientId:P,userPoolId:D,mfa:Q,passwordFormat:X,loginWith:{username:!(Z||ee),email:Z,phone:ee}}});const te=!!z&&Object.keys(z).length>0,ne=!!I&&I.length>0;if(K.Auth&&te&&(K.Auth.Cognito.loginWith=M(M({},K.Auth.Cognito.loginWith),{},{oauth:M(M({},q(z)),ne&&{providers:G(I)})})),A&&(K.Storage={S3:{bucket:A,region:O,dangerouslyConnectToHttpEndpointForTesting:R}}),L){const{amazon_location_service:e}=L;K.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(W&&(K.API=M(M({},K.API),{},{REST:W.reduce(((e,t)=>{const{name:n,endpoint:r,region:a,service:o}=t;return M(M({},e),{},{[n]:M(M({endpoint:r},o?{service:o}:void 0),a?{region:a}:void 0)})}),{})})),B){var re,ae;const{VoiceId:e}=null!==(re=null===B||void 0===B||null===(ae=B.convert)||void 0===ae||null===(ae=ae.speechGenerator)||void 0===ae?void 0:ae.defaults)&&void 0!==re?re:{};K.Predictions=e?M(M({},B),{},{convert:M(M({},B.convert),{},{speechGenerator:M(M({},B.convert.speechGenerator),{},{defaults:{voiceId:e}})})}):B}return K}(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?K(e):e;function te(e){let{expiresAt:t,clockDrift:n}=e;return Date.now()+n>t}class ne{configure(e,t){this.authConfig=e,this.authOptions=t}async fetchAuthSession(){var e,t;let n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=await this.getTokens(a);var s,i,l;o?(r=null===(s=o.accessToken)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.sub,n=await(null===(i=this.authOptions)||void 0===i||null===(i=i.credentialsProvider)||void 0===i?void 0:i.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:o,authenticated:!0,forceRefresh:a.forceRefresh}))):n=await(null===(l=this.authOptions)||void 0===l||null===(l=l.credentialsProvider)||void 0===l?void 0:l.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:a.forceRefresh}));return{tokens:o,credentials:null===(e=n)||void 0===e?void 0:e.credentials,identityId:null===(t=n)||void 0===t?void 0:t.identityId,userSub:r}}async clearCredentials(){var e;await(null===(e=this.authOptions)||void 0===e||null===(e=e.credentialsProvider)||void 0===e?void 0:e.clearCredentialsAndIdentityId())}async getTokens(e){var t,n;return null!==(t=await(null===(n=this.authOptions)||void 0===n||null===(n=n.tokenProvider)||void 0===n?void 0:n.getTokens(e)))&&void 0!==t?t:void 0}}function re(e,t,n,r){return new(n||(n=Promise))((function(a,o){function s(e){try{l(r.next(e))}catch(rB){o(rB)}}function i(e){try{l(r.throw(e))}catch(rB){o(rB)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))}function ae(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(rB){i=[6,rB],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}Object.create;function oe(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;"function"===typeof SuppressedError&&SuppressedError;var se=64,ie=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),le=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ue=Math.pow(2,53)-1,ce=function(){function e(){this.state=Int32Array.from(le),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>ue)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===se&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%se>=56){for(var r=this.bufferLength;r<se;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var a=new Uint8Array(32);for(r=0;r<8;r++)a[4*r]=this.state[r]>>>24&255,a[4*r+1]=this.state[r]>>>16&255,a[4*r+2]=this.state[r]>>>8&255,a[4*r+3]=this.state[r]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],i=t[5],l=t[6],u=t[7],c=0;c<se;c++){if(c<16)this.temp[c]=(255&e[4*c])<<24|(255&e[4*c+1])<<16|(255&e[4*c+2])<<8|255&e[4*c+3];else{var d=this.temp[c-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[c-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[c]=(p+this.temp[c-7]|0)+(h+this.temp[c-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&i^~s&l)|0)+(u+(ie[c]+this.temp[c]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&a^r&a)|0;u=l,l=i,i=s,s=o+f|0,o=a,a=r,r=n,n=f+m|0}t[0]+=n,t[1]+=r,t[2]+=a,t[3]+=o,t[4]+=s,t[5]+=i,t[6]+=l,t[7]+=u},e}();const de=e=>(new TextEncoder).encode(e);var pe="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:de;function he(e){return e instanceof Uint8Array?e:"string"===typeof e?pe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function fe(e){return"string"===typeof e?0===e.length:0===e.byteLength}var me=function(){function e(e){this.secret=e,this.hash=new ce,this.reset()}return e.prototype.update=function(e){if(!fe(e)&&!this.error)try{this.hash.update(he(e))}catch(rB){this.error=rB}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return re(this,void 0,void 0,(function(){return ae(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new ce,this.secret){this.outer=new ce;var e=function(e){var t=he(e);if(t.byteLength>se){var n=new ce;n.update(t),t=n.digest()}var r=new Uint8Array(se);return r.set(t),r}(this.secret),t=new Uint8Array(se);t.set(e);for(var n=0;n<se;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();const ge={},ve={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),ge[n]=e,ve[e]=n}const ye=new class{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new ne}configure(e,t){const n=ee(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=W(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),B.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",P),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[U](e){var t,n;null!==(t=this.resourcesConfig.Auth)&&void 0!==t&&null!==(t=t.Cognito.loginWith)&&void 0!==t&&t.oauth?e(null===(n=this.resourcesConfig.Auth)||void 0===n?void 0:n.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,t;null!==(e=this.resourcesConfig.Auth)&&void 0!==e&&null!==(e=e.Cognito.loginWith)&&void 0!==e&&e.oauth&&this.oAuthListener&&(this.oAuthListener(null===(t=this.resourcesConfig.Auth)||void 0===t?void 0:t.Cognito),this.oAuthListener=void 0)}};function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var we,ke=function e(t,n){function r(e,r,a){if("undefined"!==typeof document){"number"===typeof(a=be({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),s=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(r[i]=t.read(s,i),e===i)break}catch(rB){}}return e?r[e]:r}},remove:function(e,t){r(e,"",be({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,be({},this.attributes,t))},withConverter:function(t){return e(be({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class Se{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{path:t,domain:n,expires:r,sameSite:a,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||o,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!a||!["strict","lax","none"].includes(a))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===a&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=a}}async setItem(e,t){ke.set(e,t,this.getData())}async getItem(e){const t=ke.get(e);return null!==t&&void 0!==t?t:null}async removeItem(e){ke.remove(e,this.getData())}async clear(){const e=ke.get(),t=Object.keys(e).map((e=>this.removeItem(e)));await Promise.all(t)}getData(){return M({path:this.path,expires:this.expires,domain:this.domain,secure:this.secure},this.sameSite&&{sameSite:this.sameSite})}}!function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"}(we||(we={}));class xe extends F{constructor(){super({name:we.PlatformNotSupported,message:"Function not supported on current platform"})}}class _e{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new xe;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new xe;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new xe;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new xe;this.storage.clear()}}class Ie{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){var t;return null!==(t=this.storage.get(e))&&void 0!==t?t:null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const Ee=new D("CoreStorageUtils"),Te=()=>{try{if("undefined"!==typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch(rB){return Ee.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new Ie}};class Ne{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new xe;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}const Ce=new class extends _e{constructor(){super((()=>{try{if("undefined"!==typeof window&&window.localStorage)return window.localStorage}catch(rB){Ee.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new Ie})())}},Ae=(new class extends _e{constructor(){super(Te())}},new class extends Ne{constructor(){super(Te())}},new _e(new Ie),{convert(e,t){let n=e;return null!==t&&void 0!==t&&t.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(()=>{if("undefined"!==typeof window&&"function"===typeof window.atob)return window.atob;if("function"===typeof atob)return atob;throw new F({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(n)}}),Me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;return(n,r,a)=>{const{message:o,recoverySuggestion:s}=e[r];if(!n)throw new t({name:r,message:a?"".concat(o," ").concat(a):o,recoverySuggestion:s})}};var Oe;!function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"}(Oe||(Oe={}));const Re=Me({[Oe.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[Oe.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[Oe.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[Oe.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[Oe.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function De(e){let t=!0;t=!!e&&(!!e.userPoolId&&!!e.userPoolClientId),Re(t,Oe.AuthUserPoolException)}function Fe(e){const t=!(null===e||void 0===e||!e.identityPoolId);Re(t,Oe.InvalidIdentityPoolIdException)}function Pe(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(Ae.convert(n).split("").map((e=>"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2)))).join(""));return{toString:()=>e,payload:JSON.parse(r)}}catch(n){throw new Error("Invalid token payload")}}class Le extends F{constructor(e){super(e),this.constructor=Le,Object.setPrototypeOf(this,Le.prototype)}}function ze(e){if(!e||!e.includes(":"))throw new Le({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const Be="UserUnAuthenticatedException";new Le({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new Le({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new Le({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new Le({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const We=new Le({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),Ue=new Le({name:Be,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function je(e){if(function(e){return Ve(e)&&!(null!==e&&void 0!==e&&e.refreshToken)}(e))throw We;if(!function(e){return Ve(e)&&(null===e||void 0===e?void 0:e.refreshToken)}(e))throw Ue}const He={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function Ve(e){return(null===e||void 0===e?void 0:e.accessToken)||(null===e||void 0===e?void 0:e.idToken)}const qe=(e,t,n,r)=>async(a,o)=>{const s=M(M({},r),a),i=await s.endpointResolver(s,o),l=await t(o,i),u=await e(l,M({},s));return n(u)},Ge=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityProviderService.".concat(e)}),Ke=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}},$e=e=>{var t,n;const{headers:r,statusCode:a}=e;return M(M({},Ye(e)?e.$metadata:{}),{},{httpStatusCode:a,requestId:null!==(t=null!==(n=r["x-amzn-requestid"])&&void 0!==n?n:r["x-amzn-request-id"])&&void 0!==t?t:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})},Ye=e=>"object"===typeof(null===e||void 0===e?void 0:e.$metadata),Qe=async e=>{var t,n,r,a,o;if(!e||e.statusCode<300)return;const s=await Xe(e),i=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(null!==(t=null!==(n=null!==(r=e.headers["x-amzn-errortype"])&&void 0!==r?r:s.code)&&void 0!==n?n:s.__type)&&void 0!==t?t:"UnknownError"),l=null!==(a=null!==(o=s.message)&&void 0!==o?o:s.Message)&&void 0!==a?a:"Unknown error",u=new Error(l);return Object.assign(u,{name:i,$metadata:$e(e)})},Xe=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:$e(e)})};function Je(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new Le({name:we.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Ze=(e,t)=>(n,r)=>{const a={};let o=t=>e(t,r);for(let e=t.length-1;e>=0;e--){o=(0,t[e])(r)(o,a)}return o(n)},et=3,tt=(e,t)=>{if(null!==t&&void 0!==t&&t.aborted)return Promise.resolve();let n,r;const a=new Promise((t=>{r=t,n=setTimeout(t,e)}));return null===t||void 0===t||t.addEventListener("abort",(function e(a){clearTimeout(n),null===t||void 0===t||t.removeEventListener("abort",e),r()})),a},nt=(e,t)=>{var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=M(M({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{},{attempts:t}))},rt=e=>{let t;return()=>(t||(t=e()),t)},at=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),ot=Ze((async(e,t)=>{var n,r;let a,{url:o,method:s,headers:i,body:l}=e,{abortSignal:u,cache:c,withCrossDomainCredentials:d}=t;try{a=await fetch(o,{method:s,headers:i,body:at(s)?l:void 0,signal:u,cache:c,credentials:d?"include":"same-origin"})}catch(rB){if(rB instanceof TypeError)throw new F({name:we.NetworkError,message:"A network error has occurred.",underlyingError:rB});throw rB}const p={};null===(n=a.headers)||void 0===n||n.forEach(((e,t)=>{p[t.toLowerCase()]=e}));const h={statusCode:a.status,headers:p,body:null},f=Object.assign(null!==(r=a.body)&&void 0!==r?r:{},{text:rt((()=>a.text())),blob:rt((()=>a.blob())),json:rt((()=>a.json()))});return M(M({},h),{},{body:f})}),[e=>{let{userAgentHeader:t="x-amz-user-agent",userAgentValue:n=""}=e;return e=>async function(r){if(0===n.trim().length){return await e(r)}{const a=t.toLowerCase();r.headers[a]=r.headers[a]?"".concat(r.headers[a]," ").concat(n):n;return await e(r)}}},e=>{let{maxAttempts:t=et,retryDecider:n,computeDelay:r,abortSignal:a}=e;if(t<1)throw new Error("maxAttempts must be greater than 0");return(e,o)=>async function(s){var i;let l,u,c=null!==(i=o.attemptsCount)&&void 0!==i?i:0;const d=()=>{if(u)return nt(u,c),u;throw nt(l,c),l};for(;(null===a||void 0===a||!a.aborted)&&c<t;){var p,h;try{u=await e(s),l=void 0}catch(rB){l=rB,u=void 0}c=(null!==(p=o.attemptsCount)&&void 0!==p?p:0)>c?null!==(h=o.attemptsCount)&&void 0!==h?h:0:c+1,o.attemptsCount=c;const{isCredentialsExpiredError:i,retryable:f}=await n(u,l,o);if(!f)return d();if(o.isCredentialsExpired=!!i,(null===a||void 0===a||!a.aborted)&&c<t){const e=r(c);await tt(e,a)}}if(null!==a&&void 0!==a&&a.aborted)throw new Error("Request aborted.");return d()}}]),st=Ze(ot,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),it=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],lt=e=>async(t,n)=>{var r;const a=null!==(r=null!==n&&void 0!==n?n:await e(t))&&void 0!==r?r:void 0,o=(null===a||void 0===a?void 0:a.code)||(null===a||void 0===a?void 0:a.name),s=null===t||void 0===t?void 0:t.statusCode;return{retryable:pt(n)||dt(s,o)||(e=>!!e&&it.includes(e))(o)||ht(s,o)}},ut=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],ct=["TimeoutError","RequestTimeout","RequestTimeoutException"],dt=(e,t)=>429===e||!!t&&ut.includes(t),pt=e=>[we.NetworkError,"ERR_NETWORK"].includes(null===e||void 0===e?void 0:e.name),ht=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&ct.includes(t),ft=3e5;function mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}const gt=3e5,vt=e=>{const t=mt(gt)(e);return!1===t?gt:t};var yt,bt,wt,kt,St,xt,_t,It,Et,Tt,Nt,Ct,At,Mt;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(yt||(yt={})),function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(bt||(bt={})),function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"}(wt||(wt={})),function(e){e.Record="1",e.IdentifyUser="2"}(kt||(kt={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(St||(St={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"}(xt||(xt={})),function(e){e.Subscribe="1",e.GraphQl="2"}(_t||(_t={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(It||(It={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(Et||(Et={})),function(e){e.None="0"}(Tt||(Tt={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(Nt||(Nt={})),function(e){e.Subscribe="1"}(Ct||(Ct={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(At||(At={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"}(Mt||(Mt={}));const Ot="6.11.0",Rt=()=>"undefined"!==typeof global,Dt=()=>"undefined"!==typeof window,Ft=()=>"undefined"!==typeof document,Pt=()=>"undefined"!==typeof process,Lt=(e,t)=>!!Object.keys(e).find((e=>e.startsWith(t)));const zt=[{platform:yt.Expo,detectionMethod:function(){return Rt()&&"undefined"!==typeof global.expo}},{platform:yt.ReactNative,detectionMethod:function(){return"undefined"!==typeof navigator&&"undefined"!==typeof navigator.product&&"ReactNative"===navigator.product}},{platform:yt.NextJs,detectionMethod:function(){return Dt()&&window.next&&"object"===typeof window.next}},{platform:yt.Nuxt,detectionMethod:function(){return Dt()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:yt.Angular,detectionMethod:function(){const e=Boolean(Ft()&&document.querySelector("[ng-version]")),t=Boolean(Dt()&&"undefined"!==typeof window.ng);return e||t}},{platform:yt.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return Ft()&&Array.from(document.querySelectorAll("[id]")).some((t=>Object.keys(t).find(e)))}},{platform:yt.VueJs,detectionMethod:function(){return Dt()&&Lt(window,"__VUE")}},{platform:yt.Svelte,detectionMethod:function(){return Dt()&&Lt(window,"__SVELTE")}},{platform:yt.WebUnknown,detectionMethod:function(){return Dt()}},{platform:yt.NextJsSSR,detectionMethod:function(){return Rt()&&(Lt(global,"__next")||Lt(global,"__NEXT"))}},{platform:yt.NuxtSSR,detectionMethod:function(){return Rt()&&"undefined"!==typeof global.__NUXT_PATHS__}},{platform:yt.ReactSSR,detectionMethod:function(){return Pt()&&!!Object.keys({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).find((e=>e.includes("react")))}},{platform:yt.VueJsSSR,detectionMethod:function(){return Rt()&&Lt(global,"__VUE")}},{platform:yt.AngularSSR,detectionMethod:function(){var e;return Pt()&&(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.npm_lifecycle_script)||void 0===e?void 0:e.startsWith("ng "))||!1}},{platform:yt.SvelteSSR,detectionMethod:function(){return Pt()&&!!Object.keys({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).find((e=>e.includes("svelte")))}}];let Bt;const Wt=[];let Ut=!1;const jt=()=>{if(!Bt){if(Bt=function(){var e;return(null===(e=zt.find((e=>e.detectionMethod())))||void 0===e?void 0:e.platform)||yt.ServerSideUnknown}(),Ut)for(;Wt.length;){var e;null===(e=Wt.pop())||void 0===e||e()}else Wt.forEach((e=>{e()}));Vt(yt.ServerSideUnknown,10),Vt(yt.WebUnknown,10)}return Bt},Ht=e=>{Ut||Wt.push(e)};function Vt(e,t){Bt!==e||Ut||setTimeout((()=>{Bt=void 0,Ut=!0,setTimeout(jt,1e3)}),t)}const qt={},Gt="aws-amplify",Kt=e=>e.replace(/\+.*/,"");new class{constructor(){this.userAgent="".concat(Gt,"/").concat(Kt(Ot))}get framework(){return jt()}get isReactNative(){return this.framework===yt.ReactNative||this.framework===yt.Expo}observeFrameworkChanges(e){Ht(e)}};const $t=function(){let{category:e,action:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[[Gt,Kt(Ot)]];if(e&&n.push([e,t]),n.push(["framework",jt()]),e&&t){const r=((e,t)=>{var n;return null===(n=qt[e])||void 0===n||null===(n=n[t])||void 0===n?void 0:n.additionalDetails})(e,t);r&&r.forEach((e=>{n.push(e)}))}return n},Yt=e=>$t(e).map((e=>{let[t,n]=e;return t&&n?"".concat(t,"/").concat(n):t})).join(" "),Qt="cognito-idp",Xt={service:Qt,retryDecider:lt(Qe),computeDelay:vt,userAgentValue:Yt(),cache:"no-store"},Jt=e=>{return qe(st,(t="InitiateAuth",(e,n)=>{const r=Ge(t),a=JSON.stringify(e);return Ke(n,r,a)}),(async e=>{if(e.statusCode>=300){const t=await Qe(e);throw Je(t),new Le({name:t.name,message:t.message})}return Xe(e)}),M(M({},Xt),e));var t},Zt=URL,en={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},tn={partitions:[en,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},nn=e=>{const{partitions:t}=tn;for(const{regions:n,outputs:r,regionRegex:a}of t){const t=new RegExp(a);if(n.includes(e)||t.test(e))return r.dnsSuffix}return en.outputs.dnsSuffix},rn=e=>{let{endpointOverride:t}=e;return e=>t?{url:new Zt(t)}:(e=>{let{region:t}=e;return{url:new Zt("https://".concat(Qt,".").concat(t,".").concat(nn(t)))}})(e)};const an=async e=>{var t,n;let{tokens:r,authConfig:a,username:o}=e;De(null===a||void 0===a?void 0:a.Cognito);const{userPoolId:s,userPoolClientId:i,userPoolEndpoint:l}=a.Cognito,u=function(e){const t=null===e||void 0===e?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!==typeof t)throw new Le({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(s);je(r);const c=r.refreshToken,d={REFRESH_TOKEN:c};null!==(t=r.deviceMetadata)&&void 0!==t&&t.deviceKey&&(d.DEVICE_KEY=r.deviceMetadata.deviceKey);const p=function(e){let{username:t,userPoolId:n,userPoolClientId:r}=e;if("undefined"===typeof window)return;const a=window.AmazonCognitoAdvancedSecurityData;if("undefined"===typeof a)return;const o=a.getData(t,n,r);if(o)return{EncodedData:o};return{}}({username:o,userPoolId:s,userPoolClientId:i}),h=Jt({endpointResolver:rn({endpointOverride:l})}),{AuthenticationResult:f}=await h({region:u},{ClientId:i,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:d,UserContextData:p}),m=Pe(null!==(n=null===f||void 0===f?void 0:f.AccessToken)&&void 0!==n?n:""),g=null!==f&&void 0!==f&&f.IdToken?Pe(f.IdToken):void 0,{iat:v}=m.payload;if(!v)throw new Le({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:m,idToken:g,clockDrift:1e3*v-(new Date).getTime(),refreshToken:c,username:o}},on=(e=>{let t;return async function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t||(t=new Promise(((n,a)=>{e(...r).then((e=>{n(e)})).catch((e=>{a(e)})).finally((()=>{t=void 0}))})),t)}})(an),sn={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var ln;!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(ln||(ln={}));const un=Me({[ln.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}});class cn{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new Le({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{var e,t,n;const r=await this.getAuthKeys(),a=await this.getKeyValueStorage().getItem(r.accessToken);if(!a)throw new Le({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const o=Pe(a),s=await this.getKeyValueStorage().getItem(r.idToken),i=s?Pe(s):void 0,l=null!==(e=await this.getKeyValueStorage().getItem(r.refreshToken))&&void 0!==e?e:void 0,u=null!==(t=await this.getKeyValueStorage().getItem(r.clockDrift))&&void 0!==t?t:"0",c=Number.parseInt(u),d=await this.getKeyValueStorage().getItem(r.signInDetails),p={accessToken:o,idToken:i,refreshToken:l,deviceMetadata:null!==(n=await this.getDeviceMetadata())&&void 0!==n?n:void 0,clockDrift:c,username:await this.getLastAuthUser()};return d&&(p.signInDetails=JSON.parse(d)),p}catch(r){return null}}async storeTokens(e){un(void 0!==e,ln.InvalidAuthTokens),await this.clearTokens();const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(n.clockDrift,"".concat(e.clockDrift))}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),a=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return a&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:a}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){var t;De(null===(t=this.authConfig)||void 0===t?void 0:t.Cognito);const n=null!==e&&void 0!==e?e:await this.getLastAuthUser();return dn(this.name,"".concat(this.authConfig.Cognito.userPoolClientId,".").concat(n))}getLastAuthUserKey(){var e;De(null===(e=this.authConfig)||void 0===e?void 0:e.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return"".concat(this.name,".").concat(t,".LastAuthUser")}async getLastAuthUser(){var e;return null!==(e=await this.getKeyValueStorage().getItem(this.getLastAuthUserKey()))&&void 0!==e?e:"username"}async setOAuthMetadata(e){const{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}const dn=(e,t)=>pn(sn)("".concat(e),t);function pn(e){const t=Object.values(M({},e));return(e,n)=>t.reduce(((t,r)=>M(M({},t),{},{[r]:"".concat(e,".").concat(n,".").concat(r)})),{})}const hn="amplify-signin-with-hostedUI",fn="CognitoIdentityServiceProvider";const mn=(e,t)=>pn(He)(e,t),gn=new class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){De(this.cognitoConfig);const e=mn(fn,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){De(this.cognitoConfig);const e=mn(fn,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(hn),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){De(this.cognitoConfig);const e=mn(fn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){De(this.cognitoConfig);const t=mn(fn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){De(this.cognitoConfig);const e=mn(fn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){De(this.cognitoConfig);const t=mn(fn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){De(this.cognitoConfig);const e=mn(fn,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){De(this.cognitoConfig);const t=mn(fn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,"".concat(e))}async loadOAuthSignIn(){var e,t;De(this.cognitoConfig);const n=mn(fn,this.cognitoConfig.userPoolClientId),r=await this.keyValueStorage.getItem(hn),[a,o]=null!==(e=null===(t=await this.keyValueStorage.getItem(n.oauthSignIn))||void 0===t?void 0:t.split(","))&&void 0!==e?e:[];return{isOAuthSignIn:"true"===a||"true"===r,preferPrivateSession:"true"===o}}async storeOAuthSignIn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];De(this.cognitoConfig);const n=mn(fn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,"".concat(e,",").concat(t))}}(Ce),vn=[];class yn{constructor(){this.waitForInflightOAuth="undefined"!==typeof window&&"undefined"!==typeof window.document?async()=>{if(await gn.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise(((e,t)=>{var n;n=e,vn.push(n)}))),this.inflightPromise}:async()=>{}}setAuthConfig(e){gn.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new Le({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new Le({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){var t,n,r,a,o,s,i,l,u,c;let d;try{var p;De(null===(p=this.authConfig)||void 0===p?void 0:p.Cognito)}catch(g){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,d=await this.getTokenStore().loadTokens();const h=await this.getTokenStore().getLastAuthUser();if(null===d)return null;const f=!(null===(t=d)||void 0===t||!t.idToken)&&te({expiresAt:1e3*(null!==(n=null===(r=d.idToken)||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.exp)&&void 0!==n?n:0),clockDrift:null!==(a=d.clockDrift)&&void 0!==a?a:0}),m=te({expiresAt:1e3*(null!==(o=null===(s=d.accessToken)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.exp)&&void 0!==o?o:0),clockDrift:null!==(i=d.clockDrift)&&void 0!==i?i:0});return(null!==e&&void 0!==e&&e.forceRefresh||f||m)&&(d=await this.refreshTokens({tokens:d,username:h}),null===d)?null:{accessToken:null===(l=d)||void 0===l?void 0:l.accessToken,idToken:null===(u=d)||void 0===u?void 0:u.idToken,signInDetails:null===(c=d)||void 0===c?void 0:c.signInDetails}}async refreshTokens(e){let{tokens:t,username:n}=e;try{const{signInDetails:e}=t,r=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n});return r.signInDetails=e,await this.setTokens({tokens:r}),B.dispatch("auth",{event:"tokenRefresh"},"Auth",P),r}catch(r){return this.handleErrors(r)}}handleErrors(e){if(Je(e),e.name!==we.NetworkError&&this.clearTokens(),B.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",P),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens(e){let{tokens:t}=e;return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}const bn=new class{constructor(){this.authTokenStore=new cn,this.authTokenStore.setKeyValueStorage(Ce),this.tokenOrchestrator=new yn,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(on)}getTokens(){let{forceRefresh:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceRefresh:!1};return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:wn}=bn,kn={identityId:"identityId"},Sn=new D("DefaultIdentityIdStore");const xn=(e,t)=>pn(kn)("com.amplify.".concat(e),t),_n=Ze(ot,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),In={service:"cognito-identity",endpointResolver:e=>{let{region:t}=e;return{url:new Zt("https://cognito-identity.".concat(t,".").concat(nn(t)))}},retryDecider:lt(Qe),computeDelay:vt,userAgentValue:Yt(),cache:"no-store"};Ht((()=>{In.userAgentValue=Yt()}));const En=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}),Tn=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}},Nn=function(){let{AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r&&new Date(1e3*r)}},Cn=qe(_n,((e,t)=>{const n=En("GetCredentialsForIdentity"),r=JSON.stringify(e);return Tn(t,n,r)}),(async e=>{if(e.statusCode>=300){throw await Qe(e)}{const t=await Xe(e);return{IdentityId:t.IdentityId,Credentials:Nn(t.Credentials),$metadata:$e(e)}}}),In),An=qe(_n,((e,t)=>{const n=En("GetId"),r=JSON.stringify(e);return Tn(t,n,r)}),(async e=>{if(e.statusCode>=300){throw await Qe(e)}return{IdentityId:(await Xe(e)).IdentityId,$metadata:$e(e)}}),In);function Mn(e){const t=Pe(e).payload.iss,n={};if(!t)throw new Le({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}const On=new D("CognitoIdentityIdProvider");async function Rn(e,t){const n=null===t||void 0===t?void 0:t.identityPoolId,r=ze(n),a=(await An({region:r},{IdentityPoolId:n,Logins:e})).IdentityId;if(!a)throw new Le({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return a}const Dn=new D("CognitoCredentialsProvider"),Fn=3e6;const Pn=new class{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){Dn.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Dn.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:r}=e;try{Fe(null===r||void 0===r?void 0:r.Cognito)}catch(i){return}if(!t&&!r.Cognito.allowGuestAccess)return;const{forceRefresh:a}=e,o=this.hasTokenChanged(n),s=await async function(e){let{tokens:t,authConfig:n,identityIdStore:r}=e;r.setAuthConfig({Cognito:n});let a=await r.loadIdentityId();if(t){if(a&&"primary"===a.type)return a.id;{const e=t.idToken?Mn(t.idToken.toString()):{},r=await Rn(e,n);a&&a.id===r&&On.debug("The guest identity ".concat(a.id," has become the primary identity.")),a={id:r,type:"primary"}}}else{if(a&&"guest"===a.type)return a.id;a={id:await Rn({},n),type:"guest"}}return r.storeIdentityId(a),a.id}({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(a||o)&&this.clearCredentials(),t?(function(e){if(!e||!e.idToken)throw new Le({name:Be,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(r.Cognito,n,s)):this.getGuestCredentials(s,r.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return Dn.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=ze(t.identityPoolId),r=await Cn({region:n},{IdentityId:e});if(r.Credentials&&r.Credentials.AccessKeyId&&r.Credentials.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+Fn;const t={credentials:{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration},identityId:e},n=r.IdentityId;return n&&(t.identityId=n,this._identityIdStore.storeIdentityId({id:n,type:"guest"})),this._credentialsAndIdentityId=M(M({},t),{},{isAuthenticatedCreds:!1}),t}throw new Le({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return Dn.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=t.idToken?Mn(t.idToken.toString()):{},a=ze(e.identityPoolId),o=await Cn({region:a},{IdentityId:n,Logins:r});if(o.Credentials&&o.Credentials.AccessKeyId&&o.Credentials.SecretKey){var s;const e={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};this._credentialsAndIdentityId=M(M({},e),{},{isAuthenticatedCreds:!0,associatedIdToken:null===(s=t.idToken)||void 0===s?void 0:s.toString()}),this._nextCredentialsRefresh=(new Date).getTime()+Fn;const r=o.IdentityId;return r&&(e.identityId=r,this._identityIdStore.storeIdentityId({id:r,type:"primary"})),e}throw new Le({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){var t,n;return!!e&&!(null===(t=this._credentialsAndIdentityId)||void 0===t||!t.associatedIdToken)&&(null===(n=e.idToken)||void 0===n?void 0:n.toString())!==this._credentialsAndIdentityId.associatedIdToken}}(new class{setAuthConfig(e){Fe(e.Cognito),this.authConfig=e,this._authKeys=xn("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){var e;Fe(null===(e=this.authConfig)||void 0===e?void 0:e.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(t){return Sn.log("Error getting stored IdentityId.",t),null}}async storeIdentityId(e){var t;Fe(null===(t=this.authConfig)||void 0===t?void 0:t.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}(Ce)),Ln={configure(e,t){const n=ee(e);if(n.Auth){if(null===t||void 0===t||!t.Auth)return ye.libraryOptions.Auth?t?(void 0!==t.ssr&&bn.setKeyValueStorage(t.ssr?new Se({sameSite:"lax"}):Ce),void ye.configure(n,M({Auth:ye.libraryOptions.Auth},t))):void ye.configure(n):(bn.setAuthConfig(n.Auth),bn.setKeyValueStorage(null!==t&&void 0!==t&&t.ssr?new Se({sameSite:"lax"}):Ce),void ye.configure(n,M(M({},t),{},{Auth:{tokenProvider:bn,credentialsProvider:Pn}})));ye.configure(n,t)}else ye.configure(n,t)},getConfig:()=>ye.getConfig()},zn={aws_project_region:"eu-north-1",aws_cloud_logic_custom:[{name:"apilivenessv2",endpoint:"https://8fdvh2yif4.execute-api.eu-north-1.amazonaws.com/dev",region:"eu-north-1"}],aws_cognito_identity_pool_id:"eu-north-1:028ed156-9d31-4f9b-96ca-15c8dd4d4834",aws_cognito_region:"eu-north-1",aws_user_pools_id:"eu-north-1_Sn9AXjTpT",aws_user_pools_web_client_id:"ccs31e57ir5v046npubkrel8d",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"]};function Bn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Wn=e=>((e,t)=>e.Auth.fetchAuthSession(t))(ye,e);var Un,jn,Hn=_.useLayoutEffect,Vn=function(){return Vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Vn.apply(this,arguments)};function qn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Gn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kn(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return s}function $n(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(Un||(Un={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(jn||(jn={}));var Yn,Qn={},Xn="xstate.guard",Jn=Un.Start,Zn=Un.Stop,er=Un.Raise,tr=Un.Send,nr=Un.Cancel,rr=Un.NullEvent,ar=Un.Assign,or=(Un.After,Un.DoneState,Un.Log),sr=Un.Init,ir=Un.Invoke,lr=(Un.ErrorExecution,Un.ErrorPlatform),ur=Un.ErrorCustom,cr=Un.Update,dr=Un.Choose,pr=Un.Pure;function hr(e,t,n){void 0===n&&(n=".");var r=gr(e,n),a=gr(t,n);return Or(a)?!!Or(r)&&a===r:Or(r)?r in a:Object.keys(r).every((function(e){return e in a&&hr(r[e],a[e])}))}function fr(e){try{return Or(e)||"number"===typeof e?"".concat(e):e.type}catch(rB){throw new Error("Events must be strings or objects with a string event.type property.")}}function mr(e,t){try{return Ar(e)?e:e.toString().split(t)}catch(rB){throw new Error("'".concat(e,"' is not a valid state path."))}}function gr(e,t){return"object"===typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:Ar(e)?vr(e):"string"!==typeof e?e:vr(mr(e,t));var n}function vr(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function yr(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var o=r[a];n[o]=t(e[o],o,e,a)}return n}function br(e,t,n){var r,a,o={};try{for(var s=Gn(Object.keys(e)),i=s.next();!i.done;i=s.next()){var l=i.value,u=e[l];n(u)&&(o[l]=t(u,l,e))}}catch(c){r={error:c}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return o}var wr=function(e){return function(t){var n,r,a=t;try{for(var o=Gn(e),s=o.next();!s.done;s=o.next()){a=a[s.value]}}catch(i){n={error:i}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}};function kr(e){return e?Or(e)?[[e]]:Sr(Object.keys(e).map((function(t){var n=e[t];return"string"===typeof n||n&&Object.keys(n).length?kr(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function Sr(e){var t;return(t=[]).concat.apply(t,$n([],Kn(e),!1))}function xr(e){return Ar(e)?e:[e]}function _r(e){return void 0===e?[]:xr(e)}function Ir(e,t,n){var r,a;if(Mr(e))return e(t,n.data);var o={};try{for(var s=Gn(Object.keys(e)),i=s.next();!i.done;i=s.next()){var l=i.value,u=e[l];Mr(u)?o[l]=u(t,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return o}function Er(e){return e instanceof Promise||!(null===e||!Mr(e)&&"object"!==typeof e||!Mr(e.then))}function Tr(e,t){return yr(e.states,(function(e,n){if(e){var r=(Or(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:Tr(e,r)}}}))}function Nr(e,t,n,r){var a=e?n.reduce((function(e,n){var a,o,s=n.assignment,i={state:r,action:n,_event:t},l={};if(Mr(s))l=s(e,t.data,i);else try{for(var u=Gn(Object.keys(s)),c=u.next();!c.done;c=u.next()){var d=c.value,p=s[d];l[d]=Mr(p)?p(e,t.data,i):p}}catch(h){a={error:h}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return Object.assign({},e,l)}),e):e;return a}var Cr=function(){};function Ar(e){return Array.isArray(e)}function Mr(e){return"function"===typeof e}function Or(e){return"string"===typeof e}function Rr(e,t){if(e)return Or(e)?{type:Xn,name:e,predicate:t?t[e]:void 0}:Mr(e)?{type:Xn,name:e.name,predicate:e}:e}var Dr=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();(Yn={})[Dr]=function(){return this},Yn[Symbol.observable]=function(){return this};function Fr(e){return!!e&&"__xstatenode"in e}var Pr=function(){var e=0;return function(){return(++e).toString(16)}}();function Lr(e,t){return Or(e)||"number"===typeof e?Vn({type:e},t):e}function zr(e,t){if(!Or(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=Lr(e);return Vn({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function Br(e,t){return xr(t).map((function(t){return"undefined"===typeof t||"string"===typeof t||Fr(t)?{target:t,event:e}:Vn(Vn({},t),{event:e})}))}function Wr(e,t,n,r,a){var o=e.options.guards,s={state:a,cond:t,_event:r};if(t.type===Xn)return((null===o||void 0===o?void 0:o[t.name])||t.predicate)(n,r.data,s);var i=null===o||void 0===o?void 0:o[t.type];if(!i)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return i(n,r.data,s)}function Ur(e){return"string"===typeof e?{type:e}:e}function jr(e,t,n){var r=function(){},a="object"===typeof e,o=a?e:null;return{next:((a?e.next:e)||r).bind(o),error:((a?e.error:t)||r).bind(o),complete:((a?e.complete:n)||r).bind(o)}}function Hr(e,t){return"".concat(e,":invocation[").concat(t,"]")}function Vr(e){return(e.type===er||e.type===tr&&e.to===jn.Internal)&&"number"!==typeof e.delay}var qr=function(e){return"atomic"===e.type||"final"===e.type};function Gr(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function Kr(e){return Gr(e).filter((function(e){return"history"!==e.type}))}function $r(e){var t=[e];return qr(e)?t:t.concat(Sr(Kr(e).map($r)))}function Yr(e,t){var n,r,a,o,s,i,l,u,c=Xr(new Set(e)),d=new Set(t);try{for(var p=Gn(d),h=p.next();!h.done;h=p.next())for(var f=(x=h.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}catch(_){n={error:_}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}var m=Xr(d);try{for(var g=Gn(d),v=g.next();!v.done;v=g.next()){if("compound"!==(x=v.value).type||m.get(x)&&m.get(x).length){if("parallel"===x.type)try{for(var y=(s=void 0,Gn(Kr(x))),b=y.next();!b.done;b=y.next()){var w=b.value;d.has(w)||(d.add(w),c.get(w)?c.get(w).forEach((function(e){return d.add(e)})):w.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(I){s={error:I}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(s)throw s.error}}}else c.get(x)?c.get(x).forEach((function(e){return d.add(e)})):x.initialStateNodes.forEach((function(e){return d.add(e)}))}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}try{for(var k=Gn(d),S=k.next();!S.done;S=k.next()){var x;for(f=(x=S.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}}catch(T){l={error:T}}finally{try{S&&!S.done&&(u=k.return)&&u.call(k)}finally{if(l)throw l.error}}return d}function Qr(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(qr(r))return r.key}var a={};return n.forEach((function(e){a[e.key]=Qr(e,t)})),a}function Xr(e){var t,n,r=new Map;try{for(var a=Gn(e),o=a.next();!o.done;o=a.next()){var s=o.value;r.has(s)||r.set(s,[]),s.parent&&(r.has(s.parent)||r.set(s.parent,[]),r.get(s.parent).push(s))}}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}function Jr(e,t){return Qr(e,Xr(Yr([e],t)))}function Zr(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function ea(e,t){return"compound"===t.type?Kr(t).some((function(t){return"final"===t.type&&Zr(e,t)})):"parallel"===t.type&&Kr(t).every((function(t){return ea(e,t)}))}function ta(e){return new Set(Sr(e.map((function(e){return e.tags}))))}var na=zr({type:sr});function ra(e,t){return t&&t[e]||void 0}function aa(e,t){var n;if(Or(e)||"number"===typeof e)n=Mr(r=ra(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(Mr(e))n={type:e.name||e.toString(),exec:e};else{var r;if(Mr(r=ra(e.type,t)))n=Vn(Vn({},e),{exec:r});else if(r){var a=r.type||e.type;n=Vn(Vn(Vn({},r),e),{type:a})}else n=e}return n}var oa=function(e,t){return e?(Ar(e)?e:[e]).map((function(e){return aa(e,t)})):[]};function sa(e){var t=aa(e);return Vn(Vn({id:Or(e)?e:t.id},t),{type:t.type})}function ia(e,t){return{to:t?t.to:void 0,type:tr,event:Mr(e)?e:Lr(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:Mr(e)?e.name:fr(e)}}var la=function(e){return{type:nr,sendId:e}};function ua(e,t){var n="".concat(Un.DoneState,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function ca(e,t){var n="".concat(Un.DoneInvoke,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function da(e,t){var n="".concat(Un.ErrorPlatform,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function pa(e,t,n,r,a,o,s){void 0===s&&(s=!1);var i=s?[]:function(e){var t,n,r=[];try{for(var a=Gn(e),o=a.next();!o.done;o=a.next())for(var s=o.value,i=0;i<s.actions.length;)s.actions[i].type!==ar?i++:(r.push(s.actions[i]),s.actions.splice(i,1))}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}(a),l=i.length?Nr(n,r,i,t):n,u=s?[n]:void 0,c=[];function d(a,i){var d;switch(i.type){case er:var p=function(e,t,n,r){var a,o={_event:n},s=zr(Mr(e.event)?e.event(t,n.data,o):e.event);if(Or(e.delay)){var i=r&&r[e.delay];a=Mr(i)?i(t,n.data,o):i}else a=Mr(e.delay)?e.delay(t,n.data,o):e.delay;return Vn(Vn({},e),{type:er,_event:s,delay:a})}(i,l,r,e.options.delays);return o&&"number"===typeof p.delay&&o(p,l,r),p;case tr:var h=function(e,t,n,r){var a,o={_event:n},s=zr(Mr(e.event)?e.event(t,n.data,o):e.event);if(Or(e.delay)){var i=r&&r[e.delay];a=Mr(i)?i(t,n.data,o):i}else a=Mr(e.delay)?e.delay(t,n.data,o):e.delay;var l=Mr(e.to)?e.to(t,n.data,o):e.to;return Vn(Vn({},e),{to:l,_event:s,event:s.data,delay:a})}(i,l,r,e.options.delays);return o&&h.to!==jn.Internal&&("entry"===a?c.push(h):o(h,l,r)),h;case or:var f=function(e,t,n){return Vn(Vn({},e),{value:Or(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(i,l,r);return null===o||void 0===o||o(f,l,r),f;case dr:if(!(y=null===(d=i.conds.find((function(n){var a=Rr(n.cond,e.options.guards);return!a||Wr(e,a,l,r,o?void 0:t)})))||void 0===d?void 0:d.actions))return[];var m=Kn(pa(e,t,l,r,[{type:a,actions:oa(_r(y),e.options.actions)}],o,s),2),g=m[0],v=m[1];return l=v,null===u||void 0===u||u.push(l),g;case pr:var y;if(!(y=i.get(l,r.data)))return[];var b=Kn(pa(e,t,l,r,[{type:a,actions:oa(_r(y),e.options.actions)}],o,s),2),w=b[0],k=b[1];return l=k,null===u||void 0===u||u.push(l),w;case Zn:f=function(e,t,n){var r=Mr(e.activity)?e.activity(t,n.data):e.activity,a="string"===typeof r?{id:r}:r;return{type:Un.Stop,activity:a}}(i,l,r);return null===o||void 0===o||o(f,n,r),f;case ar:l=Nr(l,r,[i],o?void 0:t),null===u||void 0===u||u.push(l);break;default:var S=aa(i,e.options.actions),x=S.exec;if(o)o(S,l,r);else if(x&&u){var _=u.length-1,I=Vn(Vn({},S),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];x.apply(void 0,$n([u[_]],Kn(t),!1))}});S=I}return S}}var p=Sr(a.map((function(e){var t,n,a=[];try{for(var s=Gn(e.actions),i=s.next();!i.done;i=s.next()){var u=i.value,p=d(e.type,u);p&&(a=a.concat(p))}}catch(h){t={error:h}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return c.forEach((function(e){o(e,l,r)})),c.length=0,a})));return[p,l]}function ha(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Or(e)||Or(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return ha(e[n],t[n])}))}function fa(e){return"object"===typeof e&&null!==e&&("value"in e&&"_event"in e)}var ma=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=Qn,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Qn,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return $n([],Kn(new Set(Sr($n([],Kn(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:na,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=na;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Or(e))return[e];var r=Object.keys(e);return r.concat.apply(r,$n([],Kn(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=qn(e,["configuration","transitions","tags","machine"]);return Vn(Vn({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return hr(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;Cr(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null===n||void 0===n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),ga={deferEvents:!1},va=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Vn(Vn({},ga),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(rB){throw this.clear(),rB}finally{this.processingEvent=!1}},e}(),ya=[],ba=function(e,t){ya.push(e);var n=t(e);return ya.pop(),n};function wa(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[Dr]=function(){return this},t}function ka(e,t,n){var r=wa(t);if(r.deferred=!0,Fr(e)){var a=r.state=ba(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return a}}return r}var Sa=new Map,xa=0,_a=function(){return"x:".concat(xa++)},Ia=function(e,t){return Sa.set(e,t),e},Ea=function(e){return Sa.get(e)},Ta=function(e){Sa.delete(e)};function Na(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void 0}function Ca(e){if(Na()){var t=function(){var e=Na();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}function Aa(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,a=[],o=!1,s=function(e){var t;return Vn(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[Dr]=function(){return this},t),e)}({id:t.id,send:function(t){a.push(t),function(){if(!o){for(o=!0;a.length>0;){var t=a.shift();n=e.transition(n,t,i),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,a){var o=jr(e,t,a);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),i={parent:t.parent,self:s,id:t.id||"anonymous",observers:r};return n=e.start?e.start(i):n,s}var Ma,Oa={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Ma||(Ma={}));var Ra=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Ma.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(Ar(e))return r.batch(e),r.state;var n=zr(Lr(e,t));if(r.status===Ma.Stopped)return r.state;if(r.status!==Ma.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var a,o=r.parent&&(t===jn.Parent||r.parent.id===t),s=o?r.parent:Or(t)?t===jn.Internal?r:r.children.get(t)||Ea(t):(a=t)&&"function"===typeof a.send?t:void 0;if(s)if("machine"in s){if(r.status!==Ma.Stopped||r.parent!==s||r.state.done){var i=Vn(Vn({},e),{name:e.name===ur?"".concat(da(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([s,i]):s.send(i)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([s,e.data]):s.send(e.data);else if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."))},this._exec=function(e,t,n,a){void 0===a&&(a=r.machine.options.actions);var o=e.exec||ra(e.type,a),s=Mr(o)?o:o?o.exec:e.exec;if(s)try{return s(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(k){throw r.parent&&r.parent.send({type:"xstate.error",data:k}),k}switch(e.type){case er:var i=e;r.defer(i);break;case tr:var l=e;if("number"===typeof l.delay)return void r.defer(l);l.to?r.sendTo(l._event,l.to,n===na):r.send(l._event);break;case nr:r.cancel(e.sendId);break;case Jn:if(r.status!==Ma.Running)return;var u=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[u.id||u.type])break;if(u.type===Un.Invoke){var c=Ur(u.src),d=r.machine.options.services?r.machine.options.services[c.type]:void 0,p=u.id,h=u.data;0;var f="autoForward"in u?u.autoForward:!!u.forward;if(!d)return void 0;var m=h?Ir(h,t,n):void 0;if("string"===typeof d)return;var g=Mr(d)?d(t,n.data,{data:m,src:c,meta:u.meta}):d;if(!g)return;var v=void 0;Fr(g)&&(g=m?g.withContext(m):g,v={autoForward:f}),r.spawn(g,p,v)}else r.spawnActivity(u);break;case Zn:r.stopChild(e.activity.id);break;case or:var y=e,b=y.label,w=y.value;b?r.logger(b,w):r.logger(w)}};var a=Vn(Vn({},e.defaultOptions),n),o=a.clock,s=a.logger,i=a.parent,l=a.id,u=void 0!==l?l:t.id;this.id=u,this.logger=s,this.clock=o,this.parent=i,this.options=a,this.scheduler=new va({deferEvents:this.options.deferEvents}),this.sessionId=_a()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:ba(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var a=Gn(e.actions),o=a.next();!o.done;o=a.next()){var s=o.value;this.exec(s,e,t)}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,a,o,s,i,l,u,c=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==na||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach((function(e){c.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var p=Gn(this.eventListeners),h=p.next();!h.done;h=p.next()){(0,h.value)(e.event)}}catch(S){n={error:S}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var f=Gn(this.listeners),m=f.next();!m.done;m=f.next()){(0,m.value)(e,e.event)}}catch(x){a={error:x}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}try{for(var g=Gn(this.contextListeners),v=g.next();!v.done;v=g.next()){(0,v.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(_){s={error:_}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(s)throw s.error}}if(this.state.done){var y=e.configuration.find((function(e){return"final"===e.type&&e.parent===c.machine})),b=y&&y.doneData?Ir(y.doneData,e.context,t):void 0;this._doneEvent=ca(this.id,b);try{for(var w=Gn(this.doneListeners),k=w.next();!k.done;k=w.next()){(0,k.value)(this._doneEvent)}}catch(I){l={error:I}}finally{try{k&&!k.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),Ta(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Ma.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,a=jr(e,t,n);this.listeners.add(a.next),this.status!==Ma.NotStarted&&a.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),a.complete()};return this.status===Ma.Stopped?a.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(a.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===Ma.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===Ma.Running)return this;this.machine._init(),Ia(this.sessionId,this),this.initialized=!0,this.status=Ma.Running;var n=void 0===e?this.initialState:ba(this,(function(){return fa(e)?t.machine.resolveState(e):t.machine.resolveState(ma.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,na)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){Mr(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,a,o,s,i,l,u;try{for(var c=Gn(this.listeners),d=c.next();!d.done;d=c.next()){var p=d.value;this.listeners.delete(p)}}catch(S){e={error:S}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}try{for(var h=Gn(this.stopListeners),f=h.next();!f.done;f=h.next()){(p=f.value)(),this.stopListeners.delete(p)}}catch(x){n={error:x}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var m=Gn(this.contextListeners),g=m.next();!g.done;g=m.next()){p=g.value;this.contextListeners.delete(p)}}catch(_){a={error:_}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}try{for(var v=Gn(this.doneListeners),y=v.next();!y.done;y=v.next()){p=y.value;this.doneListeners.delete(p)}}catch(I){s={error:I}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Ma.Stopped,this._initialState=void 0;try{for(var b=Gn(Object.keys(this.delayedEventsMap)),w=b.next();!w.done;w=b.next()){var k=w.value;this.clock.clearTimeout(this.delayedEventsMap[k])}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new va({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t;if(!(null===(t=e._state)||void 0===t?void 0:t.done)){var n=zr({type:"xstate.stop"}),r=ba(e,(function(){var t=Sr($n([],Kn(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return oa(t.onExit,e.machine.options.actions)}))),r=Kn(pa(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),a=r[0],o=r[1],s=new ma({value:e.state.value,context:o,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:a.filter((function(e){return!Vr(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return s.changed=!0,s}));e.update(r,n),e._stopChildren(),Ta(e.sessionId)}})),this},e.prototype.batch=function(e){var t=this;if(this.status===Ma.NotStarted&&this.options.deferEvents)0;else if(this.status!==Ma.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,a,o=t.state,s=!1,i=[],l=function(e){var r=zr(e);t.forward(r),o=ba(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),i.push.apply(i,$n([],Kn(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return Vn(Vn({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),s=s||!!o.changed};try{for(var u=Gn(e),c=u.next();!c.done;c=u.next()){l(c.value)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}o.changed=s,o.actions=i,t.update(o,zr(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=zr(e);if(0===r.name.indexOf(lr)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(lr)})))throw r.data.data;return ba(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Gn(this.forwardTo),a=r.next();!a.done;a=r.next()){var o=a.value,s=this.children.get(o);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));s.send(e)}}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Mr(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==Ma.Running)return ka(e,t);if(Er(e))return this.spawnPromise(Promise.resolve(e),t);if(Mr(e))return this.spawnCallback(e,t);if(function(e){try{return"function"===typeof e.send}catch(rB){return!1}}(a=e)&&"id"in a)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&Mr(e.subscribe)}catch(rB){return!1}}(e))return this.spawnObservable(e,t);if(Fr(e))return this.spawnMachine(e,Vn(Vn({},n),{id:t}));if(null!==(r=e)&&"object"===typeof r&&"transition"in r&&"function"===typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,a},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var a=new e(t,Vn(Vn({},this.options),{parent:this,id:n.id||t.id})),o=Vn(Vn({},Oa),n);o.sync&&a.onTransition((function(e){r.send(cr,{state:e,id:a.id})}));var s=a;return this.children.set(a.id,s),o.autoForward&&this.forwardTo.add(a.id),a.onDone((function(e){r.removeChild(a.id),r.send(zr(e,{origin:a.id}))})).start(),s},e.prototype.spawnBehavior=function(e,t){var n=Aa(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,a=this,o=!1;e.then((function(e){o||(r=e,a.removeChild(t),a.send(zr(ca(t,e),{origin:t})))}),(function(e){if(!o){a.removeChild(t);var n=da(t,e);try{a.send(zr(n,{origin:t}))}catch(r){a.devTools&&a.devTools.send(n,a.state),a.machine.strict&&a.stop()}}}));var s=((n={id:t,send:function(){},subscribe:function(t,n,r){var a=jr(t,n,r),o=!1;return e.then((function(e){o||(a.next(e),o||a.complete())}),(function(e){o||a.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Dr]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnCallback=function(e,t){var n,r,a,o=this,s=!1,i=new Set,l=new Set;try{a=e((function(e){r=e,l.forEach((function(t){return t(e)})),s||o.send(zr(e,{origin:t}))}),(function(e){i.add(e)}))}catch(c){this.send(da(t,c))}if(Er(a))return this.spawnPromise(a,t);var u=((n={id:t,send:function(e){return i.forEach((function(t){return t(e)}))},subscribe:function(e){var t=jr(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){s=!0,Mr(a)&&a()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Dr]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,a=this,o=e.subscribe((function(e){r=e,a.send(zr(e,{origin:t}))}),(function(e){a.removeChild(t),a.send(zr(da(t,e),{origin:t}))}),(function(){a.removeChild(t),a.send(zr(ca(t),{origin:t}))})),s=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[Dr]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[Dr]=function(){return this},n))},e.prototype.attachDev=function(){var e=Na();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Vn(Vn({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:Vn({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}Ca(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Dr]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Ma.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=Fa,e}();function Da(e,t){var n=function(e){return Or(e)?Vn(Vn({},Oa),{name:e}):Vn(Vn(Vn({},Oa),{name:Pr()}),e)}(t);return function(t){return t?t.spawn(e,n.name,n):ka(e,n.name)}(ya[ya.length-1])}function Fa(e,t){return new Ra(e,t)}function Pa(e){var t=_.useRef();return t.current||(t.current={v:e()}),t.current.v}var La=function(){return La=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},La.apply(this,arguments)},za=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ba=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return s};function Wa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Ba(t,2),a=r[0],o=void 0===a?{}:a,s=r[1],i=function(e,t){var n=Pa((function(){return"function"===typeof e?e():e})),r=t.context,a=t.guards,o=t.actions,s=t.activities,i=t.services,l=t.delays,u=(t.state,za(t,["context","guards","actions","activities","services","delays","state"])),c=Pa((function(){var e={context:r,guards:a,actions:o,activities:s,services:i,delays:l};return Fa(n.withConfig(e,(function(){return La(La({},n.context),r)})),u)}));return Hn((function(){Object.assign(c.machine.options.actions,o),Object.assign(c.machine.options.guards,a),Object.assign(c.machine.options.activities,s),Object.assign(c.machine.options.services,i),Object.assign(c.machine.options.delays,l)}),[o,a,s,i,l]),c}(e,o);return(0,_.useEffect)((function(){if(s){var e=i.subscribe(jr(s));return function(){e.unsubscribe()}}}),[s]),(0,_.useEffect)((function(){var e=o.state;return i.start(e?ma.create(e):void 0),function(){i.stop(),i.status=Ma.NotStarted}}),[]),i}function Ua(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ja(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ja(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return ja=function(e){this.s=e,this.n=e.next},ja.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ja(e)}let Ha=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")};function Va(e){if("string"===typeof e){var t={type:e,toString:function(){return e}};return t}return e}function qa(e){return Vn(Vn({type:ir},e),{toJSON:function(){e.onDone,e.onError;var t=qn(e,["onDone","onError"]);return Vn(Vn({},t),{type:ir,src:Va(e.src)})}})}var Ga="",Ka="*",$a={},Ya=function(e){return"#"===e[0]},Qa=function(){function e(t,n,r,a){void 0===r&&(r="context"in t?t.context:void 0);var o,s=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null===a||void 0===a?void 0:a.parent,this.key=this.config.key||(null===a||void 0===a?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||$n([this.machine.key],Kn(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?yr(this.config.states,(function(t,n){var r,a=new e(t,{},void 0,{parent:s,key:n});return Object.assign(s.idMap,Vn(((r={})[a.id]=a,r),a.idMap)),a})):$a;var i=0;!function e(t){var n,r;t.order=i++;try{for(var a=Gn(Gr(t)),o=a.next();!o.done;o=a.next()){e(o.value)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Ga})):Ga in this.config.on),this.strict=!!this.config.strict,this.onEntry=_r(this.config.entry||this.config.onEntry).map((function(e){return aa(e)})),this.onExit=_r(this.config.exit||this.config.onExit).map((function(e){return aa(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=_r(this.config.invoke).map((function(e,t){var n,r;if(Fr(e)){var a=Hr(s.id,t);return s.machine.options.services=Vn(((n={})[a]=e,n),s.machine.options.services),qa({src:a,id:a})}if(Or(e.src)){a=e.id||Hr(s.id,t);return qa(Vn(Vn({},e),{id:a,src:e.src}))}if(Fr(e.src)||Mr(e.src)){a=e.id||Hr(s.id,t);return s.machine.options.services=Vn(((r={})[a]=e.src,r),s.machine.options.services),qa(Vn(Vn({id:a},e),{src:a}))}var o=e.src;return qa(Vn(Vn({id:Hr(s.id,t)},e),{src:o}))})),this.activities=_r(this.config.activities).concat(this.invoke).map((function(e){return sa(e)})),this.transition=this.transition.bind(this),this.tags=_r(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||$r(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,a=r.actions,o=r.activities,s=r.guards,i=r.services,l=r.delays;return new e(this.config,{actions:Vn(Vn({},a),t.actions),activities:Vn(Vn({},o),t.activities),guards:Vn(Vn({},s),t.guards),services:Vn(Vn({},i),t.services),delays:Vn(Vn({},l),t.delays)},null!==n&&void 0!==n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Mr(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:yr(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Ga,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===Ka}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=function(e,t){var n=t?"#".concat(t):"";return"".concat(Un.After,"(").concat(e,")").concat(n)}(Mr(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(ia(r,{delay:t})),e.onExit.push(la(r)),r},r=Ar(t)?t.map((function(e,t){var r=n(e.delay,t);return Vn(Vn({},e),{event:r})})):Sr(Object.keys(t).map((function(e,r){var a=t[e],o=Or(a)?{target:a}:a,s=isNaN(+e)?e:+e,i=n(s,r);return _r(o).map((function(e){return Vn(Vn({},e),{event:i,delay:s})}))})));return r.map((function(t){var n=t.delay;return Vn(Vn({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof ma?e.value:gr(e,this.delimiter);if(Or(r)){var a=this.getStateNode(r).initial;return void 0!==a?this.getStateNodes(((t={})[r]=a,t)):[this,this.states[r]]}var o=Object.keys(r),s=[this];return s.push.apply(s,$n([],Kn(Sr(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),s},e.prototype.handles=function(e){var t=fr(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof ma?e:ma.create(e),n=Array.from(Yr([],this.getStateNodes(t.value)));return new ma(Vn(Vn({},t),{value:this.resolve(t.value),configuration:n,done:ea(n,this),tags:ta(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),a=this.getStateNode(r[0])._transition(e[r[0]],t,n);return a&&a.transitions.length?a:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,a,o={};try{for(var s=Gn(Object.keys(e)),i=s.next();!i.done;i=s.next()){var l=i.value,u=e[l];if(u){var c=this.getStateNode(l)._transition(u,t,n);c&&(o[l]=c)}}}catch(f){r={error:f}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}var d=Object.keys(o).map((function(e){return o[e]})),p=Sr(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var h=Sr(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:p,exitSet:Sr(d.map((function(e){return e.exitSet}))),configuration:h,source:t,actions:Sr(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return Or(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,zr(t))},e.prototype.next=function(e,t){var n,r,a,o=this,s=t.name,i=[],l=[];try{for(var u=Gn(this.getCandidates(s)),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.cond,h=d.in,f=e.context,m=!h||(Or(h)&&Ya(h)?e.matches(gr(this.getStateNodeById(h).path,this.delimiter)):hr(gr(h,this.delimiter),wr(this.path.slice(0,-2))(e.value))),g=!1;try{g=!p||Wr(this.machine,p,f,t,e)}catch(y){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,"':\n").concat(y.message))}if(g&&m){void 0!==d.target&&(l=d.target),i.push.apply(i,$n([],Kn(d.actions),!1)),a=d;break}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(a){if(!l.length)return{transitions:[a],exitSet:[],configuration:e.value?[this]:[],source:e,actions:i};var v=Sr(l.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[a],exitSet:!!a.internal?[]:Sr(l.map((function(e){return o.getPotentiallyReenteringNodes(e)}))),configuration:v,source:e,actions:i}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,a,o,s){var i,l,u,c,d=this,p=o?Yr([],this.getStateNodes(o.value)):[],h=new Set;try{for(var f=Gn(Array.from(e).sort((function(e,t){return e.order-t.order}))),m=f.next();!m.done;m=f.next()){(!Zr(p,y=m.value)||Zr(n.exitSet,y)||y.parent&&h.has(y.parent))&&h.add(y)}}catch(I){i={error:I}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(i)throw i.error}}try{for(var g=Gn(p),v=g.next();!v.done;v=g.next()){var y;Zr(e,y=v.value)&&!Zr(n.exitSet,y.parent)||n.exitSet.push(y)}}catch(E){u={error:E}}finally{try{v&&!v.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var b=Array.from(h).sort((function(e,t){return e.order-t.order})),w=new Set(n.exitSet),k=Sr(b.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(ua(e.id,e.doneData),ua(o.id,e.doneData?Ir(e.doneData,r,a):void 0));var s=o.parent;return"parallel"===s.type&&Kr(s).every((function(e){return ea(n.configuration,e)}))&&t.push(ua(s.id)),t}))),S=b.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return function(e){var t=sa(e);return{type:Un.Start,activity:t,exec:void 0}}(e)}));return{type:"entry",actions:oa(s?$n($n([],Kn(t),!1),Kn(n),!1):$n($n([],Kn(n),!1),Kn(t),!1),d.machine.options.actions)}})).concat({type:"state_done",actions:k.map((function(e){return function(e,t){return{type:er,event:"function"===typeof e?e:Lr(e),delay:t?t.delay:void 0,id:null===t||void 0===t?void 0:t.id}}(e)}))}),x=Array.from(w).map((function(e){return{type:"exit",actions:oa($n($n([],Kn(e.onExit),!1),Kn(e.activities.map((function(e){return function(e){var t=Mr(e)?e:sa(e);return{type:Un.Stop,activity:t,exec:void 0}}(e)}))),!1),d.machine.options.actions)}})).concat({type:"transition",actions:oa(n.actions,this.machine.options.actions)}).concat(S);if(t){var _=oa(Sr($n([],Kn(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!Vr(e)}));return x.concat({type:"stop",actions:_})}return x},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var a,o,s=zr(t);if(e instanceof ma)a=void 0===n?e:this.resolveState(ma.from(e,n));else{var i=Or(e)?this.resolve(vr(this.getResolvedPath(e))):this.resolve(e),l=null!==n&&void 0!==n?n:this.machine.context;a=this.resolveState(ma.from(i,l))}if(this.strict&&!this.events.includes(s.name)&&(o=s.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var u=this._transition(a.value,a,s)||{transitions:[],configuration:[],exitSet:[],source:a,actions:[]},c=Yr([],this.getStateNodes(a.value)),d=u.configuration.length?Yr(c,u.configuration):c;return u.configuration=$n([],Kn(d),!1),this.resolveTransition(u,a,a.context,r,s)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var a,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,$n([],Kn(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,a){var o,s,i,l,u=this;void 0===a&&(a=na);var c=e.configuration,d=!t||e.transitions.length>0,p=d?e.configuration:t?t.configuration:[],h=ea(p,this),f=d?Jr(this.machine,c):void 0,m=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,g=this.getActions(new Set(p),h,e,n,a,t,r),v=t?Vn({},t.activities):{};try{for(var y=Gn(g),b=y.next();!b.done;b=y.next()){var w=b.value;try{for(var k=(i=void 0,Gn(w.actions)),S=k.next();!S.done;S=k.next()){var x=S.value;x.type===Jn?v[x.activity.id||x.activity.type]=x:x.type===Zn&&(v[x.activity.id||x.activity.type]=!1)}}catch(U){i={error:U}}finally{try{S&&!S.done&&(l=k.return)&&l.call(k)}finally{if(i)throw i.error}}}}catch(j){o={error:j}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}var _,I,E=Kn(pa(this,t,n,a,g,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),T=E[0],N=E[1],C=Kn(function(e,t){var n,r,a=Kn([[],[]],2),o=a[0],s=a[1];try{for(var i=Gn(e),l=i.next();!l.done;l=i.next()){var u=l.value;t(u)?o.push(u):s.push(u)}}catch(j){n={error:j}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[o,s]}(T,Vr),2),A=C[0],M=C[1],O=T.filter((function(e){var t;return e.type===Jn&&(null===(t=e.activity)||void 0===t?void 0:t.type)===ir})),R=O.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var a,o=Ur(e.src),s=null===(a=null===t||void 0===t?void 0:t.options.services)||void 0===a?void 0:a[o.type],i=e.data?Ir(e.data,n,r):void 0,l=s?ka(s,e.id,i):wa(e.id);return l.meta=e,l}(t.activity,u.machine,N,a),e}),t?Vn({},t.children):{}),D=new ma({value:f||t.value,context:N,_event:a,_sessionid:t?t._sessionid:null,historyValue:f?m?(_=m,I=f,{current:I,states:Tr(_,I)}):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?M:[],activities:f?v:t?t.activities:{},events:[],configuration:p,transitions:e.transitions,children:R,done:h,tags:ta(p),machine:this}),F=n!==N;D.changed=a.name===cr||F;var P=D.history;P&&delete P.history;var L=!h&&(this._transient||c.some((function(e){return e._transient})));if(!d&&(!L||a.name===Ga))return D;var z=D;if(!h)for(L&&(z=this.resolveRaisedTransition(z,{type:rr},a,r));A.length;){var B=A.shift();z=this.resolveRaisedTransition(z,B._event,a,r)}var W=z.changed||(P?!!z.actions.length||F||typeof P.value!==typeof z.value||!ha(z.value,P.value):void 0);return z.changed=W,z.history=P,z},e.prototype.getStateNode=function(e){if(Ya(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Ya(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"===typeof e&&Ya(e))try{return this.getStateNodeById(e.slice(1))}catch(rB){}for(var t=mr(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||$a;switch(this.type){case"parallel":return yr(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):$a}));case"compound":if(Or(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?yr(e,(function(e,t){return e?n.getStateNode(t).resolve(e):$a})):this.initialStateValue||{};default:return e||$a}},e.prototype.getResolvedPath=function(e){if(Ya(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return mr(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=br(this.states,(function(e){return e.initialStateValue||$a}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=qr(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!==t&&void 0!==t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Or(t.target)&&Ya(t.target)?vr(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return qr(this)?[this]:"compound"!==this.type||this.initial?Sr(kr(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Kn(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var a=this.getStateNode(n);if("history"===a.type)return a.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:br(this.states,(function(t,n){if(!e)return t.historyValue();var r=Or(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Sr(kr(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var a,o,s=(a=n.path,o="states",function(e){var t,n,r=e;try{for(var s=Gn(a),i=s.next();!i.done;i=s.next()){var l=i.value;r=r[o][l]}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r})(e).current;return Or(s)?[n.getStateNode(s)]:Sr(kr(s).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Sr(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var a=this.states,o=new Set(this.ownEvents);if(a)try{for(var s=Gn(Object.keys(a)),i=s.next();!i.done;i=s.next()){var l=a[i.value];if(l.states)try{for(var u=(n=void 0,Gn(l.events)),c=u.next();!c.done;c=u.next()){var d=c.value;o.add("".concat(d))}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Or(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(a){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(a.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return _r(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return Or(e)&&e[0]===t.delimiter})),a=this.machine.options.guards,o=this.resolveTarget(n),s=Vn(Vn({},e),{actions:oa(_r(e.actions)),cond:Rr(e.cond,a),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return Vn(Vn({},s),{target:s.target?s.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return s},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var a=this.config.on,o=Ka,s=a[o],i=void 0===s?[]:s,l=qn(a,["*"]);n=Sr(Object.keys(l).map((function(e){var t=Br(e,l[e]);return t})).concat(Br(Ka,i)))}else n=[];var u=this.config.always?Br("",this.config.always):[],c=this.config.onDone?Br(String(ua(this.id)),this.config.onDone):[];var d=Sr(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,$n([],Kn(Br(String(ca(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,$n([],Kn(Br(String(da(e.id)),e.onError)),!1)),t}))),p=this.after,h=Sr($n($n($n($n([],Kn(c),!1),Kn(d),!1),Kn(n),!1),Kn(u),!1).map((function(e){return _r(e).map((function(e){return r.formatTransition(e)}))})));try{for(var f=Gn(p),m=f.next();!m.done;m=f.next()){var g=m.value;h.push(g)}}catch(v){e={error:v}}finally{try{m&&!m.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return h},e}();var Xa,Ja,Za=function(e){return{type:ar,assignment:e}};!function(e){e.DARK="dark",e.BRIGHT="bright",e.NORMAL="normal"}(Xa||(Xa={})),function(e){e.MATCHED="MATCHED",e.TOO_FAR="TOO FAR",e.CANT_IDENTIFY="CANNOT IDENTIFY",e.FACE_IDENTIFIED="ONE FACE IDENTIFIED",e.TOO_MANY="TOO MANY FACES",e.OFF_CENTER="OFF CENTER"}(Ja||(Ja={}));const eo="CONNECTION_TIMEOUT",to="TIMEOUT",no="RUNTIME_ERROR",ro="SERVER_ERROR",ao="CAMERA_FRAMERATE_ERROR",oo="CAMERA_ACCESS_ERROR",so="FACE_DISTANCE_ERROR",io="MOBILE_LANDSCAPE_ERROR",lo="MULTIPLE_FACES_ERROR",uo=1e3,co=4e3,po=4001,ho=4003,fo=4005,mo=4007;function go(e,t,n){return e*(n-t)+t}function vo(e){const t=e.flippedCenterX-e.width/2,n=e.flippedCenterX+e.width/2,r=e.centerY-e.height/2,a=e.centerY+e.height/2;return{ovalBoundingBox:{left:t,top:r,right:n,bottom:a},minOvalX:t,maxOvalX:n,minOvalY:r,maxOvalY:a}}function yo(e,t){const n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),a=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),s=Math.abs(Math.max(0,a-n)*Math.max(0,o-r));if(0===s)return 0;return s/(Math.abs((e.right-e.left)*(e.bottom-e.top))+Math.abs((t.right-t.left)*(t.bottom-t.top))-s)}function bo(e){let{width:t,height:n,widthSeed:r=1,centerXSeed:a=.5,centerYSeed:o=.5,ratioMultiplier:s=.8}=e;const i=n;let l=t;const u=r*s,c=Math.floor(7*t/16),d=Math.floor(9*t/16),p=Math.floor(7*n/16),h=Math.floor(9*n/16),f=go(a,c,d),m=go(o,p,h);t>=n&&(l=3/4*i);const g=u*l,v=1.618*g;return{flippedCenterX:Math.floor(l-f),centerX:Math.floor(f),centerY:Math.floor(m),width:Math.floor(g),height:Math.floor(v)}}function wo(e){let{canvas:t,oval:n,scaleFactor:r,videoEl:a,isStartScreen:o}=e;const{flippedCenterX:s,centerY:i,width:l,height:u}=n,{width:c,height:d}=t.getBoundingClientRect(),p=t.getContext("2d");if(!p)throw new Error("Cannot find Canvas.");{p.restore(),p.clearRect(0,0,c,d),p.fillStyle=o?getComputedStyle(t).getPropertyValue("--amplify-colors-background-primary"):"#fff",p.fillRect(0,0,c,d);const e={width:a.videoWidth,height:a.videoHeight},n={x:(c-e.width*r)/2,y:(d-e.height*r)/2};p.setTransform(r,0,0,r,n.x,n.y),p.beginPath(),p.ellipse(s,i,l/2,u/2,0,0,2*Math.PI),p.strokeStyle=getComputedStyle(t).getPropertyValue("--amplify-colors-border-secondary"),p.lineWidth=3,p.stroke(),p.save(),p.clip(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,c,d)}}function ko(e,t,n){const{width:r,height:a}=n.getTracks()[0].getSettings(),{width:o,height:s}=t.getBoundingClientRect();e.width=Math.ceil(o),e.height=Math.ceil(s);const i=bo({width:r,height:a,ratioMultiplier:.5});i.flippedCenterX=r-i.centerX;wo({canvas:e,oval:i,scaleFactor:o/t.videoWidth,videoEl:t,isStartScreen:!0})}function So(e){const{leftEye:t,rightEye:n,mouth:r}=e,a=[];a[0]=(t[0]+n[0])/2,a[1]=(t[1]+n[1])/2;return{pupilDistance:Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2),faceHeight:Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2)}}function xo(e,t,n){const{leftEye:r,rightEye:a,nose:o,leftEar:s,rightEar:i}=e,{height:l,centerY:u}=t,c=u-l/2,d=[];d[0]=(r[0]+a[0])/2,d[1]=(r[1]+a[1])/2;const{pupilDistance:p,faceHeight:h}=So(e),f=(2*p+1.8*h)/2;let m,g;d[1]<=(c+l)/2?(m=(d[0]+o[0])/2,g=(d[1]+o[1])/2):(m=d[0],g=d[1]);const v=1.68*f,y=Math.max(g-v/2,0);return{bottom:Math.min(g+v/2,n),left:Math.min(m-f/2,i[0]),right:Math.max(m+f/2,s[0]),top:y}}function _o(e){const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const n=t.getContext("2d");if(n){n.drawImage(e,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height).data,a=8,o=new Array(a).fill(0);for(let e=0;e<r.length;e++){o[Math.round(.2126*r[e++]+.7152*r[e++]+.0722*r[e++])%32]++}let s=-1,i=0;for(let e=0;e<a;e++)o[e]>i&&(i=o[e],s=e);return t.remove(),0===s?Xa.DARK:s===a?Xa.BRIGHT:Xa.NORMAL}throw new Error("Cannot find Video Element.")}function Io(e){let{ctx:t,prevColor:n,nextColor:r,fraction:a}=e;const o=t.canvas.width,s=t.canvas.height;t.fillStyle=r,t.fillRect(0,0,o,s*a),1!==a&&(t.fillStyle=n,t.fillRect(0,s*a,o,s*(1-a)))}const Eo=e=>!!e;function To(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((e=>parseInt(e)))}async function No(e){let{faceDetector:t,videoEl:n,ovalDetails:r,reduceThreshold:a=!1,isMobile:o=!1}=e;const s=await t.detectFaces(n);let i,l,u=!1;switch(s.length){case 0:l=so;break;case 1:{i=s[0];const{width:e}=r,{pupilDistance:t,faceHeight:n}=So(i);e&&(u=(2*t+1.8*n)/2/2/e<(a?o?.37:.4:.32),u||(l=so));break}default:l=lo}return{isDistanceBelowThreshold:u,error:l}}function Co(e){let{deviceHeight:t,deviceWidth:n,height:r,width:a,top:o,left:s}=e;return{Height:r/t,Width:a/n,Top:o/t,Left:s/n}}class Ao{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Mo{refCount(e){return Oo("refCount")}incRef(e){return Oo("incRef")}timerAvailable(){return!0}time(e){return Oo("time")}read(e){return Oo("read")}readSync(e){return Oo("readSync")}readToGPU(e,t){return Oo("readToGPU")}numDataIds(){return Oo("numDataIds")}disposeData(e,t){return Oo("disposeData")}write(e,t,n){return Oo("write")}move(e,t,n,r,a){return Oo("move")}createTensorFromGPUData(e,t,n){return Oo("createTensorFromGPUData")}memory(){return Oo("memory")}floatPrecision(){return Oo("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Oo("dispose")}}function Oo(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function Ro(e,t,n){return Math.max(e,Math.min(t,n))}function Do(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Fo(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Fo(Bo(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function Lo(e){Fo(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function zo(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Bo(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Wo(e){return e%1===0}function Uo(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function jo(e,t){let n=1,r=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(o));r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found ".concat(e[o]," at dim ").concat(o));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const a=e.slice();return a[r]=t/n,a}function Ho(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),Fo(e.every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),Fo(e.every((e=>Wo(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function Vo(e,t){return qo(e,t)}function qo(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function Go(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Ko(e){return"string"===typeof e||e instanceof String}function $o(e){return Array.isArray(e)?$o(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"===typeof e?"float32":Ko(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function Yo(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Qo(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Xo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Array;if(1===t.length){const o=t[0]*(r?2:1);for(let t=0;t<o;t++)a[t]=n[e+t]}else{const o=t[0],s=t.slice(1),i=s.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<o;t++)a[t]=Xo(e+t*i,s,n,r)}return a}function Jo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return Xo(0,e,t,n)}function Zo(e,t){const n=es(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function es(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function ts(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return Jo(e,new Float32Array(n));if("int32"===t)return Jo(e,new Int32Array(n));if("bool"===t)return Jo(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function ns(e){e.forEach((t=>{Fo(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function rs(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function as(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function os(e){return e&&e.then&&"function"===typeof e.then}const ss="tfjsflags";class is{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ls,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(us().getBool("IS_TEST")||us().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];us().getBool("IS_TEST")||us().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(os(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(ss in e){e[ss].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)}))}}}function ls(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function us(){return ds}let cs,ds=null;function ps(){if(null==cs){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}cs=e}return cs}function hs(e,t){const n=function(){const e=ps();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const fs="Abs",ms="Acos",gs="Acosh",vs="Add",ys="AddN",bs="All",ws="Any",ks="ArgMax",Ss="ArgMin",xs="Asin",_s="Asinh",Is="Atan",Es="Atanh",Ts="Atan2",Ns="AvgPool",Cs="AvgPoolGrad",As="AvgPool3D",Ms="AvgPool3DGrad",Os="BatchMatMul",Rs="BatchToSpaceND",Ds="Bincount",Fs="BitwiseAnd",Ps="BroadcastArgs",Ls="Cast",zs="Ceil",Bs="ClipByValue",Ws="Complex",Us="ComplexAbs",js="Concat",Hs="Conv2D",Vs="Conv2DBackpropFilter",qs="Conv2DBackpropInput",Gs="Conv3D",Ks="Conv3DBackpropFilterV2",$s="Conv3DBackpropInputV2",Ys="Cos",Qs="Cosh",Xs="Cumprod",Js="Cumsum",Zs="CropAndResize",ei="DenseBincount",ti="DepthToSpace",ni="DepthwiseConv2dNative",ri="DepthwiseConv2dNativeBackpropFilter",ai="DepthwiseConv2dNativeBackpropInput",oi="Diag",si="Dilation2D",ii="Dilation2DBackpropInput",li="Dilation2DBackpropFilter",ui="Draw",ci="RealDiv",di="Einsum",pi="Elu",hi="EluGrad",fi="Erf",mi="Equal",gi="Exp",vi="ExpandDims",yi="Expm1",bi="Fill",wi="FlipLeftRight",ki="Floor",Si="FloorDiv",xi="FusedBatchNorm",_i="GatherV2",Ii="GatherNd",Ei="Greater",Ti="GreaterEqual",Ni="Identity",Ci="IFFT",Ai="Imag",Mi="IsFinite",Oi="IsInf",Ri="IsNan",Di="LeakyRelu",Fi="Less",Pi="LessEqual",Li="LinSpace",zi="Log",Bi="Log1p",Wi="LogicalAnd",Ui="LogicalNot",ji="LogicalOr",Hi="LRN",Vi="LRNGrad",qi="Max",Gi="Maximum",Ki="MaxPool",$i="MaxPoolGrad",Yi="MaxPool3D",Qi="MaxPool3DGrad",Xi="MaxPoolWithArgmax",Ji="Mean",Zi="Min",el="Minimum",tl="MirrorPad",nl="Mod",rl="Multinomial",al="Multiply",ol="Neg",sl="NotEqual",il="NonMaxSuppressionV3",ll="NonMaxSuppressionV4",ul="NonMaxSuppressionV5",cl="OnesLike",dl="OneHot",pl="Pack",hl="PadV2",fl="Pow",ml="Prelu",gl="Prod",vl="RaggedGather",yl="RaggedRange",bl="RaggedTensorToTensor",wl="Range",kl="Real",Sl="Reciprocal",xl="Relu",_l="Reshape",Il="ResizeNearestNeighbor",El="ResizeNearestNeighborGrad",Tl="ResizeBilinear",Nl="ResizeBilinearGrad",Cl="Relu6",Al="Reverse",Ml="Round",Ol="Rsqrt",Rl="ScatterNd",Dl="TensorScatterUpdate",Fl="SearchSorted",Pl="Select",Ll="Selu",zl="Slice",Bl="Sin",Wl="Sinh",Ul="Sign",jl="Sigmoid",Hl="Softplus",Vl="Sqrt",ql="Sum",Gl="SpaceToBatchND",Kl="SplitV",$l="Softmax",Yl="SparseFillEmptyRows",Ql="SparseReshape",Xl="SparseSegmentMean",Jl="SparseSegmentSum",Zl="SparseToDense",eu="SquaredDifference",tu="Square",nu="StaticRegexReplace",ru="StridedSlice",au="StringNGrams",ou="StringSplit",su="StringToHashBucketFast",iu="Sub",lu="Tan",uu="Tanh",cu="Tile",du="TopK",pu="Transform",hu="Transpose",fu="Unique",mu="Unpack",gu="UnsortedSegmentSum",vu="ZerosLike",yu="Step",bu="FromPixels",wu="RotateWithOffset",ku="_FusedMatMul",Su="FusedConv2D",xu="FusedDepthwiseConv2D";function _u(){us().getBool("IS_TEST")||us().getBool("PROD")||console.warn(...arguments)}const Iu=hs("kernelRegistry",(()=>new Map)),Eu=hs("gradRegistry",(()=>new Map));function Tu(e,t){const n=Mu(e,t);return Iu.get(n)}function Nu(e){return Eu.get(e)}function Cu(e){const t=Iu.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[o,s]=a,[i]=o.split("_");i===e&&n.push(s)}return n}function Au(e){const{kernelName:t,backendName:n}=e,r=Mu(t,n);Iu.has(r)&&_u("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),Iu.set(r,e)}function Mu(e,t){return"".concat(t,"_").concat(e)}function Ou(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var Ru=n(7353);const Du=n.n(Ru)()||Ru;function Fu(e){return Du.fromString(e,!0,16)}const Pu=Fu("c3a5c85c97cb3127"),Lu=Fu("b492b66fbe98f273"),zu=Fu("9ae16a3b2f90404f");function Bu(e){return e.xor(e.shru(47))}function Wu(e,t,n){const r=e.slice(t,t+n);return Du.fromBytes(Array.from(r),!0,!0)}function Uu(e,t){return Wu(e,t,8)}function ju(e,t){return Wu(e,t,4)}function Hu(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Vu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fu("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function qu(e,t,n,r){return function(e,t,n,r,a,o){a=a.add(e),o=Hu(o.add(a).add(r),21);const s=a;return a=(a=a.add(t)).add(n),o=o.add(Hu(a,44)),[a.add(r),o.add(s)]}(Uu(e,t),Uu(e,t+8),Uu(e,t+16),Uu(e,t+24),n,r)}function Gu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Du.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=zu.add(2*t),r=Uu(e,0).add(zu),a=Uu(e,t-8);return Vu(Hu(a,37).mul(n).add(r),Hu(r,25).add(a).mul(n),n)}if(t>=4){const n=zu.add(2*t);return Vu(ju(e,0).shl(3).add(t),ju(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return Bu(zu.mul(n).xor(Pu.mul(r))).mul(zu)}return zu}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=zu.add(2*t),r=Uu(e,0).mul(Lu),a=Uu(e,8),o=Uu(e,t-8).mul(n),s=Uu(e,t-16).mul(zu);return Vu(Hu(r.add(a),43).add(Hu(o,30)).add(s),r.add(Hu(a.add(zu),18)).add(o),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=zu.add(2*t),r=Uu(e,0).mul(zu),a=Uu(e,8),o=Uu(e,t-8).mul(n),s=Uu(e,t-16).mul(zu),i=Hu(r.add(a),43).add(Hu(o,30)).add(s),l=Vu(i,r.add(Hu(a.add(zu),18)).add(o),n),u=Uu(e,16).mul(n),c=Uu(e,24),d=i.add(Uu(e,t-32)).mul(n),p=l.add(Uu(e,t-24)).mul(n);return Vu(Hu(u.add(c),43).add(Hu(d,30)).add(p),u.add(Hu(c.add(r),18)).add(d),n)}(e,t);let r=n,a=n.mul(Lu).add(113),o=Bu(a.mul(zu).add(113)).mul(zu),s=[Du.UZERO,Du.UZERO],i=[Du.UZERO,Du.UZERO];r=r.mul(zu).add(Uu(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=Hu(r.add(a).add(s[0]).add(Uu(e,l+8)),37).mul(Lu),a=Hu(a.add(s[1]).add(Uu(e,l+48)),42).mul(Lu),r=r.xor(i[1]),a=a.add(s[0]).add(Uu(e,l+40)),o=Hu(o.add(i[0]),33).mul(Lu),s=qu(e,l,s[1].mul(Lu),r.add(i[0])),i=qu(e,l+32,o.add(i[1]),a.add(Uu(e,l+16))),[o,r]=[r,o],l+=64}while(l!==u);const d=Lu.add(o.and(255).shl(1));return l=c,i[0]=i[0].add(t-1&63),s[0]=s[0].add(i[0]),i[0]=i[0].add(s[0]),r=Hu(r.add(a).add(s[0]).add(Uu(e,l+8)),37).mul(d),a=Hu(a.add(s[1]).add(Uu(e,l+48)),42).mul(d),r=r.xor(i[1].mul(9)),a=a.add(s[0].mul(9).add(Uu(e,l+40))),o=Hu(o.add(i[0]),33).mul(d),s=qu(e,l,s[1].mul(d),r.add(i[0])),i=qu(e,l+32,o.add(i[1]),a.add(Uu(e,l+16))),[o,r]=[r,o],Vu(Vu(s[0],i[0],d).add(Bu(a).mul(Pu)).add(o),Vu(s[1],i[1],d).add(r),d)}function Ku(e,t){return"string"===t?Qu(e):$u([e],t)}function $u(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Zu(e)),us().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function Yu(){return us().platform.now()}function Qu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",us().platform.encode(e,t)}function Xu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",us().platform.decode(e,t)}function Ju(e){return null!=us().platform.isTypedArray?us().platform.isTypedArray(e):Ou(e)}function Zu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||os(e)||null==e||Ju(e)&&n)t.push(e);else if(Array.isArray(e)||Ju(e))for(let r=0;r<e.length;++r)Zu(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)Zu(e[a],t,n)}return t}class ec{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new nc)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let o;const s=Yu();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();o=Promise.resolve({kernelMs:Yu()-s})}if(us().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then((n=>{tc(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:o}=e;n.forEach((e=>{Promise.all([e.data(),r,o]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function tc(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class nc{logKernelProfile(e,t,n,r,a,o){const s="number"===typeof r?Uo("".concat(r,"ms"),9):r.error,i=Uo(e,25),l=t.rank,u=t.size,c=Uo(t.shape.toString(),14);let d="";for(const p in a){const e=a[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+="".concat(p,": ").concat(r,"D ").concat(r>0?n:""," ")}}console.log("%c".concat(i,"\t%c").concat(s,"\t%c").concat(l,"D ").concat(c,"\t%c").concat(u,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function rc(e,t,n,r){const a=Qo(t),o=function(e,t,n,r){const a=zo(t),o=r[r.length-1],s=new Array(o).fill(0),i=t.length,l="complex64"===n?ic(e):e;if(i>1)for(let u=0;u<a/o;u++){const e=u*o;for(let t=0;t<o;t++)s[t]=Math.max(s[t],ac(l[e+t],0,n).length)}return s}(e,t,n,a),s=t.length,i=sc(e,t,n,a,o),l=["Tensor"];return r&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(s)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(i.map((e=>"    "+e)).join("\n")),l.join("\n")}function ac(e,t,n){let r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):Ko(e)?"'".concat(e,"'"):"bool"===n?oc(e):parseFloat(e.toFixed(7)).toString(),Uo(r,t)}function oc(e){return 0===e?"false":"true"}function sc(e,t,n,r,a){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s="complex64"===n?2:1,i=t[0],l=t.length;if(0===l){if("complex64"===n){return[ac(ic(e)[0],0,n)]}return"bool"===n?[oc(e[0])]:[e[0].toString()]}if(1===l){if(i>20){const t=3*s;let r=Array.from(e.slice(0,t)),o=Array.from(e.slice((i-3)*s,i*s));return"complex64"===n&&(r=ic(r),o=ic(o)),["["+r.map(((e,t)=>ac(e,a[t],n))).join(", ")+", ..., "+o.map(((e,t)=>ac(e,a[i-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?ic(e):Array.from(e)).map(((e,t)=>ac(e,a[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*s,p=[];if(i>20){for(let t=0;t<3;t++){const r=t*d,o=r+d;p.push(...sc(e.slice(r,o),u,n,c,a,!1))}p.push("...");for(let t=i-3;t<i;t++){const r=t*d,o=r+d;p.push(...sc(e.slice(r,o),u,n,c,a,t===i-1))}}else for(let m=0;m<i;m++){const t=m*d,r=t+d;p.push(...sc(e.slice(t,r),u,n,c,a,m===i-1))}const h=2===l?",":"";p[0]="["+(i>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(o?"":f),p}function ic(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class lc{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=zo(e),null!=n){const e=n.length;Fo(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||qo(t,this.size),this.strides=Qo(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),Fo(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const a=this.locToIndex(n);this.values[a]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const o of t){if(o<0||o>=this.shape[r]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}r++}let a=t[t.length-1];for(let o=0;o<t.length-1;++o)a+=this.strides[o]*t[o];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return uc().makeTensor(this.values,this.shape,this.dtype)}}let uc=null,cc=null,dc=null;class pc{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=zo(e),this.strides=Qo(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return cc.buffer(this.shape,this.dtype,e)}bufferSync(){return cc.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Jo(this.shape,e,"complex64"===this.dtype)}arraySync(){return Jo(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=uc().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>Xu(e)))}catch(Yn){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),uc().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=uc().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>Xu(e)))}catch(Yn){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await uc().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),uc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return cc.print(this,e)}clone(){return this.throwIfDisposed(),cc.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return rc(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),cc.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),uc().makeVariable(this,e,t,n)}}Object.defineProperty(pc,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),hs("Tensor",(()=>pc));class hc extends pc{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!Bo(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));uc().disposeTensor(this),this.dataId=e.dataId,uc().incRef(this,null)}dispose(){uc().disposeVariable(this),this.isDisposedInternal=!0}}var fc,mc,gc,vc,yc;Object.defineProperty(hc,Symbol.hasInstance,{value:e=>e instanceof pc&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(fc||(fc={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(mc||(mc={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(gc||(gc={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(vc||(vc={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(yc||(yc={}));const bc={float32:vc,int32:mc,bool:gc,complex64:yc};function wc(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return bc[e][t]}function kc(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function Sc(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function xc(e,t){if(e.dtype===t.dtype)return[e,t];const n=wc(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function _c(e){const t=[];return Ic(e,t,new Set),t}function Ic(e,t,n){if(null==e)return;if(e instanceof pc)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const a=e;for(const o in a){const e=a[o];n.has(e)||(n.add(e),Ic(e,t,n))}}function Ec(e){return null!=e.kernelName}class Tc{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Nc{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Tc}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(_u("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ec(this.backendInstance),!0}setupRegisteredKernels(){Cu(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Cu(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof Mo||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,_u("Initialization of backend ".concat(e," failed")),_u(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return _u("Initialization of backend ".concat(e," failed")),_u(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return Nc.nextTensorId++}nextVariableId(){return Nc.nextVariableId++}clone(e){const t=Ac.runKernel(Ni,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return Ac.runKernel(Ls,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=Tu(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=r-t-a-o;if(s>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(s," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,o=this.state.numTensors;let s,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=Ec(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Ec(e)){const{kernelName:t,inputs:a,attrs:o}=e;null==this.backendName&&this.backend;const l=Tu(t,this.backendName);Fo(null!=l,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),s=()=>{const e=this.backend.numDataIds();i=l.kernelFunc({inputs:a,attrs:o,backend:this.backend});const s=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const u=s.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,a,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=Ec(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=s()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=Nu(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let o;r.saveAllInputs?(Fo(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const s=n.filter(((e,t)=>a[t]));return o.concat(s)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&Ko(e[0])&&(a=e.map((e=>Qu(e))));const o=r.write(a,t,n),s=new pc(t,n,o,this.nextTensorId());if(this.trackTensor(s,r),"string"===n){const e=this.state.tensorInfo.get(o),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,o=new pc(r,a,n,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new hc(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Go(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof hc||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Go(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,o){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},i=Nu(e);null!=i&&(r=i.gradFunc),null!=r&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=es(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,o))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=_c(e),n=new Set(t.map((e=>e.id)));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Fo(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));Fo(a instanceof pc,(()=>"The result y returned by f() must be a tensor."));const o=function(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const s=o[e];let i=!1;for(let e=0;e<t.length;e++)if(r[s.id]){n.outputs.forEach((e=>r[e.id]=!0)),i=!0,a[n.id]=!0;break}if(i)break}}const o={};o[n.id]=!0;const s={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,s[t.id]=!0;break}}const i=[];for(let l=0;l<e.length;l++){const t=e[l];if(a[t.id]&&s[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=Zo(zo(e),"float32");return Ac.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const o=t[a],s=[];if(o.outputs.forEach((t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const i=o.gradient(s);for(const t in o.inputs){if(!(t in i))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(i),"."));const a=n((()=>i[t]()));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));const s=o.inputs[t];if(!Bo(a.shape,s.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(s.shape,"'"));if(null==e[s.id])e[s.id]=a;else{const t=e[s.id];e[s.id]=r(t,a),t.dispose()}}}}(e,o,(e=>this.tidy(e)),Mc);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){var t=this;return Fo(Yo(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];let o;Fo(r.every((e=>e instanceof pc)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const s={};r.forEach(((e,t)=>{s[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(o=e(...r,n),Fo(o.value instanceof pc,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),Fo(Yo(o.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),o.value),backwardsFunc:(e,t)=>{const n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];Fo(a.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),Fo(a.every((e=>e instanceof pc)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return a.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Yu(),n=await this.backend.time(e);return n.wallMs=Yu()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Tc;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Cc(){const e=ps();if(null==e._tfengine){const t=new is(e);e._tfengine=new Nc(t)}var t;return t=e._tfengine.ENV,ds=t,uc=()=>e._tfengine,e._tfengine}Nc.nextTensorId=0,Nc.nextVariableId=0;const Ac=Cc();function Mc(e,t){const n={a:e,b:t};return Ac.runKernel(vs,n)}const Oc=us();function Rc(e,t){let n=e;if(Ju(e))return"string"===t?[]:[e.length];if(kc(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(Sc(e))return[e.buffer.size/(null==t?4:Go(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Ju(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&us().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Dc(e,r,[]),r}function Dc(e,t,n){if(n=n||[],!Array.isArray(e)&&!Ju(e))return void Fo(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));Fo(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),Fo(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const r=t.slice(1);for(let a=0;a<e.length;++a)Dc(e[a],r,n.concat(a))}function Fc(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function Pc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof pc)return Fc(r,e.dtype,t,n),e;let a=$o(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Fc(r,a,t,n),null==e||!Ju(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(r,"'"))}const o=Rc(e,a);Ju(e)||Array.isArray(e)||(e=[e]);const s="string"!==a?$u(e,a):Zu(e,[],!0);return Ac.makeTensor(s,o,a)}function Lc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,a)=>Pc(e,"".concat(t,"[").concat(a,"]"),n,r)))}Oc.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Oc.registerFlag("IS_BROWSER",(()=>"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope)),Oc.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),Oc.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),Oc.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),Oc.registerFlag("PROD",(()=>!1)),Oc.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>Oc.getBool("DEBUG"))),Oc.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),Oc.registerFlag("IS_TEST",(()=>!1)),Oc.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>Oc.getBool("DEBUG"))),Oc.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),Oc.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),Oc.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const zc="__op";function Bc(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=zc;const a=function(){Ac.startScope(n);try{const e=r(...arguments);return os(e)&&console.error("Cannot return a Promise inside of tidy."),Ac.endScope(e),e}catch(e){throw Ac.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const Wc=Bc({complex_:function(e,t){const n=Pc(e,"real","complex"),r=Pc(t,"imag","complex");Po(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");const a={real:n,imag:r};return Ac.runKernel(Ws,a)}});function Uc(e,t,n,r){if(null==r)r=$o(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Sc(e)||kc(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return Ac.backend.createTensorFromGPUData(e,t||n,r)}if(!Ju(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ns(t);const e=zo(t),r=zo(n);Fo(e===r,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(r)));for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==zo(t.slice(a));Fo(n[a]===t[a]||!r,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return Ju(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?$u(e,r):Zu(e,[],!0),Ac.makeTensor(e,t,r)}function jc(e,t,n){return Uc(e,t,Rc(e,n),n)}const Hc={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Vc{static join(e){return new Vc(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>Ju(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let o=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],r=e+o-n.start,i=o,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(a.set(u,i),o+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,o=t(e[a]);if(0===o)return a;o<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}const qc=4;async function Gc(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let o=0;o<a.length;++o){const s=a[o],i=Array.isArray(e)?e[o].tensor:e[s];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(i.dtype));const l={name:s,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+qc*t.length,r=new Uint8Array(n);let a=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=qc,r.set(e,a),a+=e.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(l.group=t),n.push(l)}return{data:$c(await Promise.all(r)),specs:n}}function Kc(e,t){const n=new Vc(e),r={};let a,o=0;for(const s of t){const e=s.name,t=s.dtype,i=s.shape,l=zo(i);let u;if("quantization"in s){const r=s.quantization;if("uint8"===r.dtype||"uint16"===r.dtype){if(!("min"in r)||!("scale"in r))throw new Error("Weight ".concat(s.name," with quantization ").concat(r.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==r.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(r.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==t)throw new Error("Weight ".concat(s.name," is quantized with ").concat(r.dtype," ")+"which only supports weights of type float32 not ".concat(t,"."))}const i=Hc[r.dtype],c=n.slice(o,o+l*i),d="uint8"===r.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===t)if("uint8"===r.dtype||"uint16"===r.dtype){u=new Float32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=t*r.scale+r.min}}else{if("float16"!==r.dtype)throw new Error("Unsupported quantization type ".concat(r.dtype," ")+"for weight type float32.");void 0===a&&(a=ad()),u=a(d)}else{if("int32"!==t)throw new Error("Unsupported dtype in weight '".concat(e,"': ").concat(t));if("uint8"!==r.dtype&&"uint16"!==r.dtype)throw new Error("Unsupported quantization type ".concat(r.dtype," ")+"for weight type int32.");u=new Int32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=Math.round(t*r.scale+r.min)}}o+=l*i}else if("string"===t){const e=zo(s.shape);u=[];for(let t=0;t<e;t++){const e=new Uint32Array(n.slice(o,o+qc))[0];o+=qc;const t=new Uint8Array(n.slice(o,o+e));u.push(t),o+=e}}else{const a=Hc[t],s=n.slice(o,o+l*a);if("float32"===t)u=new Float32Array(s);else if("int32"===t)u=new Int32Array(s);else if("bool"===t)u=new Uint8Array(s);else{if("complex64"!==t)throw new Error("Unsupported dtype in weight '".concat(e,"': ").concat(t));{u=new Float32Array(s);const t=new Float32Array(u.length/2),n=new Float32Array(u.length/2);for(let e=0;e<t.length;e++)t[e]=u[2*e],n[e]=u[2*e+1];const a=jc(t,i,"float32"),o=jc(n,i,"float32");r[e]=Wc(a,o),a.dispose(),o.dispose()}}o+=l*a}"complex64"!==t&&(r[e]=jc(u,i,t))}return r}function $c(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const Yc="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Qc(e){return Yc?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Xc(e){return Vc.join(e)}function Jc(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Zc(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function ed(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function td(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),ed(e,n,r)}function nd(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Qc(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Qc(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new Vc(e.weightData).byteLength}}function rd(e){const t=[];for(const n of e)t.push(...n.weights);return t}function ad(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),o=new Uint32Array(a);for(let s=0;s<r.length;s++){const a=r[s],i=e[n[a>>10]+(1023&a)]+t[a>>10];o[s]=i}return new Float32Array(a)}}class od{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==od.instance&&(od.instance=new od),od.instance}static registerSaveRouter(e){od.getInstance().saveRouters.push(e)}static registerLoadRouter(e){od.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return od.getHandlers(e,"save")}static getLoadHandlers(e,t){return od.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?od.getInstance().loadRouters:od.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const sd=e=>od.registerSaveRouter(e),id=e=>od.registerLoadRouter(e),ld=e=>od.getSaveHandlers(e),ud=(e,t)=>od.getLoadHandlers(e,t),cd="tensorflowjs",dd="models_store",pd="model_info_store";function hd(){if(!us().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function fd(e){const t=e.result;t.createObjectStore(dd,{keyPath:"modelPath"}),t.createObjectStore(pd,{keyPath:"modelPath"})}class md{constructor(e){if(this.indexedDB=hd(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(cd,1);r.onupgradeneeded=()=>fd(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(dd,"readonly"),r=t.objectStore(dd).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=Vc.join(t.weightData);const r=nd(t),s=a.transaction(pd,"readwrite");let i,l,u=s.objectStore(pd);try{i=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(o){return n(o)}i.onsuccess=()=>{l=a.transaction(dd,"readwrite");const i=l.objectStore(dd);let c;try{c=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(o){return n(o)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=s.objectStore(pd);const t=u.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(c.error)),t.onerror=e=>(a.close(),n(c.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}md.URL_SCHEME="indexeddb://";const gd=e=>{return us().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(md.URL_SCHEME)?(t=e.slice(md.URL_SCHEME.length),new md(t)):null;var t};od.registerSaveRouter(gd),od.registerLoadRouter(gd);class vd{constructor(){this.indexedDB=hd()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(cd,1);n.onupgradeneeded=()=>fd(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(pd,"readonly"),o=a.objectStore(pd).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(r.close(),t(o.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(md.URL_SCHEME)?t.slice(md.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(cd,1);r.onupgradeneeded=()=>fd(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(pd,"readwrite"),s=o.objectStore(pd),i=s.get(e);let l;i.onsuccess=()=>{if(null==i.result)return a.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const r=s.delete(e),o=()=>{l=a.transaction(dd,"readwrite");const r=l.objectStore(dd).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=o,r.onerror=e=>(o(),a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),o.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const yd="/",bd="tensorflowjs_models",wd="info",kd="model_topology",Sd="weight_specs",xd="weight_data",_d="model_metadata";function Id(e){return{info:[bd,e,wd].join(yd),topology:[bd,e,kd].join(yd),weightSpecs:[bd,e,Sd].join(yd),weightData:[bd,e,xd].join(yd),modelMetadata:[bd,e,_d].join(yd)}}function Ed(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function Td(e){const t=e.split(yd);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(yd)}class Nd{constructor(e){if(!us().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Id(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=nd(e),o=Vc.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(Yc)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(o));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw Ed(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(Yc){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(o),t}}Nd.URL_SCHEME="localstorage://";const Cd=e=>{return us().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Nd.URL_SCHEME)?(t=e.slice(Nd.URL_SCHEME.length),new Nd(t)):null;var t};od.registerSaveRouter(Cd),od.registerLoadRouter(Cd);class Ad{constructor(){Fo(us().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),Fo("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=bd+yd,n=yd+wd;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[Td(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=Id(e=(t=e).startsWith(Nd.URL_SCHEME)?t.slice(Nd.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const r=JSON.parse(this.LS.getItem(n.info));return Ed(n),r}}const Md="://";class Od{constructor(){this.managers={}}static getInstance(){return null==Od.instance&&(Od.instance=new Od),Od.instance}static registerManager(e,t){Fo(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(Md)&&(e=e.slice(0,e.indexOf(Md))),Fo(e.length>0,(()=>"scheme must not be an empty string."));const n=Od.getInstance();Fo(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=Od.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(Od.getInstance().managers)}}function Rd(e){if(-1===e.indexOf(Md))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Od.getSchemes().join(",")));return{scheme:e.split(Md)[0],path:e.split(Md)[1]}}async function Dd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Fo(e!==t,(()=>"Old path and new path are the same: '".concat(e,"'")));const r=od.getLoadHandlers(e);Fo(r.length>0,(()=>"Copying failed because no load handler is found for source URL ".concat(e,"."))),Fo(r.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"load handlers for source URL ".concat(e,".")));const a=r[0],o=od.getSaveHandlers(t);Fo(o.length>0,(()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,"."))),Fo(o.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"save handlers for destination URL ".concat(t,".")));const s=o[0],i=Rd(e).scheme,l=Rd(e).path,u=i===Rd(e).scheme,c=await a.load();n&&u&&await Od.getManager(i).removeModel(l);const d=await s.save(c);return n&&!u&&await Od.getManager(i).removeModel(l),d.modelArtifactsInfo}async function Fd(){const e=Od.getSchemes(),t={};for(const n of e){const e=await Od.getManager(n).listModels();for(const r in e){t[n+Md+r]=e[r]}}return t}async function Pd(e){const t=Rd(e);return Od.getManager(t.scheme).removeModel(t.path)}async function Ld(e,t){return Dd(e,t,!1)}async function zd(e,t){return Dd(e,t,!0)}class Bd{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&us().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return Ou(e)}}if(us().get("IS_BROWSER")){us().setPlatform("browser",new Bd);try{Od.registerManager(Nd.URL_SCHEME,new Ad)}catch(eq){}try{Od.registerManager(md.URL_SCHEME,new vd)}catch(eq){}}const Wd=()=>n(5817);let Ud;class jd{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=us().global.fetch?us().global.fetch(e,t):(null==Ud&&(Ud=Wd()),Ud(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Hd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",ns(e),new lc(e,t,n)}us().get("IS_NODE")&&!us().get("IS_BROWSER")&&us().setPlatform("node",new jd);const Vd=Bc({cast_:function(e,t){const n=Pc(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return Ac.runKernel(Ls,r,a)}});const qd=Bc({clone_:function(e){const t={x:Pc(e,"x","clone","string_or_numeric")};return Ac.runKernel(Ni,t)}});function Gd(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}Cc();function Kd(){return Ac}function $d(e,t){return Ac.tidy(e,t)}function Yd(e){_c(e).forEach((e=>e.dispose()))}function Qd(e){return Ac.keep(e)}function Xd(e){return Ac.setBackend(e)}function Jd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Ac.registerBackend(e,t,n)}cc={buffer:Hd,cast:Vd,clone:qd,print:Gd},dc=function(e){us().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const Zd=Bc({add_:function(e,t){let n=Pc(e,"a","add"),r=Pc(t,"b","add");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(vs,a)}});const ep=Bc({floorDiv_:function(e,t){let n=Pc(e,"a","floorDiv"),r=Pc(t,"b","floorDiv");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(Si,a)}});const tp=Bc({div_:function(e,t){let n=Pc(e,"a","div"),r=Pc(t,"b","div");if([n,r]=xc(n,r),"int32"===n.dtype&&"int32"===r.dtype)return ep(n,r);const a={a:n,b:r};return Ac.runKernel(ci,a,{})}});const np=Bc({mul_:function(e,t){let n=Pc(e,"a","mul"),r=Pc(t,"b","mul");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(al,a)}});const rp=Bc({sqrt_:function(e){const t={x:Pc(e,"x","sqrt","float32")};return Ac.runKernel(Vl,t)}});const ap=Bc({square_:function(e){const t=Pc(e,"x","square");return Ac.runKernel("Square",{x:t},{})}});const op=Bc({zerosLike_:function(e){const t={x:Pc(e,"x","zerosLike")};return Ac.runKernel(vu,t)}});function sp(e){return Ac.customGrad(e)}function ip(e,t){if((Ju(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Ju(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Uc(e,[],[],t)}const lp=new Map,up=new Map;class cp{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class dp{constructor(){this.classNameMap={}}static getMap(){return null==dp.instance&&(dp.instance=new dp),dp.instance}static register(e){dp.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function pp(e,t,n){Fo(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),Fo("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),Fo(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return dp.register(e),lp.set(r,e),up.set(e,r),e}class hp extends cp{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:a[e.name]})));this.applyGradients(e)}else this.applyGradients(a);return Yd(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){Fo(Yo(e),(()=>"The f passed in variableGrads(f) must be a function")),Fo(null==t||Array.isArray(t)&&t.every((e=>e instanceof hc)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in Ac.registeredVariables)t.push(Ac.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,a=t.length;t=t.filter((e=>e.trainable)),Fo(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(a," variables is ")+"trainable."));const{value:o,grads:s}=Ac.gradients(e,t,null,!0);Fo(s.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),Fo(0===o.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(o.rank," tensor")));const i={};return t.forEach(((e,t)=>{null!=s[t]&&(i[e.name]=s[t])})),null!=r&&r.forEach((e=>i[e.name]=null)),{value:o,grads:i}}(e,t)}dispose(){null!=this.iterations_&&Yd(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:ip(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(hp,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function fp(e,t,n){ns(e);const r={shape:e,value:t,dtype:n=n||$o(t)};return Ac.runKernel(bi,{},r)}const mp=Bc({pow_:function(e,t){let n=Pc(e,"base","pow"),r=Pc(t,"exp","pow");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(fl,a)}});const gp=Bc({sub_:function(e,t){let n=Pc(e,"a","sub"),r=Pc(t,"b","sub");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(iu,a)}});const vp=Bc({abs_:function(e){const t=Pc(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return Ac.runKernel(Us,e)}{const e={x:t};return Ac.runKernel(fs,e)}}});function yp(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const o=n-1-a,s=e[o]||1;(t[t.length-1-a]||1)>1&&1===s&&r.unshift(o)}return r}function bp(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let o=e[e.length-a-1];null==o&&(o=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===o)r[n-a-1]=s;else if(1===s)r[n-a-1]=o;else{if(o!==s){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}r[n-a-1]=o}}return r}const wp=Bc({maximum_:function(e,t){let n=Pc(e,"a","maximum"),r=Pc(t,"b","maximum");[n,r]=xc(n,r),"bool"===n.dtype&&(n=Vd(n,"int32"),r=Vd(r,"int32")),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(Gi,a)}});class kp extends hp{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=Ac.registeredVariables[t];$d((()=>{const e=Zd(np(this.c,r),a);a.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Qd(ip(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const Sp=[class extends hp{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=Ac.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Ac.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:$d((()=>op(r).variable(a)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:$d((()=>op(r).variable(a)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;$d((()=>{const e=Zd(np(s,this.rho),np(ap(o),1-this.rho)),t=np(tp(rp(Zd(i,this.epsilon)),rp(Zd(s,this.epsilon))),o),n=Zd(np(i,this.rho),np(ap(t),1-this.rho));s.assign(e),i.assign(n);const a=Zd(np(t,-this.learningRate),r);r.assign(a)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Yd(this.accumulatedGrads.map((e=>e.variable))),Yd(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends hp{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Ac.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:$d((()=>fp(r.shape,this.initialAccumulatorValue).variable(e)))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedGrads[n].variable;$d((()=>{const e=Zd(o,ap(a));o.assign(e);const t=Zd(np(tp(a,rp(Zd(e,Ac.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Yd(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends hp{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],$d((()=>{this.accBeta1=ip(t).variable(),this.accBeta2=ip(n).variable()})),null==r&&(this.epsilon=Ac.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);$d((()=>{const n=gp(1,this.accBeta1),r=gp(1,this.accBeta2);t.forEach(((t,a)=>{const o=Ac.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:$d((()=>op(o).variable(s)))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:"".concat(t,"/v"),variable:$d((()=>op(o).variable(s)))});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedSecondMoment[a].variable,c=Zd(np(l,this.beta1),np(i,1-this.beta1)),d=Zd(np(u,this.beta2),np(ap(i),1-this.beta2)),p=tp(c,n),h=tp(d,r);l.assign(c),u.assign(d);const f=Zd(np(tp(p,Zd(rp(h),this.epsilon)),-this.learningRate),o);o.assign(f)})),this.accBeta1.assign(np(this.accBeta1,this.beta1)),this.accBeta2.assign(np(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Yd(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Yd(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),$d((()=>{this.accBeta1.assign(mp(this.beta1,this.iterations_+1)),this.accBeta2.assign(mp(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends hp{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],$d((()=>{this.iteration=ip(0).variable(),this.accBeta1=ip(t).variable()})),null==r&&(this.epsilon=Ac.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);$d((()=>{const n=gp(1,this.accBeta1),r=tp(-this.learningRate,Zd(np(this.iteration,this.decay),1));t.forEach(((t,a)=>{const o=Ac.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:op(o).variable(s)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:"".concat(t,"/v"),variable:op(o).variable(s)});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedWeightedInfNorm[a].variable,c=Zd(np(l,this.beta1),np(i,1-this.beta1)),d=np(u,this.beta2),p=vp(i),h=wp(d,p);l.assign(c),u.assign(h);const f=Zd(np(tp(r,n),tp(c,Zd(h,this.epsilon))),o);o.assign(f)})),this.iteration.assign(Zd(this.iteration,1)),this.accBeta1.assign(np(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Yd(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Yd(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends kp{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=ip(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Ac.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:$d((()=>op(r).variable(e)))}}const a=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&$d((()=>{let e;const t=Zd(np(this.m,a),o);e=this.useNesterov?Zd(np(this.c,Zd(o,np(t,this.m))),r):Zd(np(this.c,t),r),a.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Yd(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends hp{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=Ac.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Ac.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:$d((()=>op(r).variable(a)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:$d((()=>op(r).variable(a)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:$d((()=>op(r).variable(a)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;$d((()=>{const e=Zd(np(s,this.decay),np(ap(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=Zd(np(t,this.decay),np(o,1-this.decay)),l=tp(np(o,this.learningRate),rp(gp(e,Zd(ap(a),this.epsilon)))),u=Zd(np(i,this.momentum),l);s.assign(e),t.assign(a),i.assign(u);const c=gp(r,u);r.assign(c)}else{const e=Zd(np(s,this.decay),np(ap(o),1-this.decay)),t=Zd(np(i,this.momentum),tp(np(o,this.learningRate),rp(Zd(e,this.epsilon))));s.assign(e),i.assign(t);const n=gp(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Yd(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Yd(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Yd(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},kp];function xp(e){return new Promise((e=>setTimeout(e))).then(e)}class _p{constructor(e){if(!us().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(_p.URL_SCHEME)&&(e=e.slice(_p.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=Vc.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Zc(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await xp((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await xp((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:nd(e)}}}}_p.URL_SCHEME="downloads://";class Ip{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==r.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:a});const o=td(r,(e=>this.loadWeights(e)));e(o)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(a).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r("Failed to weights data from file of path '".concat(e,"'.")),a.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Jc(e.name))),r={};for(const a of e)a.paths.forEach((e=>{const a=Jc(e);if(-1!==t.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(t.push(a),-1===n.indexOf(a))throw new Error("Weight file with basename '".concat(a,"' is not provided."));r[e]=this.weightsFiles[n.indexOf(a)]}));if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return r}}function Ep(e){return new Ip(e)}function Tp(e,t,n,r){!function(e){Fo(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){Fo(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),Fo(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),Fo(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((o=>(o.then((o=>{const s=n+ ++a/e.length*(r-n);return t(s),o})),o))))}async function Np(e,t){null==t&&(t={});const n=null==t.fetchFunc?us().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await Tp(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await Tp(a,t.onProgress,.5,1)}async function Cp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Ap((e=>Np(e,{requestInit:r})))(e,t,n)}function Ap(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const a=t.map((()=>!1)),o={},s=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=Hc[l]*zo(e.shape),c=()=>{a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),s[n]=!0)})):c(),i.push(e.name),n+=u}))})),!s.every((e=>e))){const e=r.filter(((e,t)=>!s[t]));throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(i.join(", "),"."))}const l=a.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length,r=new Vc(c.slice(p,p+n));o[e].forEach((e=>{const t=Kc(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}od.registerSaveRouter((e=>us().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(_p.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new _p(e)}(e.slice(_p.URL_SCHEME.length)):null));class Mp{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Fo("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=us().platform.fetch,Fo(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&Fo(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Zc(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=Vc.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:nd(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(rB){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return td(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,o=rd(e),s=[],i=[];for(const l of e)for(const e of l.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):s.push(a+e+r);this.weightUrlConverter&&s.push(...await Promise.all(i));return[o,await Np(s,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})]}}function Op(e){return null!=e.match(Mp.URL_SCHEME_REGEX)}Mp.URL_SCHEME_REGEX=/^https?:\/\//;const Rp=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>Op(e))):Op(e),n)return Dp(e,t)}return null};function Dp(e,t){return new Mp(e,t)}function Fp(e,t){return Dp(e,t)}od.registerSaveRouter(Rp),od.registerLoadRouter(Rp);class Pp{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Lp{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class zp{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Bp(e,t,n,r){return new zp(Wp(...arguments))}function Wp(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new Pp(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Pp({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Pp({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Up(e){return new Lp(e)}function jp(e){return new Lp(e)}function Hp(e,t,n){if(Lo(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=Rc(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Uc(e,t,r,n)}let Vp,qp=!1;function Gp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,o=!1,s=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));i=!0}if(null!=Tu(bu,Ac.backendName)){const n={pixels:e},r={numChannels:t};return Ac.runKernel(bu,n,r)}const[l,u]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,d;if(s)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(o||a||i){if(null==Vp)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Vp=new OffscreenCanvas(1,1).getContext("2d")}else Vp=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Vp.canvas.width=l,Vp.canvas.height=u,Vp.drawImage(e,0,0,l,u),c=Vp.getImageData(0,0,l,u).data}if(4===t)d=new Int32Array(c);else{const e=l*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=c[4*n+e]}return Hp(d,[u,l,t],"int32")}function Kp(e){if(2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}async function $p(e,t){let n=Pc(e,"img","toPixels");if(!(e instanceof pc)){const e=n;n=Vd(e,"int32"),e.dispose()}Kp(n);const[r,a]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2],s=await n.data(),i="float32"===n.dtype?255:1,l=new Uint8ClampedArray(a*r*4);for(let u=0;u<r*a;++u){const e=[0,0,0,255];for(let r=0;r<o;r++){const t=s[u*o+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===n.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===o?(e[0]=t*i,e[1]=t*i,e[2]=t*i):e[r]=t*i}const t=4*u;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){if(!qp){null!=Tu(ui,Ac.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),qp=!0)}t.width=a,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,a,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const Yp=Bc({fromPixels_:Gp});function Qp(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===zo(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const a=t.shape,o=a[a.length-1];let s=1;for(let d=0;d<a.length-1;++d)s*=a[d];const i=e.shape,l=a.slice();l.pop();let u=1;for(let d=o;d<n;++d)u*=i[d],l.push(i[d]);const c=[...Qo(e.shape).map((e=>e/u)),1].slice(0,o);return[l,s,u,c]}function Xp(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(let s=0;s<a;++s)if(n.shape[s]!==t.shape[s])throw new Error(o+" updates.shape[".concat(s,"] (").concat(n.shape[s],") != indices.shape[").concat(s,"] (").concat(t.shape[s],")."));for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(o+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}(n,t,e)}function Jp(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,o=n.length;let s=1;for(let l=a;l<o;++l)s*=n[l];const i=a<1?1:a;return{sliceRank:a,numUpdates:zo(t.shape)/i,sliceSize:s,strides:[...Qo(n.slice(0,a)),1],outputSize:zo(n)}}function Zp(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function eh(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function th(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function nh(e,t,n){let r;const a=e.shape.length;let o;return r="number"===typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{Fo(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(a).fill(-1):"number"===typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,o=o.map(((t,n)=>t>=0?t:(Fo(-1===t,(()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,"."))),e.shape[n]-r[n]))),[r,o]}function rh(e,t,n,r,a,o,s,i,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=s&&0!==(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)c&&0!==(1<<b&i)&&d.numAddAxisAfterEllipsis++,1<<b&s&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],v=[];for(let b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));const t=!!(p.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<b,p.endMask&1<<b],a=[p.strides[b]>0?0:-1,p.strides[b]>0?n:n-1];if(t&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];const o=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(t){const e=p.begin[b]<0?n+p.begin[b]:p.begin[b];if(p.begin[b]=e,p.end[b]=p.begin[b]+1,e<0||e>=n)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=ah(p.begin[b],0,p.strides[b],n,r,a),p.end[b]=ah(p.end[b],1,p.strides[b],n,r,a);const e=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===n;h=h&&e,f=f&&(0===b&&1===p.strides[b]||e)}else h=h&&1===p.strides[b]&&o,f=f&&(0===b&&1===p.strides[b]||o);let s,i=!1;if(p.beginValid&&p.endValid?(s=p.end[b]-p.begin[b],i=!0):t?(s=1,i=!0):o&&n>=0&&(s=p.strides[b]<0?-n:n,i=!0),i){let e;e=0===s||s<0!==p.strides[b]<0?0:Math.trunc(s/p.strides[b])+(s%p.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<p.finalShapeGatherIndices.length;++b){const e=p.finalShapeGatherIndices[b];e>=0?v.push(g[e]):-2===e&&v.push(1)}const y=v.filter(((e,t)=>-2!==p.finalShapeGatherIndices[t]));return{finalShapeSparse:y,finalShape:v,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function ah(e,t,n,r,a,o){if(a[t])return n>0?o[t]:o[t+1&1];{const t=e<0?r+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}const oh=Bc({acos_:function(e){const t={x:Pc(e,"x","acos")};return Ac.runKernel(ms,t)}});const sh=Bc({acosh_:function(e){const t={x:Pc(e,"x","acosh")};return Ac.runKernel(gs,t)}});const ih=Bc({addN_:function(e){Fo(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),Fo(e.length>=1,(()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)));const t=e.map(((e,t)=>Pc(e,"tensors".concat(t),"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!Bo(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return Ac.runKernel(ys,r)}});const lh=Bc({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Pc(e,"x","all","bool")},a={axis:t,keepDims:n};return Ac.runKernel(bs,r,a)}});const uh=Bc({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Pc(e,"x","any","bool")},a={axis:t,keepDims:n};return Ac.runKernel(ws,r,a)}});const ch=Bc({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Pc(e,"x","argMax")},r={axis:t};return Ac.runKernel(ks,n,r)}});const dh=Bc({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Pc(e,"x","argMin")},r={axis:t};return Ac.runKernel(Ss,n,r)}});const ph=Bc({asin_:function(e){const t={x:Pc(e,"x","asin")};return Ac.runKernel(xs,t)}});const hh=Bc({asinh_:function(e){const t={x:Pc(e,"x","asinh")};return Ac.runKernel(_s,t)}});const fh=Bc({atan_:function(e){const t={x:Pc(e,"x","atan")};return Ac.runKernel(Is,t)}});const mh=Bc({atan2_:function(e,t){let n=Pc(e,"a","atan2"),r=Pc(t,"b","atan2");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(Ts,a)}});const gh=Bc({atanh_:function(e){const t={x:Pc(e,"x","atanh")};return Ac.runKernel(Es,t)}});function vh(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0;return wh(e,[...t,e[3]],n,o,r,null,null,Ah(a))}function yh(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[i,l]=xh(t);let u;if("channelsLast"===s)u=[i,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));u=[i,l,e[1],e[1]]}return wh(e,u,n,r,a,o,!1,s)}function bh(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[i,l,u]=_h(t);let c,d;if("NDHWC"===s)d="channelsLast",c=[i,l,u,e[4],e[4]];else{if("NCDHW"!==s)throw new Error("Unknown dataFormat ".concat(s));d="channelsFirst",c=[i,l,u,e[1],e[1]]}return kh(e,c,n,r,a,!1,d,o)}function wh(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d]=e;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=xh(n),[v,y]=xh(r),b=Ih(p,v),w=Ih(h,y),{padInfo:k,outHeight:S,outWidth:x}=function(e,t,n,r,a,o,s,i,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=Sh(e,t,n));const o=e[0],s=e[1],i=Eh((o-t+2*r)/n+1,a),l=Eh((s-t+2*r)/n+1,a);return[i,l]}([t,n],o,r,e,i);c=a[0],d=a[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+o-t),i=Math.max(0,(d-1)*a+s-n),l=Math.floor(e/2),p=e-l,h=Math.floor(i/2);u={top:l,bottom:p,left:h,right:i-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),d=Math.ceil((n-s+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=Eh((t-o+p+h)/r+1,i),d=Eh((n-s+f+m)/a+1,i)}}return{padInfo:u,outHeight:c,outWidth:d}}(a,u,c,m,g,b,w,o,i),_=s?f*d:f;let I;return"channelsFirst"===i?I=[l,_,S,x]:"channelsLast"===i&&(I=[l,S,x,_]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:S,outWidth:x,outChannels:_,padInfo:k,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:v,dilationWidth:y,inShape:e,outShape:I,filterShape:t}}function kh(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",i=arguments.length>7?arguments[7]:void 0,[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d,p]=e;else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));[l,p,u,c,d]=e}const[h,f,m,,g]=t,[v,y,b]=_h(n),[w,k,S]=_h(r),x=Ih(h,w),_=Ih(f,k),I=Ih(m,S),{padInfo:E,outDepth:T,outHeight:N,outWidth:C}=function(e,t,n,r,a,o,s,i,l,u,c){let d,p,h,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,a,o){null==a&&(a=Sh(e,t[0],r[0]));const s=[0,0,0,n];for(let i=0;i<3;i++)e[i]+2*a>=t[i]&&(s[i]=Eh((e[i]-t[i]+2*a)/r[i]+1,o));return s}([t,n,r,1],[i,l,u],1,[a,o,s],e,c);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));{p=Math.ceil(t/a),h=Math.ceil(n/o),f=Math.ceil(r/s);const e=(p-1)*a+i-t,c=(h-1)*o+l-n,m=(f-1)*s+u-r,g=Math.floor(e/2),v=e-g,y=Math.floor(c/2),b=c-y,w=Math.floor(m/2);d={top:y,bottom:b,left:w,right:m-w,front:g,back:v,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(a,u,c,d,v,y,b,x,_,I,i),A=o?g*p:g;let M;return"channelsFirst"===s?M=[l,A,T,N,C]:"channelsLast"===s&&(M=[l,T,N,C,A]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:T,outHeight:N,outWidth:C,outChannels:A,padInfo:E,strideDepth:v,strideHeight:y,strideWidth:b,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:x,effectiveFilterHeight:_,effectiveFilterWidth:I,dilationDepth:w,dilationHeight:k,dilationWidth:S,inShape:e,outShape:M,filterShape:t}}function Sh(e,t,n){const r=Ih(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function xh(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function _h(e){return"number"===typeof e?[e,e,e]:e}function Ih(e,t){return t<=1?e:e+(e-1)*(t-1)}function Eh(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function Th(e){const[t,n,r]=xh(e);return 1===t&&1===n&&1===r}function Nh(e,t){return Th(e)||Th(t)}function Ch(e){return xh(e).every((e=>e>0))}function Ah(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function Mh(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)Fo(Wo(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{Fo(Wo(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const Oh=Bc({reshape_:function(e,t){const n={x:Pc(e,"x","reshape","string_or_numeric")},r={shape:t};return Ac.runKernel(_l,n,r)}});const Rh=Bc({avgPool_:function(e,t,n,r,a){const o=Pc(e,"x","avgPool","float32");Fo(Nh(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let s=o,i=!1;3===o.rank&&(i=!0,s=Oh(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Fo(4===s.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(s.rank,"."))),Mh("avgPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=Ac.runKernel(Ns,l,u);return c=Vd(c,o.dtype),i?Oh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Dh=Bc({avgPool3d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=Pc(e,"x","avgPool3d","float32");let i=s,l=!1;4===s.rank&&(l=!0,i=Oh(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Fo(5===i.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),Fo("NDHWC"===o,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),Fo("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'"))),Mh("avgPool3d",r,a);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o};let d=Ac.runKernel(As,u,c);return d=Vd(d,i.dtype),l?Oh(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Fh=Bc({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Fo(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=Lc(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return qd(n[0]);const r=n,a={axis:t};return Ac.runKernel(js,r,a)}});const Ph=Bc({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Pc(e,"a","matMul"),o=Pc(t,"b","matMul");[a,o]=xc(a,o);const s={a:a,b:o},i={transposeA:n,transposeB:r};return Ac.runKernel(Os,s,i)}});const Lh=Bc({sigmoid_:function(e){const t={x:Pc(e,"x","sigmoid","float32")};return Ac.runKernel(jl,t)}});const zh=Bc({slice_:function(e,t,n){const r=Pc(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},o={begin:t,size:n};return Ac.runKernel(zl,a,o)}});const Bh=Bc({tanh_:function(e){const t={x:Pc(e,"x","tanh","float32")};return Ac.runKernel(uu,t)}});const Wh=Bc({basicLSTMCell_:function(e,t,n,r,a,o){const s=Pc(e,"forgetBias","basicLSTMCell"),i=Pc(t,"lstmKernel","basicLSTMCell"),l=Pc(n,"lstmBias","basicLSTMCell"),u=Pc(r,"data","basicLSTMCell"),c=Pc(a,"c","basicLSTMCell"),d=Pc(o,"h","basicLSTMCell"),p=Fh([u,d],1),h=Ph(p,i),f=Zd(h,l),m=f.shape[0],g=f.shape[1]/4,v=[m,g],y=zh(f,[0,0],v),b=zh(f,[0,g],v),w=zh(f,[0,2*g],v),k=zh(f,[0,3*g],v),S=Zd(np(Lh(y),Bh(b)),np(c,Lh(Zd(s,w))));return[S,np(Bh(S),Lh(k))]}});const Uh=Bc({batchToSpaceND_:function(e,t,n){const r=Pc(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));Fo(r.rank>=1+t.length,(()=>"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length))),Fo(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),Fo(r.shape[0]%a===0,(()=>"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)));const o={x:r},s={blockShape:t,crops:n};return Ac.runKernel(Rs,o,s)}});const jh=Bc({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);const s=Pc(e,"x","batchNorm"),i=Pc(t,"mean","batchNorm"),l=Pc(n,"variance","batchNorm");let u,c;null!=a&&(u=Pc(a,"scale","batchNorm")),null!=r&&(c=Pc(r,"offset","batchNorm")),Fo(i.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Fo(null==c||i.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Fo(null==u||i.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?Oh(e,[1,1,1,e.size]):2===e.rank?Oh(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Oh(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),scale:u,offset:c,mean:i,variance:l},p={varianceEpsilon:o},h=Ac.runKernel(xi,d,p);return Oh(h,s.shape)}});const Hh=Bc({batchNorm2d_:function(e,t,n,r,a,o){const s=Pc(e,"x","batchNorm"),i=Pc(t,"mean","batchNorm"),l=Pc(n,"variance","batchNorm");let u,c;return null!=a&&(u=Pc(a,"scale","batchNorm")),null!=r&&(c=Pc(r,"offset","batchNorm")),Fo(2===s.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,"."))),Fo(2===i.rank||1===i.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(i.rank,"."))),Fo(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&Fo(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),null!=c&&Fo(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),jh(s,i,l,c,u,o)}});const Vh=Bc({batchNorm3d_:function(e,t,n,r,a,o){const s=Pc(e,"x","batchNorm"),i=Pc(t,"mean","batchNorm"),l=Pc(n,"variance","batchNorm");let u,c;return null!=a&&(u=Pc(a,"scale","batchNorm")),null!=r&&(c=Pc(r,"offset","batchNorm")),Fo(3===s.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,"."))),Fo(3===i.rank||1===i.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(i.rank,"."))),Fo(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&Fo(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),null!=c&&Fo(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),jh(s,i,l,c,u,o)}});const qh=Bc({batchNorm4d_:function(e,t,n,r,a,o){const s=Pc(e,"x","batchNorm"),i=Pc(t,"mean","batchNorm"),l=Pc(n,"variance","batchNorm");let u,c;return null!=a&&(u=Pc(a,"scale","batchNorm")),null!=r&&(c=Pc(r,"offset","batchNorm")),Fo(4===s.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,"."))),Fo(4===i.rank||1===i.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(i.rank,"."))),Fo(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&Fo(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),null!=c&&Fo(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),jh(s,i,l,c,u,o)}});const Gh=Bc({bincount_:function(e,t,n){const r=Pc(e,"x","bincount"),a=Pc(t,"weights","bincount");Fo("int32"===r.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype))),Fo(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),Fo(a.size===r.size||0===a.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")));const o={x:r,weights:a},s={size:n};return Ac.runKernel(Ds,o,s)}});const Kh=Bc({bitwiseAnd_:function(e,t){const n=Pc(e,"x","bitwiseAnd"),r=Pc(t,"y","bitwiseAnd");if(!Bo(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));const a={a:n,b:r};return Ac.runKernel(Fs,a)}});const $h=Bc({broadcastArgs_:function(e,t){const n=Pc(e,"s0","broadcastArgs","int32"),r=Pc(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));const a={s0:n,s1:r};return Ac.runKernel(Ps,a)}});const Yh=Bc({broadcastTo_:function(e,t){let n=Pc(e,"broadcastTo","x");const r=n.shape;if(ns(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=Oh(n,e)}const a=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(a[u]===t[u])o[u]=1;else if(1!==n.shape[u])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));const s=o.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===s.length)return qd(n);const i={x:n},l={reps:o};return Ac.runKernel(cu,i,l)}});const Qh=Bc({ceil_:function(e){const t={x:Pc(e,"x","ceil","float32")};return Ac.runKernel(zs,t)}});const Xh=Bc({clipByValue_:function(e,t,n){const r=Pc(e,"x","clipByValue");if(Fo(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return fp(r.shape,t,r.dtype);const a={x:r},o={clipValueMin:t,clipValueMax:n};return Ac.runKernel(Bs,a,o)}});const Jh=Bc({concat1d_:function(e){return Fh(e,0)}});const Zh=Bc({concat2d_:function(e,t){return Fh(e,t)}});const ef=Bc({concat3d_:function(e,t){return Fh(e,t)}});const tf=Bc({concat4d_:function(e,t){return Fh(e,t)}});const nf=Bc({conv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=Pc(e,"x","conv2d","float32"),l=Pc(t,"filter","conv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=Oh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Fo(4===u.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(u.rank,"."))),Fo(4===l.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."))),Mh("conv2d",r,s);const d="NHWC"===a?u.shape[3]:u.shape[1];Fo(d===l.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],"."))),Fo(Nh(n,o),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),Fo(Ch(o),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),Fo(Ch(n),(()=>"Error in conv2D: Strides should be larger than 0."));const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:s},f=Ac.runKernel(Hs,p,h);return c?Oh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const rf=Bc({conv1d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const i=Pc(e,"x","conv1d"),l=Pc(t,"filter","conv1d");let u=i,c=!1;2===i.rank&&(c=!0,u=Oh(i,[1,i.shape[0],i.shape[1]])),Fo(3===u.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(u.rank,"."))),Fo(3===l.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,"."))),Mh("conv1d",r,s),Fo(u.shape[2]===l.shape[1],(()=>"Error in conv1d: depth of input (".concat(u.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],"."))),Fo(Nh(n,o),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'"))),Fo(Ch(o),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),Fo(Ch(n),(()=>"Error in conv1D: Stride should be larger than 0.")),Fo("NWC"===a,(()=>"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")));const d=Oh(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=Oh(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=nf(p,d,[1,n],r,"NHWC",[1,o],s);return Oh(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const af=Bc({conv2DBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0;Fo(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let i=e,l=t,u=!1;3===t.rank&&(u=!0,l=Oh(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),Fo(4===i.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(i.length,"."))),Fo(4===l.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank))),Fo(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const c="NHWC"===o?i[3]:i[1],d="NHWC"===o?l.shape[3]:l.shape[1];Fo(c===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),Fo(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),Mh("conv2dDerInput",a,s);const p={dy:l,filter:n},h={strides:r,pad:a,dataFormat:o,dimRoundingMode:s,inputShape:i},f=Ac.runKernel(qs,p,h);return u?Oh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const of=Bc({conv2dTranspose_:function(e,t,n,r,a,o){const s=Pc(e,"x","conv2dTranspose"),i=Pc(t,"filter","conv2dTranspose");return af(n,s,i,r,a,"NHWC",o)}});const sf=Bc({conv3d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const s=Pc(e,"x","conv3d"),i=Pc(t,"filter","conv3d");let l=s,u=!1;4===s.rank&&(u=!0,l=Oh(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Fo(5===l.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,"."))),Fo(5===i.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(i.rank,"."))),Fo(l.shape[4]===i.shape[3],(()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(i.shape[3],"."))),Fo(Nh(n,o),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),Fo("NDHWC"===a,(()=>"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported."))),Fo(Ch(o),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),Fo(Ch(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:i},d={strides:n,pad:r,dataFormat:a,dilations:o},p=Ac.runKernel(Gs,c,d);return u?Oh(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const lf=Bc({conv3DBackpropInput_:function(e,t,n,r,a){Fo(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let o=e,s=t,i=!1;4===t.rank&&(i=!0,s=Oh(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=s.shape[4];Fo(5===o.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,"."))),Fo(5===s.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(s.rank))),Fo(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),Fo(l===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),Fo(u===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(u,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const c={dy:s,filter:n},d={pad:a,strides:r,inputShape:o},p=Ac.runKernel($s,c,d);return i?Oh(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const uf=Bc({conv3dTranspose_:function(e,t,n,r,a){const o=Pc(e,"x","conv3dTranspose"),s=Pc(t,"filter","conv3dTranspose");return lf(n,o,s,r,a)}});const cf=Bc({cos_:function(e){const t={x:Pc(e,"x","cos","float32")};return Ac.runKernel(Ys,t)}});const df=Bc({cosh_:function(e){const t={x:Pc(e,"x","cosh","float32")};return Ac.runKernel(Qs,t)}});const pf=Bc({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:Pc(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return Ac.runKernel(Xs,a,o)}});const hf=Bc({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:Pc(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return Ac.runKernel(Js,a,o)}});const ff=Bc({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Pc(e,"x","denseBincount"),o=Pc(t,"weights","denseBincount");Fo("int32"===a.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype))),Fo(a.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,"."))),Fo(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),Fo(o.size===a.size||0===o.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(o.shape,".")));const s={x:a,weights:o},i={size:n,binaryOutput:r};return Ac.runKernel(ei,s,i)}});const mf=Bc({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=Pc(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],s="NHWC"===n?r.shape[3]:r.shape[1];Fo(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),Fo(a*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape))),Fo(o*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape))),Fo(s%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(s," for depthToSpace with input shape ").concat(r.shape)));const i={x:r},l={blockSize:t,dataFormat:n};return Ac.runKernel(ti,i,l)}});const gf=Bc({depthwiseConv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=Pc(e,"x","depthwiseConv2d","float32"),l=Pc(t,"filter","depthwiseConv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=Oh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Fo(4===u.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),Fo(4===l.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")));const d="NHWC"===a?u.shape[3]:u.shape[1];Fo(d===l.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],"."))),Mh("depthwiseConv2d",r,s);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:s},f=Ac.runKernel(ni,p,h);return c?Oh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const vf=Bc({diag_:function(e){const t={x:Pc(e,"x","diag")};return Ac.runKernel(oi,t)}});const yf=Bc({dilation2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const s=Pc(e,"x","dilation2d"),i=Pc(t,"filter","dilation2d");Fo(3===s.rank||4===s.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(s.rank,"."))),Fo(3===i.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(i.rank,"."))),Fo("NHWC"===o,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)));let l=s,u=!1;3===s.rank&&(l=Oh(s,[1,s.shape[0],s.shape[1],s.shape[2]]),u=!0),Fo(l.shape[3]===i.shape[2],(()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(i.shape[2])));const c={x:l,filter:i},d={strides:n,pad:r,dilations:a},p=Ac.runKernel(si,c,d);return u?Oh(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const bf=Bc({equal_:function(e,t){let n=Pc(e,"a","equal","string_or_numeric"),r=Pc(t,"b","equal","string_or_numeric");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(mi,a)}});const wf=Bc({where_:function(e,t,n){const r=Pc(t,"a","where"),a=Pc(n,"b","where"),o=Pc(e,"condition","where","bool"),s=bp(bp(o.shape,r.shape),a.shape),i={condition:Yh(o,s),t:Yh(r,s),e:Yh(a,s)};return Ac.runKernel(Pl,i)}});const kf=Bc({divNoNan_:function(e,t){let n=Pc(e,"a","div"),r=Pc(t,"b","div");[n,r]=xc(n,r);const a=tp(n,r),o=op(a),s=bf(r,o);return wf(s,o,a)}});const Sf=Bc({dot_:function(e,t){const n=Pc(e,"t1","dot"),r=Pc(t,"t2","dot");Fo((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(Fo(a===o,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(o,"."))),1===n.rank&&1===r.rank){const e=Oh(n,[1,-1]),t=Oh(r,[-1,1]),a=Ph(e,t);return Oh(a,[])}if(1===n.rank&&2===r.rank){const e=Oh(n,[1,-1]),t=Oh(r,[r.shape[0],r.shape[1]]),a=Ph(e,t);return Oh(a,[a.size])}if(2===n.rank&&1===r.rank){const e=Oh(r,[-1,1]),t=Ph(n,e);return Oh(t,[t.size])}{const e=Oh(r,[r.shape[0],r.shape[1]]);return Ph(n,e)}}});const xf=Bc({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(((e,t)=>Pc(e,"tensors".concat(t),"einsum"))),o={equation:e};return Ac.runKernel(di,a,o)}});const _f=Bc({elu_:function(e){const t={x:Pc(e,"x","elu","float32")};return Ac.runKernel(pi,t)}});const If=Bc({ensureShape_:function(e,t){const n=Pc(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});const Ef=Bc({erf_:function(e){let t=Pc(e,"x","erf");Fo("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=Vd(t,"float32"));const n={x:t};return Ac.runKernel(fi,n)}});function Tf(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Nf(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}function Cf(e,t){return function(e,t,n){const r=e.length+t.length,a=[];let o=0,s=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?a.push(e[o++]):a.push(t[s++]);return a}(e,t.map((e=>1)),t)}function Af(e,t,n){Fo(Tf(t,n),(()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")))}function Mf(e,t){if(Tf(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function Of(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function Rf(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const Df=Bc({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Pc(e,"x","max")},a={reductionIndices:t,keepDims:n};return Ac.runKernel(qi,r,a)}});const Ff=Bc({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Pc(e,"x","min")},a={axis:t,keepDims:n};return Ac.runKernel(Zi,r,a)}});const Pf=Bc({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Pc(e,"x","sum");"bool"===r.dtype&&(r=Vd(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return Ac.runKernel(ql,a,o)}});function Lf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return vp(e);if(1!==e.rank&&null===n)return Lf(Oh(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Pf(vp(e),n);if(t===1/0)return Df(vp(e),n);if(t===-1/0)return Ff(vp(e),n);if("euclidean"===t||2===t)return rp(Pf(mp(vp(e),ip(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return Df(Pf(vp(e),n[0]),n[1]-1);if(t===1/0)return Df(Pf(vp(e),n[1]),n[0]);if(t===-1/0)return Ff(Pf(vp(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return rp(Pf(ap(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const zf=Bc({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Lf(e=Pc(e,"x","norm"),t,n);let o=a.shape;if(r){const t=Ho(n,e.shape);o=Cf(a.shape,t)}return Oh(a,o)}});const Bf=Bc({euclideanNorm_:function(e){return zf(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const Wf=Bc({exp_:function(e){const t={x:Pc(e,"x","exp")};return Ac.runKernel(gi,t)}});const Uf=Bc({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Pc(e,"x","expandDims","string_or_numeric");Fo(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return Ac.runKernel(vi,r,a)}});const jf=Bc({expm1_:function(e){const t={x:Pc(e,"x","expm1")};return Ac.runKernel(yi,t)}});const Hf=Bc({tile_:function(e,t){const n=Pc(e,"x","tile","string_or_numeric");Fo(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const r={x:n},a={reps:t};return Ac.runKernel(cu,r,a)}});const Vf=Bc({eye_:function(e,t,n){null==t&&(t=e);const r=Hd([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t;for(let s=0;s<a;++s)r.set(1,s,s);const o=Oh(r.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return Hf(Uf(o,0),[n[0],1,1]);if(2===n.length)return Hf(Uf(Uf(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return Hf(Uf(Uf(Uf(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const qf=Bc({floor_:function(e){const t={x:Pc(e,"x","floor","float32")};return Ac.runKernel(ki,t)}});const Gf=Bc({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a={x:Pc(e,"x","gather"),indices:Pc(t,"indices","gather","int32")},o={axis:n,batchDims:r};return Ac.runKernel(_i,a,o)}});const Kf=Bc({greater_:function(e,t){let n=Pc(e,"a","greater","string_or_numeric"),r=Pc(t,"b","greater","string_or_numeric");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(Ei,a)}});const $f=Bc({greaterEqual_:function(e,t){let n=Pc(e,"a","greaterEqual","string_or_numeric"),r=Pc(t,"b","greaterEqual","string_or_numeric");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(Ti,a)}});const Yf=Bc({imag_:function(e){const t={input:Pc(e,"input","imag")};return Ac.runKernel(Ai,t)}});const Qf=Bc({isFinite_:function(e){const t={x:Pc(e,"x","isFinite")};return Ac.runKernel(Mi,t)}});const Xf=Bc({isInf_:function(e){const t={x:Pc(e,"x","isInf")};return Ac.runKernel(Oi,t)}});const Jf=Bc({isNaN_:function(e){const t={x:Pc(e,"x","isNaN")};return Ac.runKernel(Ri,t)}});const Zf=Bc({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:Pc(e,"x","leakyRelu")},r={alpha:t};return Ac.runKernel(Di,n,r)}});const em=Bc({less_:function(e,t){let n=Pc(e,"a","less","string_or_numeric"),r=Pc(t,"b","less","string_or_numeric");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(Fi,a)}});const tm=Bc({lessEqual_:function(e,t){let n=Pc(e,"a","lessEqual","string_or_numeric"),r=Pc(t,"b","lessEqual","string_or_numeric");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(Pi,a)}});function nm(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return Ac.runKernel(Li,{},r)}const rm=Bc({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const o=Pc(e,"x","localResponseNormalization");Fo(4===o.rank||3===o.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,"."))),Fo(Wo(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let s=o,i=!1;3===o.rank&&(i=!0,s=Oh(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:s},u={depthRadius:t,bias:n,alpha:r,beta:a},c=Ac.runKernel(Hi,l,u);return i?Oh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const am=Bc({log_:function(e){const t={x:Pc(e,"x","log","float32")};return Ac.runKernel(zi,t)}});const om=Bc({log1p_:function(e){const t={x:Pc(e,"x","log1p")};return Ac.runKernel(Bi,t)}});const sm=Bc({neg_:function(e){const t={x:Pc(e,"x","neg")};return Ac.runKernel(ol,t)}});const im=Bc({softplus_:function(e){const t={x:Pc(e,"x","softplus")};return Ac.runKernel(Hl,t)}});const lm=Bc({logSigmoid_:function(e){const t=Pc(e,"x","logSigmoid");return sp((e=>({value:sm(im(sm(e))),gradFunc:t=>np(t,Lh(sm(e)))})))(t)}});const um=Bc({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=Pc(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const r=sp(((e,n)=>{const r=Df(e,t,!0),a=gp(e,r),o=gp(Vd(a,"float32"),am(Pf(Wf(a),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[r]=n,a=Wf(r);return gp(e,np(Pf(e,t,!0),a))}}}));return r(n)}});const cm=Bc({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Pc(e,"x","logSumExp"),a=Ho(t,r.shape),o=Df(r,a,!0),s=gp(r,o),i=Wf(s),l=Pf(i,a),u=am(l),c=Zd(Oh(o,u.shape),u);if(n){const e=Cf(c.shape,a);return Oh(c,e)}return c}});const dm=Bc({logicalAnd_:function(e,t){const n=Pc(e,"a","logicalAnd","bool"),r=Pc(t,"b","logicalAnd","bool");bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(Wi,a)}});const pm=Bc({logicalNot_:function(e){const t={x:Pc(e,"x","logicalNot","bool")};return Ac.runKernel(Ui,t)}});const hm=Bc({logicalOr_:function(e,t){const n=Pc(e,"a","logicalOr","bool"),r=Pc(t,"b","logicalOr","bool");bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(ji,a)}});const fm=Bc({logicalXor_:function(e,t){const n=Pc(e,"a","logicalXor","bool"),r=Pc(t,"b","logicalXor","bool");return bp(n.shape,r.shape),dm(hm(e,t),pm(dm(e,t)))}}),mm=2147483648;const gm=Bc({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=Pc(e,"sortedSequence","searchSorted"),a=Pc(t,"values","searchSorted"),o=r.shape[r.shape.length-1],s=a.shape[a.shape.length-1],i=Oh(r,[-1,o]),l=Oh(a,[-1,s]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(zo(l.shape)>=mm)throw new Error("values tensor size must less than ".concat(mm));if(i.shape[1]>=mm)throw new Error("trailing dim_size must less than ".concat(mm," for int32 output type, was ").concat(i.shape[1]));const u={sortedSequence:i,values:l},c={side:n};return Ac.runKernel(Fl,u,c)}});function vm(e,t){return gm(e,t,"left")}const ym=Bc({maxPool_:function(e,t,n,r,a){const o=Pc(e,"x","maxPool");let s=o,i=!1;3===o.rank&&(i=!0,s=Oh(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Fo(4===s.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(s.rank,"."))),Fo(Nh(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),Mh("maxPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=Ac.runKernel(Ki,l,u);return i?Oh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const bm=Bc({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=Pc(e,"x","maxPool3d");let i=s,l=!1;4===s.rank&&(l=!0,i=Oh(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Fo(5===i.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),Fo("NDHWC"===o,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),Mh("maxPool3d",r,a);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=Ac.runKernel(Yi,u,c);return l?Oh(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const wm=Bc({maxPoolWithArgmax_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o={x:Pc(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},i=Ac.runKernel(Xi,o,s);return{result:i[0],indexes:i[1]}}});const km=Bc({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Pc(e,"x","mean")},a={axis:t,keepDims:n};return Ac.runKernel(Ji,r,a)}});function Sm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(ns(e),"complex64"===t){const t=Sm(e,"float32"),n=Sm(e,"float32");return Wc(t,n)}const n=es(zo(e),t);return Ac.makeTensor(n,e,t)}function xm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(ns(e),"complex64"===t){const t=xm(e,"float32"),n=Sm(e,"float32");return Wc(t,n)}const n=Zo(zo(e),t);return Ac.makeTensor(n,e,t)}function _m(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let r=Pc(e,"x","meshgrid",e instanceof pc?e.dtype:"float32");if(void 0===t)return[r];let a=Pc(t,"y","meshgrid",t instanceof pc?t.dtype:"float32");const o=zo(r.shape),s=zo(a.shape);return"xy"===n?(r=Oh(r,[1,-1]),a=Oh(a,[-1,1]),[Ph(xm([s,1],r.dtype),r),Ph(a,xm([1,o],a.dtype))]):(r=Oh(r,[-1,1]),a=Oh(a,[1,-1]),[Ph(r,xm([1,s],r.dtype)),Ph(xm([o,1],a.dtype),a)])}const Im=Bc({minimum_:function(e,t){let n=Pc(e,"a","minimum"),r=Pc(t,"b","minimum");[n,r]=xc(n,r),"bool"===n.dtype&&(n=Vd(n,"int32"),r=Vd(r,"int32")),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(el,a)}});const Em=Bc({mirrorPad_:function(e,t,n){Fo("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const r=Pc(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Fo(t.length===r.rank,(()=>"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")));const a="reflect"===n?1:0;for(let i=0;i<r.rank;i++)Fo(2===t[i].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Fo(t[i][0]>=0&&t[i][0]<=r.shape[i]-a&&t[i][1]>=0&&t[i][1]<=r.shape[i]-a,(()=>"Padding in dimension ".concat(i," cannot be greater than or equal ")+"to ".concat(r.shape[i]-a," or less than 0 for input of ")+"shape ".concat(r.shape)));const o={paddings:t,mode:n},s={x:r};return Ac.runKernel(tl,s,o)}});const Tm=Bc({mod_:function(e,t){let n=Pc(e,"a","mod"),r=Pc(t,"b","mod");[n,r]=xc(n,r);const a={a:n,b:r};return Ac.runKernel(nl,a)}});const Nm=Bc({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Ho(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=Pc(e,"x","moments")).shape),r=km(e,n,t);let a=r.shape;t||(a=Cf(r.shape,n));const o=ap(gp(Vd(e,"float32"),Oh(r,a)));return{mean:r,variance:km(o,n,t)}}});const Cm=Bc({multiRNNCell_:function(e,t,n,r){const a=Pc(t,"data","multiRNNCell"),o=Lc(n,"c","multiRNNCell"),s=Lc(r,"h","multiRNNCell");let i=a;const l=[];for(let d=0;d<e.length;d++){const t=e[d](i,o[d],s[d]);l.push(t[0]),l.push(t[1]),i=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const Am=Bc({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Pc(e,"logits","multinomial"),o=a.size,s=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(s));n=n||Math.random();const i={logits:1===s?Oh(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=Ac.runKernel(rl,i,l);return 1===s?Oh(u,[u.size]):u}});const Mm=Bc({notEqual_:function(e,t){let n=Pc(e,"a","notEqual","string_or_numeric"),r=Pc(t,"b","notEqual","string_or_numeric");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(sl,a)}});const Om=Bc({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const o={indices:Pc(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return Ac.runKernel(dl,o,s)}});const Rm=Bc({onesLike_:function(e){const t={x:Pc(e,"x","onesLike")};return Ac.runKernel(cl,t)}});const Dm=Bc({outerProduct_:function(e,t){const n=Pc(e,"v1","outerProduct"),r=Pc(t,"v2","outerProduct");Fo(1===n.rank&&1===r.rank,(()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const a=Oh(n,[-1,1]),o=Oh(r,[1,-1]);return Ph(a,o)}});const Fm=Bc({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Pc(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},o={x:r};return Ac.runKernel(hl,o,a)}});const Pm=Bc({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Fo(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Fm(e,[t],n)}});const Lm=Bc({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Fo(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Fm(e,t,n)}});const zm=Bc({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Fo(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Fm(e,t,n)}});const Bm=Bc({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Fo(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Fm(e,t,n)}});const Wm=Bc({spaceToBatchND_:function(e,t,n){const r=Pc(e,"x","spaceToBatchND");Fo(r.rank>=1+t.length,(()=>"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length))),Fo(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),Fo(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e),!0),(()=>"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const a={x:r},o={blockShape:t,paddings:n};return Ac.runKernel(Gl,a,o)}});const Um=Bc({pool_:function(e,t,n,r,a,o,s){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");const i=Pc(e,"x","maxPool");let l=i,u=!1;3===i.rank&&(u=!0,l=Oh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Fo(Nh(o,a),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(a,"'")));const c=yh(l.shape,t,o,a,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),a=r.map((e=>Math.floor(e/2))),o=r.map(((e,t)=>e-a[t]));return r.map(((e,t)=>[a[t],o[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),o=e.concat(r,a),s=t.map(((e,t)=>(e-o[t]%e)%e)),i=a.map(((e,t)=>e+s[t])),l=t.map(((e,t)=>[r[t],i[t]])),u=t.map(((e,t)=>[0,s[t]]));return[l,u]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",v=h?l:Wm(l,d,f),y=("avg"===n?()=>Rh(v,t,o,g,s):()=>ym(v,t,o,g,s))(),b=h?y:Uh(y,d,m);return u?Oh(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const jm=Bc({prelu_:function(e,t){const n={x:Pc(e,"x","prelu"),alpha:Pc(t,"alpha","prelu")};return Ac.runKernel(ml,n)}});const Hm=Bc({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Pc(e,"x","prod");"bool"===r.dtype&&(r=Vd(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return Ac.runKernel(gl,a,o)}});const Vm=Bc({raggedGather_:function(e,t,n,r){const a=e.map(((e,t)=>Pc(e,"tensors".concat(t),"raggedGather","int32"))),o={paramsNestedSplits:a,paramsDenseValues:Pc(t,"paramsDenseValues","raggedGather"),indices:Pc(n,"indices","raggedGather","int32")},s={outputRaggedRank:r},i=Ac.runKernel(vl,o,s);return{outputNestedSplits:i.slice(0,i.length-1),outputDenseValues:i[i.length-1]}}});const qm=Bc({raggedRange_:function(e,t,n){const r=Pc(e,"starts","raggedRange"),a={starts:r,limits:Pc(t,"limits","raggedRange",r.dtype),deltas:Pc(n,"deltas","raggedRange",r.dtype)},o=Ac.runKernel(yl,a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}});const Gm=Bc({raggedTensorToTensor_:function(e,t,n,r,a){const o=Pc(e,"shape","raggedTensorToTensor","int32"),s=Pc(t,"values","raggedTensorToTensor"),i=Pc(n,"defaultValue","raggedTensorToTensor",s.dtype),l=r.map(((e,t)=>Pc(e,"tensors".concat(t),"raggedTensorToTensor","int32"))),u={shape:o,values:s,defaultValue:i,rowPartitionTensors:l},c={rowPartitionTypes:a};return Ac.runKernel(bl,u,c)}});const Km=Bc({rand_:function(e,t,n){ns(e);const r=zo(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(let o=0;o<r;o++)a[o]=t();return Ac.makeTensor(a,e,n)}});var $m=n(4334);class Ym{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=a||Math.random();this.random=$m.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,o;do{r=2*this.random()-1,a=2*this.random()-1,o=r*r+a*a}while(o>=1||0===o);const s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Qm{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=$m.alea(a.toString()),this.randn=new Ym(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,o;for(;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),a=this.randu(),a<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class Xm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=$m.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const Jm=Bc({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(ns(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));const o=new Qm(t,n,r,a),s=Hd(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const Zm=Bc({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ns(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));const o=new Ym(t,n,r,!1,a),s=Hd(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const eg=Bc({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return Zm(e,0,1,t,n)}});const tg=Bc({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;ns(e);const o=Hd(e,r),s=new Xm(t,n,null,a);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const ng=Bc({randomUniformInt_:function(e,t,n,r){return tg(e,t,n,"int32",r)}});function rg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return Ac.runKernel(wl,{},a)}const ag=Bc({real_:function(e){const t={input:Pc(e,"input","real")};return Ac.runKernel(kl,t)}});const og=Bc({reciprocal_:function(e){const t={x:Pc(e,"x","reciprocal")};return Ac.runKernel(Sl,t)}});const sg=Bc({relu_:function(e){const t={x:Pc(e,"x","relu")};return Ac.runKernel(xl,t)}});const ig=Bc({relu6_:function(e){const t={x:Pc(e,"x","relu6")};return Ac.runKernel(Cl,t)}});const lg=Bc({reverse_:function(e,t){const n={x:Pc(e,"x","reverse")},r={dims:t};return Ac.runKernel(Al,n,r)}});const ug=Bc({reverse1d_:function(e){const t=Pc(e,"x","reverse");return Fo(1===t.rank,(()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,"."))),lg(t,0)}});const cg=Bc({reverse2d_:function(e,t){const n=Pc(e,"x","reverse");return Fo(2===n.rank,(()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,"."))),lg(n,t)}});const dg=Bc({reverse3d_:function(e,t){const n=Pc(e,"x","reverse");return Fo(3===n.rank,(()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,"."))),lg(n,t)}});const pg=Bc({reverse4d_:function(e,t){const n=Pc(e,"x","reverse");return Fo(4===n.rank,(()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,"."))),lg(n,t)}});const hg=Bc({round_:function(e){const t={x:Pc(e,"x","round")};return Ac.runKernel(Ml,t)}});const fg=Bc({rsqrt_:function(e){const t={x:Pc(e,"x","rsqrt","float32")};return Ac.runKernel(Ol,t)}});const mg=Bc({selu_:function(e){const t={x:Pc(e,"x","selu")};return Ac.runKernel(Ll,t)}});const gg=Bc({separableConv2d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const i=Pc(e,"x","separableConv2d"),l=Pc(t,"depthwiseFilter","separableConv2d"),u=Pc(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(3===i.rank&&(d=!0,c=Oh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Fo(4===c.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,"."))),Fo(4===l.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),Fo(4===u.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),Fo(1===u.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(u.shape[0],"."))),Fo(1===u.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(u.shape[1],".")));const p=l.shape[2],h=l.shape[3];Fo(u.shape[2]===p*h,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*h,", ")+"but got ".concat(u.shape[2],".")));const f=gf(c,l,r,a,s,o),m=nf(f,u,1,"valid",s);return d?Oh(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const vg=async function(e,t){const n=Pc(e,"x","setdiff1d"),r=Pc(t,"y","setdiff1d");Fo(n.dtype===r.dtype,(()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(r.dtype,")."))),Fo(1===n.rank,(()=>"x should be 1D tensor, but got x (".concat(n.shape,")."))),Fo(1===r.rank,(()=>"y should be 1D tensor, but got y (".concat(r.shape,").")));const a=await n.data(),o=await r.data(),s=new Set(o);let i=0;for(let c=0;c<a.length;c++)s.has(a[c])||i++;const l=new lc([i],n.dtype),u=new lc([i],"int32");for(let c=0,d=0;c<a.length;c++)s.has(a[c])||(l.values[d]=a[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const yg=Bc({sign_:function(e){const t={x:Pc(e,"x","sign")};return Ac.runKernel(Ul,t)}});const bg=Bc({sin_:function(e){const t={x:Pc(e,"x","sin","float32")};return Ac.runKernel(Bl,t)}});const wg=Bc({sinh_:function(e){const t={x:Pc(e,"x","sinh")};return Ac.runKernel(Wl,t)}});const kg=Bc({slice1d_:function(e,t,n){const r=Pc(e,"x","slice1d");return Fo(1===r.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor"))),zh(r,[t],[n])}});const Sg=Bc({slice2d_:function(e,t,n){const r=Pc(e,"x","slice2d");return Fo(2===r.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor"))),zh(r,t,n)}});const xg=Bc({slice3d_:function(e,t,n){const r=Pc(e,"x","slice3d");return Fo(3===r.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor"))),zh(r,t,n)}});const _g=Bc({slice4d_:function(e,t,n){const r=Pc(e,"x","slice4d");return Fo(4===r.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor"))),zh(r,t,n)}});const Ig=Bc({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=Pc(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const r={logits:n},a={dim:t};return Ac.runKernel($l,r,a)}});const Eg=Bc({fft_:function(e){Fo("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return Ac.runKernel("FFT",t)}});const Tg=Bc({ifft_:function(e){Fo("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return Ac.runKernel(Ci,t)}});const Ng=Bc({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=Oh(e,[n,t]);r=Tg(a)}else{const a=[n,2*(t-1)],o=Oh(ag(e),[n,t]),s=Oh(Yf(e),[n,t]),i=lg(zh(o,[0,1],[n,t-2]),1),l=np(lg(zh(s,[0,1],[n,t-2]),1),ip(-1)),u=Fh([o,i],1),c=Fh([s,l],1),d=Oh(Wc(u,c),[a[0],a[1]]);r=Tg(d)}if(r=ag(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=Oh(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const Cg=Bc({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:Pc(e,"x","split")},a={numOrSizeSplits:t,axis:n};return Ac.runKernel(Kl,r,a)}});const Ag=Bc({rfft_:function(e,t){Fo("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=t,a=zh(e,r,o),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=Fh([e,Sm(r)],e.shape.length-1),n=t}else a=e;const o=op(a),s=Oh(Wc(a,o),[r,n]),i=Eg(s),l=Math.floor(n/2)+1,u=ag(i),c=Yf(i),d=Cg(u,[l,n-l],u.shape.length-1),p=Cg(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,Oh(Wc(d[0],p[0]),h)}});const Mg=Bc({squaredDifference_:function(e,t){let n=Pc(e,"a","squaredDifference"),r=Pc(t,"b","squaredDifference");[n,r]=xc(n,r),bp(n.shape,r.shape);const a={a:n,b:r};return Ac.runKernel(eu,a,{})}});const Og=Bc({squeeze_:function(e,t){const n=Pc(e,"x","squeeze","string_or_numeric");return Oh(n,function(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:Ho(t,e).sort();let s=0;for(let i=0;i<e.length;++i){if(null!=o){if(o[s]===i&&1!==e[i])throw new Error("Can't squeeze axis ".concat(i," since its dim '").concat(e[i],"' is not 1"));(null==o[s]||o[s]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),o[s]<=i&&s++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});const Rg=Bc({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Lc(e,"tensors","stack","string_or_numeric");Fo(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&Fo(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return Ac.runKernel(pl,r,a)}});const Dg=Bc({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Pc(e,"x","step")},r={alpha:t};return Ac.runKernel(yu,n,r)}});const Fg=Bc({stridedSlice_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:Pc(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};return Ac.runKernel(ru,u,c)}});const Pg=Bc({tan_:function(e){const t={x:Pc(e,"x","tan","float32")};return Ac.runKernel(lu,t)}});function Lg(e,t){Lo(e);const n=Rc(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Uc(e,null,n,t)}function zg(e,t,n){if(Lo(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=Rc(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Uc(e,t,r,n)}function Bg(e,t,n){if(Lo(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=Rc(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Uc(e,t,r,n)}function Wg(e,t,n){if(Lo(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=Rc(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Uc(e,t,r,n)}function Ug(e,t,n){if(Lo(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=Rc(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Uc(e,t=t||r,r,n)}const jg=Bc({tensorScatterUpdate_:function(e,t,n){const r=Pc(e,"tensor","tensorScatterupdate"),a=Pc(t,"indices","tensorScatterupdate","int32"),o=Pc(n,"updates","tensorScatterupdate");if(Xp(o,a,r.shape),r.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(o.dtype,"."));const s={tensor:r,indices:a,updates:o};return Ac.runKernel(Dl,s,{})}});const Hg=Bc({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Pc(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));const o={x:r},s={k:t,sorted:n},[i,l]=Ac.runKernel(du,o,s);return{values:i,indices:l}}});const Vg=Bc({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ns(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const o=new Ym(t,n,r,!0,a),s=Hd(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const qg=Bc({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Pc(e,"x","unique","string_or_numeric");Fo(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[o,s]=Ac.runKernel(fu,r,a);return{values:o,indices:s}}});const Gg=Bc({unsortedSegmentSum_:function(e,t,n){const r=Pc(e,"x","unsortedSegmentSum"),a=Pc(t,"segmentIds","unsortedSegmentSum","int32");Fo(Wo(n),(()=>"numSegments must be of dtype int"));const o={x:r,segmentIds:a},s={numSegments:n};return Ac.runKernel(gu,o,s)}});const Kg=Bc({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Pc(e,"x","unstack","string_or_numeric");Fo(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const r={value:n},a={axis:t};return Ac.runKernel(mu,r,a)}});function $g(e,t){return gm(e,t,"right")}function Yg(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Ac.makeVariable(e,t,n,r)}function Qg(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Hd(e,"int32"),a=Hd([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const t=r.indexToLoc(n[o]),s=o*e.length;a.values.set(t,s)}return a.toTensor()}const Xg=async function(e){const t=Pc(e,"condition","whereAsync","bool"),n=await t.data(),r=Qg(t.shape,n);return e!==t&&t.dispose(),r};const Jg=async function(e,t,n){const r=Pc(e,"tensor","boolMask"),a=Pc(t,"mask","boolMask","bool"),o=null==n?0:n,s=a.rank,i=r.shape;Fo(s>0,(()=>"mask cannot be scalar")),Po(i.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+s;m++)l*=i[m];const u=i.slice(0,o).concat([l],i.slice(o+s)),c=Oh(r,u),d=Oh(a,[-1]),p=await Xg(d),h=Og(p,[1]),f=Gf(c,h,o);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),c.dispose(),d.dispose(),p.dispose(),f};const Zg=Bc({transpose_:function(e,t,n){const r=Pc(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),Fo(r.rank===t.length,(()=>"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{Fo(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)))})),r.rank<=1)return r.clone();const a={x:r},o={perm:t};return"complex64"===r.dtype?$d((()=>{let e=ag(r),t=Yf(r);return e=Ac.runKernel(hu,{x:e},o),t=Ac.runKernel(hu,{x:t},o),n&&(t=sm(t)),Wc(e,t)})):Ac.runKernel(hu,a,o)}});const ev=Bc({movingAverage_:function(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=Pc(e,"v","movingAverage"),s=Pc(t,"x","movingAverage"),i=Pc(n,"decay","movingAverage");!function(e,t){Fo(e.dtype===t.dtype,(()=>"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")))}(o,s),Fo(Bo(o.shape,s.shape),(()=>"Shape mismatch in v and x"));const l=ip(1),u=gp(l,i);let c=np(gp(s,o),u);if(a){Fo(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=Pc(r,"step","movingAverage");c=tp(c,gp(l,mp(i,e)))}return Zd(o,c)}});const tv=Bc({scatterND_:function(e,t,n){ns(n);const r=Pc(e,"indices","scatterND","int32"),a=Pc(t,"updates","scatterND");Xp(a,r,n);const o={indices:r,updates:a},s={shape:n};return Ac.runKernel(Rl,o,s)}});const nv=Bc({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;ns(n);const a=Pc(e,"sparseIndices","sparseToDense","int32"),o=Pc(t,"sparseValues","sparseToDense","string_or_numeric"),s=Pc(r,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,s);const i={sparseIndices:a,sparseValues:o,defaultValue:s},l={outputShape:n};return Ac.runKernel(Zl,i,l)}});const rv=Bc({gatherND_:function(e,t){const n=Pc(t,"indices","gatherND","int32"),r={params:Pc(e,"x","gatherND","string_or_numeric"),indices:n};return Ac.runKernel(Ii,r)}});const av=Bc({dropout_:function(e,t,n,r){const a=Pc(e,"x","dropout");if(Fo("float32"===a.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead."))),Fo(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof pc?a.clone():a;const o=function(e,t){if(null==t)return e.shape.slice();if(Bo(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),s=1-t,i=tp(qf(Zd(tg(o,0,1,"float32",r),s)),s);return np(a,i)}});function ov(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function sv(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let o=0;o<e;++o){const s=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(s)}return Lg(a,"float32")}const iv=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=Pc(e,"predictions","inTopK"),a=Pc(t,"targets","inTopK");Fo(r.rank>1,(()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(r.rank))),Fo(r.rank-1===a.rank,(()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(r.rank," and targets rank ").concat(a.rank))),Po(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];Fo(n>0&&n<=o,(()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n)));const s=await r.data(),i=await a.data(),[l,u]=[s.length/o,o],c=Vo("bool",l);for(let d=0;d<l;d++){const e=d*u,t=s.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let a=0;a<n;a++)if(r[a].index===i[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),jc(c,a.shape,"bool")};const lv=Bc({conv2DBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=Oh(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Oh(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Fo(4===i.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(i.shape,"."))),Fo(4===l.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,"."))),Fo(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const u="NHWC"===o?i.shape[3]:i.shape[1],c="NHWC"===o?l.shape[3]:l.shape[1];Fo(u===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(u,") must ")+"match input depth in filter (".concat(n[2],"."))),Fo(c===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(c,") must ")+"match output depth for filter (".concat(n[3],")."))),Mh("conv2dDerFilter",a,s);const d={x:i,dy:l},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:s,filterShape:n};return Ac.runKernel(Vs,d,p)}});function uv(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return np(e,Dg(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function cv(e,t){let n=t;const r=function(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],o=t.length-r-1,s=t[o];(null==a||1===a&&s>1)&&n.unshift(o)}return n}(e.shape,t.shape);return r.length>0&&(n=Pf(n,r)),Oh(n,e.shape)}function dv(e,t,n,r){if("linear"===t)return e;if("relu"===t)return sg(e);if("elu"===t)return _f(e);if("relu6"===t)return ig(e);if("prelu"===t)return jm(e,n);if("leakyrelu"===t)return Zf(e,r);if("sigmoid"===t)return Lh(e);throw new Error("Unknown fused activation ".concat(t,"."))}const pv=(e,t)=>!(e>0)||"linear"===t;const hv=Bc({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===pv(Ac.state.gradientDepth,u)){Fo("NHWC"===o,(()=>"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=nf(t,n,r,a,o,s,i);return null!=l&&(e=Zd(e,l)),dv(e,u,c,d)}const p=Pc(t,"x","conv2d","float32"),h=Pc(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=Oh(p,[1,p.shape[0],p.shape[1],p.shape[2]])),Fo(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),Fo(4===h.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,"."))),Mh("fused conv2d",a,i);const g="NHWC"===o?f.shape[3]:f.shape[1];Fo(h.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],"."))),Fo(Nh(r,s),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(s,"'")));const v=wh(f.shape,h.shape,r,s,a,i);let y,b;if(null!=l&&(y=Pc(l,"bias","fused conv2d"),[y]=xc(y,p),"NHWC"===o?bp(v.outShape,y.shape):(Fo(y.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(y.shape.length,"."))),Fo(0===y.shape.length||y.shape[0]===v.outChannels||1===y.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(y.shape,") is not ")+"compatible with the number of output channels "+"(".concat(v.outChannels,")"))))),null!=c){const e=c.shape;if(Fo(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)Fo(1===e[0]||e[0]===v.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(v.outChannels,").")));else if(3===e.length)try{bp(e,v.outShape)}catch(rB){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(v.outShape,").");throw Error(n)}b=Pc(c,"prelu weights","fused conv2d")}const w=(e,t)=>{Fo("NHWC"===o,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported.")));const[n,i,l,c]=t,d=uv(e,l,u);Fo(Th(s),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")));const p=[af(i.shape,d,n,r,a),lv(i,d,n.shape,r,a)];if(null!=c){const e=cv(c,d);p.push(e)}return p},k={x:f,filter:h,bias:y,preluActivationWeights:b},S={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=sp(((e,t,n)=>{let r=Ac.runKernel(Su,k,S);return n([t,e,r]),m&&(r=Oh(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(f,h)}{const e=sp(((e,t,n,r)=>{let a=Ac.runKernel(Su,k,S);return r([t,e,a,n]),m&&(a=Oh(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}}));return e(f,h,y)}}});const fv=Bc({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=Oh(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Oh(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:i,dy:l},c={strides:r,pad:a,dimRoundingMode:s,dilations:o,filterShape:n};return Ac.runKernel(ri,u,c)}});const mv=Bc({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=t,l=!1;3===t.rank&&(l=!0,i=Oh(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:i,filter:n},c={strides:r,pad:a,dimRoundingMode:s,dilations:o,inputShape:e},d=Ac.runKernel(ai,u,c);return l?Oh(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const gv=Bc({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===pv(Ac.state.gradientDepth,u)){let e=gf(t,n,r,a,o,s,i);return null!=l&&(e=Zd(e,l)),dv(e,u,c,d)}const p=Pc(t,"x","depthwiseConv2d","float32"),h=Pc(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=Oh(p,[1,p.shape[0],p.shape[1],p.shape[2]])),Fo(4===f.rank,(()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,"."))),Fo(4===h.rank,(()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,"."))),Fo(f.shape[3]===h.shape[2],(()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],"."))),null==s&&(s=[1,1]),Fo(Nh(r,s),(()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(s,"'"))),Mh("fused depthwiseConv2d",a,i);const g=wh(f.shape,h.shape,r,s,a,i,!0);let v,y;null!=l&&(v=Pc(l,"bias","fused conv2d"),[v]=xc(v,p),bp(g.outShape,v.shape)),null!=c&&(y=Pc(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{Fo(Th(s),(()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")));const[n,o,l,c]=t,d=uv(e,l,u),p=mv(o.shape,d,n,r,a,s,i),h=fv(o,d,n.shape,r,a,s,i);if(null!=c){return[p,h,cv(v,d)]}return[p,h]},w={x:f,filter:h,bias:v,preluActivationWeights:y},k={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=sp(((e,t,n)=>{let r=Ac.runKernel(xu,w,k);return n([t,e,r]),m&&(r=Oh(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,h)}{const e=sp(((e,t,n,r)=>{let a=Ac.runKernel(xu,w,k);return r([t,e,a,n]),m&&(a=Oh(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(f,h,v)}}});const vv=Bc({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:a=!1,bias:o,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:l=.2}=e;if(!1===pv(Ac.state.gradientDepth,s)){let e=Ph(t,n,r,a);return null!=o&&(e=Zd(e,o)),dv(e,s,i,l)}let u=Pc(t,"a","fused matMul"),c=Pc(n,"b","fused matMul");[u,c]=xc(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=a?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),v=zo(m),y=zo(g);Fo(d===p,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(p,") of Tensors with shapes ").concat(u.shape," and ")+"".concat(c.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")));const b=bp(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),w=Oh(u,r?[v,d,h]:[v,h,d]),k=Oh(c,a?[y,f,p]:[y,p,f]);let S,x;null!=o&&(S=Pc(o,"bias","fused matMul"),[S]=xc(S,u),bp(b,S.shape)),null!=i&&(x=Pc(i,"prelu weights","fused matMul"));const _=(e,t)=>{const[n,i,l,u]=t,c=uv(Oh(e,l.shape),l,s);let d,p;if(r||a?!r&&a?(d=Ph(c,i,!1,!1),p=Ph(c,n,!0,!1)):r&&!a?(d=Ph(i,c,!1,!0),p=Ph(n,c,!1,!1)):(d=Ph(i,c,!0,!0),p=Ph(c,n,!0,!0)):(d=Ph(c,i,!1,!0),p=Ph(n,c,!0,!1)),null!=o){return[d,p,cv(u,c)]}return[d,p]},I={a:w,b:k,bias:S,preluActivationWeights:x},E={transposeA:r,transposeB:a,activation:s,leakyreluAlpha:l};if(null==o){const e=sp(((e,t,n)=>{const r=Ac.runKernel(ku,I,E);return n([e,t,r]),{value:Oh(r,b),gradFunc:_}}));return e(w,k)}{const e=sp(((e,t,n,r)=>{const a=Ac.runKernel(ku,I,E);return r([e,t,a,n]),{value:Oh(a,b),gradFunc:_}}));return e(w,k,S)}}});const yv=Bc({hammingWindow_:function(e){return sv(e,.54,.46)}});const bv=Bc({hannWindow_:function(e){return sv(e,.5,.5)}});const wv=Bc({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;const s=[];for(;o+t<=e.size;)s.push(zh(e,o,t)),o+=n;if(r)for(;o<e.size;){const r=o+t-e.size,i=Fh([zh(e,o,t-r),fp([r],a)]);s.push(i),o+=n}return 0===s.length?zg([],[0,t]):Oh(Fh(s),[s.length,t])}});const kv=Bc({stft_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bv;null==r&&(r=ov(t));const o=wv(e,t,n),s=np(o,a(t));return Ag(s,r)}});const Sv=Bc({cropAndResize_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=Pc(e,"image","cropAndResize"),i=Pc(t,"boxes","cropAndResize","float32"),l=Pc(n,"boxInd","cropAndResize","int32"),u=i.shape[0];Fo(4===s.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(s.rank,"."))),Fo(2===i.rank&&4===i.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(u,",4] ")+"but had shape ".concat(i.shape,"."))),Fo(1===l.rank&&l.shape[0]===u,(()=>"Error in cropAndResize: boxInd must be have size [".concat(u,"] ")+"but had shape ".concat(i.shape,"."))),Fo(2===r.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,"."))),Fo(r[0]>=1&&r[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(r))),Fo("bilinear"===a||"nearest"===a,(()=>"method must be bilinear or nearest, but was ".concat(a)));const c={image:s,boxes:i,boxInd:l},d={method:a,extrapolationValue:o,cropSize:r};return Ac.runKernel(Zs,c,d)}});const xv=Bc({flipLeftRight_:function(e){const t=Pc(e,"image","flipLeftRight","float32");Fo(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return Ac.runKernel(wi,n,{})}});const _v=Bc({grayscaleToRGB_:function(e){const t=Pc(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Fo(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),Fo(1===r,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Hf(t,a)}});const Iv=Bc({rgbToGrayscale_:function(e){const t=Pc(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];Fo(t.rank>=2,(()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),Fo(3===r,(()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(r,".")));const a=t.dtype,o=Vd(t,"float32"),s=Lg([.2989,.587,.114]);let i;switch(t.rank){case 2:i=xf("ij,j->i",o,s);break;case 3:i=xf("ijk,k->ij",o,s);break;case 4:i=xf("ijkl,l->ijk",o,s);break;case 5:i=xf("ijklm,m->ijkl",o,s);break;case 6:i=xf("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return i=Uf(i,-1),Vd(i,a)}});const Ev=Bc({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=Pc(e,"image","rotateWithOffset","float32");Fo(4===a.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")));const o={image:a},s={radians:t,fillValue:n,center:r};return Ac.runKernel(wu,o,s)}});function Tv(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);const s=e.shape[0];return n=Math.min(n,s),Fo(0<=r&&r<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(r,"'"))),Fo(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),Fo(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),Fo(1===t.rank,(()=>"scores must be a 1D tensor")),Fo(t.shape[0]===s,(()=>"scores has incompatible shape with boxes. Expected ".concat(s,", ")+"but was ".concat(t.shape[0]))),Fo(0<=o&&o<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'"))),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}const Nv=Bc({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=Pc(e,"boxes","nonMaxSuppression","float32"),s=Pc(t,"scores","nonMaxSuppression","float32"),i=Tv(o,s,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Ac.runKernel(il,{boxes:o,scores:s},l)}});function Cv(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,o=0,s=!1;for(;r<a;){o=r+(a-r>>>1);const i=n(t,e[o]);i>0?r=o+1:(a=o,s=!i)}return s?r:-r-1}(e,t,n||Av)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function Av(e,t){return e>t?1:e<t?-1:0}function Mv(e,t,n,r,a){return Dv(e,t,n,r,a,0)}function Ov(e,t,n,r,a,o){return Dv(e,t,n,r,a,0,!1,o,!0)}function Rv(e,t,n,r,a,o){return Dv(e,t,n,r,a,o,!0)}function Dv(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(Lv);const c=o>0?-.5/o:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:o,suppressBeginIndex:s}=t;if(n<a)break;let i=!1;for(let l=d.length-1;l>=s;--l){const n=Fv(e,o,d[l]);if(n>=r){i=!0;break}if(t.score=t.score*Pv(r,c,n),t.score<=a)break}t.suppressBeginIndex=d.length,i||(t.score===n?(d.push(o),p.push(t.score)):t.score>a&&Cv(u,t,Lv))}const h=d.length,f=n-h;i&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return s&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function Fv(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(i-o)*(l-s),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(o,u),g=Math.max(s,c),v=Math.min(i,d),y=Math.min(l,p),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(h+f-b)}function Pv(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Lv(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const zv=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=Pc(e,"boxes","nonMaxSuppressionAsync"),s=Pc(t,"scores","nonMaxSuppressionAsync"),i=Tv(o,s,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const l=await Promise.all([o.data(),s.data()]),u=l[0],c=l[1],{selectedIndices:d}=Mv(u,c,n,r,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),Lg(d,"int32")};const Bv=Bc({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=Pc(e,"boxes","nonMaxSuppression"),i=Pc(t,"scores","nonMaxSuppression"),l=Tv(s,i,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:s,scores:i},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o},d=Ac.runKernel(ul,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const Wv=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=Pc(e,"boxes","nonMaxSuppressionAsync"),i=Pc(t,"scores","nonMaxSuppressionAsync"),l=Tv(s,i,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([s.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=Rv(c,d,n,r,a,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:Lg(p,"int32"),selectedScores:Lg(h)}};const Uv=Bc({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=Pc(e,"boxes","nonMaxSuppression"),i=Pc(t,"scores","nonMaxSuppression"),l=Tv(s,i,n,r,a,null),u={boxes:s,scores:i},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=Ac.runKernel(ll,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const jv=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=Pc(e,"boxes","nonMaxSuppressionAsync"),i=Pc(t,"scores","nonMaxSuppressionAsync"),l=Tv(s,i,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([s.data(),i.data()]),{selectedIndices:f,validOutputs:m}=Ov(p,h,u,c,d,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:Lg(f,"int32"),validOutputs:ip(m,"int32")}};const Hv=Bc({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Pc(e,"images","resizeBilinear");Fo(3===a.rank||4===a.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,"."))),Fo(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),Fo(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=a,s=!1;3===a.rank&&(s=!0,o=Oh(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=Ac.runKernel(Tl,i,l);return s?Oh(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Vv=Bc({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Pc(e,"images","resizeNearestNeighbor");Fo(3===a.rank||4===a.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,"."))),Fo(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),Fo("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),Fo(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=a,s=!1;3===a.rank&&(s=!0,o=Oh(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=Ac.runKernel(Il,i,l);return s?Oh(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const qv=Bc({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=Pc(e,"image","threshold"),o=a.shape[0]*a.shape[1];let s,i,l,u,c=np(Lg([r]),255);if(Fo(3===a.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(a.rank,"."))),Fo(3===a.shape[2]||1===a.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(a.shape[2],"."))),Fo("int32"===a.dtype||"float32"===a.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(a.dtype,"."))),Fo("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===a.shape[2]){[s,i,l]=Cg(a,[1,1,1],-1);const e=np(s,.2989),t=np(i,.587),n=np(l,.114);u=Zd(Zd(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,a,o,s,i,l=Lg([-1]),u=Lg([0]),c=Lg([0]);for(let d=0;d<e.size-1;d++){n=zh(e,0,d+1),r=zh(e,d+1),s=tp(Pf(n),t),i=tp(Pf(r),t);const p=Pf(np(n,rg(0,n.size)));a=tp(p,Pf(n));const h=fp(r.shape,n.size),f=Zd(rg(0,r.size),h),m=np(r,f);o=tp(Pf(m),Pf(r));const g=gp(a,o),v=gp(a,o),y=np(s,i);c=np(np(y,g),v);const b=Kf(c,u);u=wf(b,c,u),l=wf(b,Lg([d]),l)}return l}(Gh(Vd(hg(u),"int32"),jc([]),256),o)}const d=n?tm(u,c):Kf(u,c);return Vd(np(d,255),"int32")}});const Gv=Bc({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const s=Pc(e,"image","transform","float32"),i=Pc(t,"transforms","transform","float32");Fo(4===s.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(s.rank,"."))),Fo(2===i.rank&&(i.shape[0]===s.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),Fo(null==o||2===o.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")));const l={image:s,transforms:i},u={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return Ac.runKernel(pu,l,u)}});const Kv=Bc({bandPart_:function(e,t,n){const r=Pc(e,"a","bandPart");Fo(r.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")));const a=r.shape,[o,s]=r.shape.slice(-2);let i,l;"number"===typeof t?(Fo(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),Fo(t<=o,(()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(o,")."))),i=Pc(t<0?o:t,"numLower","bandPart")):(Fo("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),i=wf(em(t,0),o,Im(t,o))),"number"===typeof n?(Fo(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,"."))),Fo(n<=s,(()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,")."))),l=Pc(n<0?s:n,"numUpper","bandPart")):(Fo("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=wf(em(n,0),s,Im(n,s)));const u=Oh(rg(0,o,1,"int32"),[-1,1]),c=rg(0,s,1,"int32"),d=gp(u,c),p=dm(tm(d,i),$f(d,sm(l))),h=Sm([o,s],r.dtype);return Oh(Rg(Kg(Oh(r,[-1,o,s])).map((e=>wf(p,e,h)))),a)}});const $v=Bc({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Fo(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)Fo(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=Cg(e,e.shape[0],0).map((e=>Og(e,[0])));Fo(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],r=e;for(let a=0;a<e.length;++a)n.push(Ac.tidy((()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=np(Pf(np(n[t],e)),n[t]);e=gp(e,r)}return tp(e,zf(e,"euclidean"))})));return t?Rg(n,0):n}});function Yv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ac.tidy((()=>{Fo(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],r=e.shape[1];let a=Vf(n),o=qd(e);const s=zg([[1]],[1,1]);let i=qd(s);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=o,l=i,u=a;[i,o,a]=Ac.tidy((()=>{const t=zh(o,[e,e],[n-e,1]),l=zf(t),u=zh(o,[e,e],[1,1]),c=wf(Kf(u,0),zg([[-1]]),zg([[1]])),d=gp(u,np(c,l)),p=tp(t,d);i=1===p.shape[0]?qd(s):Fh([s,zh(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=sm(tp(Ph(c,d),l)),f=zh(o,[e,0],[n-e,r]),m=np(h,i),g=Zg(i);if(0===e)o=gp(f,Ph(m,Ph(g,f)));else{const t=gp(f,Ph(m,Ph(g,f)));o=Fh([zh(o,[0,0],[e,r]),t],0)}const v=Zg(m),y=zh(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=gp(y,Ph(Ph(y,i),v));else{const t=gp(y,Ph(Ph(y,i),v));a=Fh([zh(a,[0,0],[n,e]),t],1)}return[i,o,a]})),Yd([t,l,u])}return!t&&n>r&&(a=zh(a,[0,0],[n,r]),o=zh(o,[0,0],[r,r])),[a,o]}))}const Qv=Bc({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Fo(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return Yv(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Kg(Oh(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach((e=>{const[n,r]=Yv(e,t);a.push(n),o.push(r)}));return[Oh(Rg(a,0),e.shape),Oh(Rg(o,0),e.shape)]}}});var Xv;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Xv||(Xv={}));const Jv=Bc({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xv.SUM_BY_NONZERO_WEIGHTS;const r=Pc(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=Pc(t,"weights","computeWeightedLoss"));const o=null==a?r:np(r,a);if(n===Xv.NONE)return o;if(n===Xv.SUM)return Pf(o);if(n===Xv.MEAN){if(null==a)return km(o);{const e=r.size/a.size,t=tp(Pf(o),Pf(a));return e>1?tp(t,ip(e)):t}}if(n===Xv.SUM_BY_NONZERO_WEIGHTS){if(null==a)return tp(Pf(o),ip(r.size));{const e=np(a,xm(r.shape)),t=Vd(Pf(Mm(e,ip(0))),"float32");return tp(Pf(o),t)}}throw Error("Unknown reduction: ".concat(n))}});const Zv=Bc({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xv.SUM_BY_NONZERO_WEIGHTS;const a=Pc(e,"labels","absoluteDifference"),o=Pc(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=Pc(n,"weights","absoluteDifference")),Po(a.shape,o.shape,"Error in absoluteDifference: ");const i=vp(gp(a,o));return Jv(i,s,r)}});const ey=Bc({cosineDistance_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xv.SUM_BY_NONZERO_WEIGHTS;const o=Pc(e,"labels","cosineDistance"),s=Pc(t,"predictions","cosineDistance");let i=null;null!=r&&(i=Pc(r,"weights","cosineDistance")),Po(o.shape,s.shape,"Error in cosineDistance: ");const l=ip(1),u=gp(l,Pf(np(o,s),n,!0));return Jv(u,i,a)}});const ty=Bc({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xv.SUM_BY_NONZERO_WEIGHTS,a=Pc(e,"labels","hingeLoss");const o=Pc(t,"predictions","hingeLoss");let s=null;null!=n&&(s=Pc(n,"weights","hingeLoss")),Po(a.shape,o.shape,"Error in hingeLoss: ");const i=ip(1);a=gp(np(ip(2),a),i);const l=sg(gp(i,np(a,o)));return Jv(l,s,r)}});const ny=Bc({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xv.SUM_BY_NONZERO_WEIGHTS;const o=Pc(e,"labels","huberLoss"),s=Pc(t,"predictions","huberLoss");let i=null;null!=n&&(i=Pc(n,"weights","huberLoss")),Po(o.shape,s.shape,"Error in huberLoss: ");const l=ip(r),u=vp(gp(s,o)),c=Im(u,l),d=gp(u,c),p=Zd(np(ip(.5),ap(c)),np(l,d));return Jv(p,i,a)}});const ry=Bc({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xv.SUM_BY_NONZERO_WEIGHTS;const o=Pc(e,"labels","logLoss"),s=Pc(t,"predictions","logLoss");let i=null;null!=n&&(i=Pc(n,"weights","logLoss")),Po(o.shape,s.shape,"Error in logLoss: ");const l=ip(1),u=ip(r),c=sm(np(o,am(Zd(s,u)))),d=np(gp(l,o),am(Zd(gp(l,s),u))),p=gp(c,d);return Jv(p,i,a)}});const ay=Bc({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xv.SUM_BY_NONZERO_WEIGHTS;const a=Pc(e,"labels","meanSquaredError"),o=Pc(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=Pc(n,"weights","meanSquaredError")),Po(a.shape,o.shape,"Error in meanSquaredError: ");const i=Mg(a,o);return Jv(i,s,r)}});const oy=Bc({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xv.SUM_BY_NONZERO_WEIGHTS,o=Pc(e,"multiClassLabels","sigmoidCrossEntropy");const s=Pc(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=Pc(n,"weights","sigmoidCrossEntropy")),Po(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=ip(r),t=ip(1),n=ip(.5);o=Zd(np(o,gp(t,e)),np(n,e))}const l=function(e,t){const n=Pc(e,"labels","sigmoidCrossEntropyWithLogits"),r=Pc(t,"logits","sigmoidCrossEntropyWithLogits");Po(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=sg(r),o=np(r,n),s=om(Wf(sm(vp(r))));return Zd(gp(a,o),s)}(o,s);return Jv(l,i,a)}});const sy=Bc({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xv.SUM_BY_NONZERO_WEIGHTS,o=Pc(e,"onehotLabels","softmaxCrossEntropy");const s=Pc(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=Pc(n,"weights","softmaxCrossEntropy")),Po(o.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const e=ip(r),t=ip(1),n=ip(o.shape[1]);o=Zd(np(o,gp(t,e)),tp(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const r=sp(((e,t,r)=>{const a=cm(t,[n],!0),o=gp(Vd(t,"float32"),a);r([e,o]);const s=sm(np(o,e));return{value:Pf(s,[n]),gradFunc:(e,t)=>{const[r,a]=t,o=Cf(e.shape,[n]);return[np(Oh(e,o),gp(Vd(r,"float32"),Wf(a))),np(Oh(e,o),gp(Wf(a),Vd(r,"float32")))]}}}));return r(e,t)}(o,s);return Jv(l,i,a)}});const iy=Bc({sparseFillEmptyRows_:function(e,t,n,r){const a=Pc(e,"indices","sparseFillEmptyRows","int32"),o=Pc(t,"values","sparseFillEmptyRows"),s=Pc(n,"denseShape","sparseFillEmptyRows","int32"),i=Pc(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==s.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(s.shape));if(0!==i.rank)throw new Error("Default value should be a scalar but received shape ".concat(i.shape));const l={indices:a,values:o,denseShape:s,defaultValue:i},u=Ac.runKernel(Yl,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const ly=Bc({sparseReshape_:function(e,t,n){const r=Pc(e,"inputIndices","sparseReshape","int32"),a=Pc(t,"inputShape","sparseReshape","int32"),o=Pc(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const s={inputIndices:r,inputShape:a,newShape:o},i=Ac.runKernel(Ql,s);return{outputIndices:i[0],outputShape:i[1]}}});const uy=Bc({sparseSegmentMean_:function(e,t,n){const r=Pc(e,"data","sparseSegmentMean"),a=Pc(t,"indices","sparseSegmentMean","int32"),o=Pc(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const s={data:r,indices:a,segmentIds:o};return Ac.runKernel(Xl,s)}});const cy=Bc({sparseSegmentSum_:function(e,t,n){const r=Pc(e,"data","sparseSegmentSum"),a=Pc(t,"indices","sparseSegmentSum","int32"),o=Pc(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const s={data:r,indices:a,segmentIds:o};return Ac.runKernel(Jl,s)}});const dy=Bc({stringNGrams_:function(e,t,n,r,a,o,s,i){const l=Pc(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error("Data must be a vector, saw: ".concat(l.shape));const u=Pc(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:s,preserveShortSequences:i},d={data:l,dataSplits:u},p=Ac.runKernel(au,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});const py=Bc({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Pc(e,"input","stringSplit","string"),a=Pc(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));const o={skipEmpty:n},s={input:r,delimiter:a},i=Ac.runKernel(ou,s,o);return{indices:i[0],values:i[1],shape:i[2]}}});const hy=Bc({stringToHashBucketFast_:function(e,t){const n=Pc(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return Ac.runKernel(su,a,r)}});const fy=Bc({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=Pc(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return Ac.runKernel(nu,{x:a},o)}}),my={fft:Eg,ifft:Tg,rfft:Ag,irfft:Ng},gy={hammingWindow:yv,hannWindow:bv,frame:wv,stft:kv},vy={flipLeftRight:xv,grayscaleToRGB:_v,resizeNearestNeighbor:Vv,resizeBilinear:Hv,rgbToGrayscale:Iv,rotateWithOffset:Ev,cropAndResize:Sv,nonMaxSuppression:Nv,nonMaxSuppressionAsync:zv,nonMaxSuppressionWithScore:Bv,nonMaxSuppressionWithScoreAsync:Wv,nonMaxSuppressionPadded:Uv,nonMaxSuppressionPaddedAsync:jv,threshold:qv,transform:Gv},yy={bandPart:Kv,gramSchmidt:$v,qr:Qv},by={absoluteDifference:Zv,computeWeightedLoss:Jv,cosineDistance:ey,hingeLoss:ty,huberLoss:ny,logLoss:ry,meanSquaredError:ay,sigmoidCrossEntropy:oy,softmaxCrossEntropy:sy},wy={sparseFillEmptyRows:iy,sparseReshape:ly,sparseSegmentMean:uy,sparseSegmentSum:cy},ky={stringNGrams:dy,stringSplit:py,stringToHashBucketFast:hy,staticRegexReplace:fy};function Sy(e,t){const n=e[0].length;e.forEach(((e,t)=>{Fo(e.length===n,(()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")))})),Fo(t>=0&&t<n,(()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")));const r=e[0];e.forEach(((e,a)=>{for(let o=0;o<n;o++)Fo(o===t||e[o]===r[o],(()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")))}))}function xy(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var _y;!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(_y||(_y={}));function Iy(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Ey(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function Ty(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],a=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?a.push(n):r.push(n);n.push(...r),n.push(0),n.push(...a)}return n}function Ny(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function Cy(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Ay(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function My(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Oy(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Ry(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Dy(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Fy="->",Py=/->/g;function Ly(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function zy(e){return e.every(((e,t)=>e===t))}function By(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Wy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Fo(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);Fo(a<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const r=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-r}Fo(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function Uy(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function jy(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Hy(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function Vy(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function qy(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Gy(e,t){const n=zo(e),r=zo(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Ky(e,t){const n=zo(e),r=zo(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function $y(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Yy(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Qy(e,t,n,r){const a=t.shape.length,o=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>o)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(o,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const s=e.shape[n],i=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)i.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)i.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<a;d++)i.push(t.shape[d]);for(let d=n+1;d<o;d++)i.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:s,outputShape:i}}function Xy(e){try{return e.map((e=>Xu(e)))}catch(eq){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(eq))}}function Jy(e){return e.map((e=>Qu(e)))}!function(){for(const e of Sp)pp(e)}();var Zy=n(5615);var eb,tb;us().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(eb||(eb={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(tb||(tb={}));const nb={};function rb(e){return nb[e]}function ab(e,t,n,r,a){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd,i=e<0?t.inputNames.length+e:e;if("tensor"===o.type)return ob(t.inputNames[i],n,r,a);if("tensors"===o.type){const o=t.inputs.slice(e,s),i=t.inputNames.slice(e,s).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=o[t])||void 0===n?void 0:n.op)}));return i.map((e=>ob(e,n,r,a)))}const l=ob(t.inputNames[i],n,r,a),u=l.dataSync();return"number"===o.type?u[0]:Jo(l.shape,u)}const s=t.attrParams[e];return s&&s.value}function ob(e,t,n,r){const[a,o]=ub(e,n);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const s=n.currentContextIds.find((e=>!!t[lb(a,e)]));return void 0!==s?t[lb(a,s)][o]:void 0}function sb(e,t,n){return t[lb(e,n.currentContextId)]}function ib(e,t){const[n,r,a]=ub(e,t);return[lb(n,t&&t.currentContextId),r,a]}function lb(e,t){return t?"".concat(e,"-").concat(t):e}function ub(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let a;if(1===r.length)a=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;a=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,a),a}function cb(e,t,n){let r=ab("pad",e,t,n);if("explicit"===r){r=ab("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function db(e){return e.kept?e:qd(e)}const pb=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],hb=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],fb=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],mb=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],gb=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],vb=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],yb=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],bb=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],wb=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],kb=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Sb=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],xb=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],_b=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],Ib=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Eb=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Tb=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Nb=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Cb=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Ab=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class Mb{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,o,s,i,l,u,c,d,p,h,f,m,g,v,y,b,w,k].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],a=[],o=[],s=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e)),{});let i=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(s);d.forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=ib(e),o=s[r];if(null!=o.outputs){const e=o.outputs.indexOf(a);if(-1!==e){const a="".concat(r,":").concat(e);t.inputNames[n]=a}}t.inputs.push(o),o.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=s[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=ib(e),n=s[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=ib(e),n=s[t];n&&(n.signatureKey=u[e],i.push(n))})):i=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:s,inputs:i,outputs:l,weights:a,placeholders:r,signature:t,functions:p};return o.length>0&&(h.initNodes=o),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=rb(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=Rb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Rb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=Hb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Hb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=Fb(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=Fb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=jb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=jb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=Db(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Db(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=qb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=qb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=Ub(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Ub(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=Vb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Vb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=zb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=zb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=Bb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Bb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=Lb(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Lb(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],o=[];e.signature.inputArg.forEach((e=>{const[t]=ib(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Pb(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[a,,o]=ib(e),s=r[a];if(null!=s.outputs){const e=s.outputs.indexOf(o);if(-1!==e){const r="".concat(a,":").concat(e);t.inputNames[n]=r}}t.inputs.push(s),s.children.push(t)}))}));const s=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=ib(s[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,o.push(a))}));const i=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:o,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function Ob(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=us().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Rb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return null!=a?Ob(a.s,r):n}function Db(e,t,n){const r=e[t];return r?r.b:n}function Fb(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function Pb(e){switch("string"===typeof e&&(e=eb[e]),e){case eb.DT_FLOAT:case eb.DT_HALF:return"float32";case eb.DT_INT32:case eb.DT_INT64:case eb.DT_INT8:case eb.DT_UINT8:return"int32";case eb.DT_BOOL:return"bool";case eb.DT_DOUBLE:return"float32";case eb.DT_STRING:return"string";default:return null}}function Lb(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function zb(e,t,n){const r=e[t];return r&&r.type?Pb(r.type):n}function Bb(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>Pb(e))):n}function Wb(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function Ub(e,t,n){const r=e[t];return r&&r.shape?Wb(r.shape):n}function jb(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function Hb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>Ob(e,r))):n}function Vb(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>Wb(e))):n}function qb(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class Gb{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return ob(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return ob(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Fb(this.node.rawAttrs,e,t);if(null!=n.s)return Rb(this.node.rawAttrs,e,t);if(null!=n.b)return Db(this.node.rawAttrs,e,t);if(null!=n.shape)return Ub(this.node.rawAttrs,e,t);if(null!=n.type)return zb(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return jb(this.node.rawAttrs,e,t);if(null!=n.list.s)return Hb(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Vb(this.node.rawAttrs,e,t);if(null!=n.list.b)return qb(this.node.rawAttrs,e,t);if(null!=n.list.type)return Bb(this.node.rawAttrs,e,t)}return t}}function Kb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){Fo(e.length===t.length,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")));for(let r=0;r<e.length;r++){const a=e[r],o=t[r];Fo(a<0||o<0||a===o,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}}}function $b(e){return"number"!==typeof e&&!e.some((e=>e<0))}function Yb(e,t,n){let r=Qb(e,n);const a=!$b(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((e=>{r=Qb(e.shape,r)})),!$b(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Qb(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let r=0;r<e.length;++r){const a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}class Xb{constructor(e,t,n,r,a,o,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=ip(0),Qd(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Kb(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,Qd(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return jc([],[0].concat(this.elementShape));const n=this.readMany(e);return Kb(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Rg(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return jc([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return Kb(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),Fh(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,Kg(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const a=0===n?0:t.size/n,o=[];$d((()=>{t=Oh(t,[1,n,a]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:r[n-1],0],i=[1,e[n],a];o[n]=Oh(zh(t,s,i),this.elementShape)}return o}));const s=[];for(let i=0;i<e.length;i++)s[i]=i;this.writeMany(s,o)}}class Jb{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));Kb(t,e.shape,"TensorList shape mismatch: "),Qd(e)})),this.idTensor=ip(0),this.maxNumElements=r,Qd(this.idTensor)}copy(){return new Jb([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));Kb(e,this.elementShape,"TensorList shape mismatch: ");const r=Yb(this.elementShape,this.tensors,e);return $d((()=>{const e=this.tensors.map((e=>Oh(e,r)));return Rg(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=Yb(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Kb(r.shape,e,"TensorList shape mismatch: "),Oh(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Kb(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Qd(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new Jb([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));Kb(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=Yb(this.elementShape,this.tensors,t);return Oh(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Kb(this.elementShape,t.shape,"TensorList shape mismatch: "),Qd(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));Kb(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=Yb(this.elementShape,this.tensors,n);return 0===e.length?jc([],[0].concat(r)):$d((()=>{const t=e.map((e=>Oh(this.tensors[e],r)));return Rg(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Kb(this.elementShape,t,"TensorList shape mismatch: ");const n=Yb(this.elementShape,this.tensors,t);return 0===this.size()?jc([],[0].concat(n)):$d((()=>{const e=this.tensors.map((e=>Oh(e,n)));return Fh(e,0)}))}}const Zb=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=ab("thenBranch",e,t,n),a=ab("elseBranch",e,t,n),o=ab("cond",e,t,n),s=ab("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=ab("body",e,t,n),a=ab("cond",e,t,n),o=ab("args",e,t,n),s=await n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map((e=>e.id));let l=await s[0].data();s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let u=o;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const o=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[db(ab("pred",e,t,n))];case"Switch":{const r=ab("pred",e,t,n);let a=ab("data",e,t,n);return a.kept||(a=db(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==ob(e,t,n)));if(r){return[db(ob(r,t,n))]}return}case"Enter":{const r=ab("frameName",e,t,n),a=ab("tensor",e,t,n);return n.enterFrame(r),[db(a)]}case"Exit":{const r=ab("tensor",e,t,n);return n.exitFrame(),[db(r)]}case"NextIteration":{const r=ab("tensor",e,t,n);return n.nextIteration(),[db(r)]}case"TensorArrayV3":{const r=ab("size",e,t,n),a=ab("dtype",e,t,n),o=ab("elementShape",e,t,n),s=ab("dynamicSize",e,t,n),i=ab("clearAfterRead",e,t,n),l=ab("identicalElementShapes",e,t,n),u=ab("name",e,t,n),c=new Xb(u,a,r,o,l,s,i);return n.addTensorArray(c),[c.idTensor,ip(1)]}case"TensorArrayWriteV3":{const r=ab("tensorArrayId",e,t,n),a=ab("index",e,t,n),o=ab("tensor",e,t,n),s=n.getTensorArray(r.id);return s.write(a,o),[s.idTensor]}case"TensorArrayReadV3":{const r=ab("tensorArrayId",e,t,n),a=ab("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=ab("tensorArrayId",e,t,n),a=ab("indices",e,t,n),o=ab("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,o)]}case"TensorArrayScatterV3":{const r=ab("tensorArrayId",e,t,n),a=ab("indices",e,t,n),o=ab("tensor",e,t,n),s=n.getTensorArray(r.id);return s.scatter(a,o),[s.idTensor]}case"TensorArrayConcatV3":{const r=ab("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),o=ab("dtype",e,t,n);return[a.concat(o)]}case"TensorArraySplitV3":{const r=ab("tensorArrayId",e,t,n),a=ab("tensor",e,t,n),o=ab("lengths",e,t,n),s=n.getTensorArray(r.id);return s.split(o,a),[s.idTensor]}case"TensorArraySizeV3":{const r=ab("tensorArrayId",e,t,n);return[ip(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=ab("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=ab("tensorListId",e,t,n),a=ab("index",e,t,n),o=ab("tensor",e,t,n),s=n.getTensorList(r.id);return s.setItem(a,o),[s.idTensor]}case"TensorListGetItem":{const r=ab("tensorListId",e,t,n),a=ab("index",e,t,n),o=ab("elementShape",e,t,n),s=ab("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const r=ab("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));const o=new Jb([],n,e.dtype,r),s=Kg(e,0);return t.forEach(((e,t)=>{o.setItem(e,s[t])})),o}(ab("tensor",e,t,n),r,ab("elementShape",e,t,n),ab("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=ab("elementShape",e,t,n),a=ab("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=ab(o,e,t,n),i=function(e,t,n,r){return new Jb([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:s);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=ab("tensorListId",e,t,n),a=ab("indices",e,t,n),o=ab("elementShape",e,t,n),s=ab("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,s,o)]}case"TensorListStack":{const r=ab("tensorListId",e,t,n),a=ab("elementShape",e,t,n),o=ab("elementDType",e,t,n),s=ab("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,o,s)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));Kb(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=Kg(e);return new Jb(a,t,r)}(ab("tensor",e,t,n),ab("elementShape",e,t,n),ab("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=ab("tensorListId",e,t,n),a=n.getTensorList(r.id),o=ab("dtype",e,t,n),s=ab("elementShape",e,t,n);return[a.concat(o,s)]}case"TensorListPushBack":{const r=ab("tensorListId",e,t,n),a=ab("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(a),[o.idTensor]}case"TensorListPopBack":{const r=ab("tensorListId",e,t,n),a=ab("elementShape",e,t,n),o=ab("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,o)]}case"TensorListSplit":{const r=ab("tensor",e,t,n),a=ab("elementShape",e,t,n),o=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));const o=Qb(e.shape.slice(1),n),s=0===r?0:e.size/r,i=$d((()=>{const n=[];e=Oh(e,[1,r,s]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:a[r-1],0],l=[1,t[r],s];n[r]=Oh(zh(e,i,l),o)}return e.dispose(),n})),l=new Jb([],n,e.dtype,t.length);for(let u=0;u<i.length;u++)l.setItem(u,i[u]);return l}(r,ab("lengths",e,t,n),a);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=ab("tensorListId",e,t,n);return[ip(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=ab("tensorListId",e,t,n),a=ab("size",e,t,n),o=n.getTensorList(r.id).resize(a);return n.addTensorList(o),[o.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function ew(e,t,n){const[r,a]=ab("fusedOps",e,t,n),o="biasadd"===r,s=!o,i="prelu"===a,l="fusedbatchnorm"===r,u=ab("numArgs",e,t,n);if(o){if(i&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=ab("strides",e,t,n),d=cb(e,t,n),p=ab("dataFormat",e,t,n).toUpperCase(),h=ab("dilations",e,t,n);let[f,m]=ab("args",e,t,n);s&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:a,leakyreluAlpha:ab("leakyreluAlpha",e,t,n)}}function tw(e,t,n){return{boxes:ab("boxes",e,t,n),scores:ab("scores",e,t,n),maxOutputSize:ab("maxOutputSize",e,t,n),iouThreshold:ab("iouThreshold",e,t,n),scoreThreshold:ab("scoreThreshold",e,t,n),softNmsSigma:ab("softNmsSigma",e,t,n)}}class nw{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=ip(0),this.tensorMap=new Map,Qd(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ip(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),$d((()=>{const e=Kg(t),r=n.length,a=e.length;Fo(r===a,(()=>"The number of elements doesn't match, keys has "+"".concat(r," elements, the values has ").concat(a," ")+"elements."));for(let t=0;t<r;t++){const r=n[t],a=e[t];Qd(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return $d((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],o=this.findWithDefault(a,t);e.push(o)}return Rg(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function rw(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$d;const o=((e,t,n)=>{switch(e.category){case"arithmetic":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(ab("a",e,t,n),ab("b",e,t,n))];case"AddN":return[r.addN(ab("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(ab("a",e,t,n),ab("b",e,t,n))];case"Mul":return[r.mul(ab("a",e,t,n),ab("b",e,t,n))];case"RealDiv":case"Div":return[r.div(ab("a",e,t,n),ab("b",e,t,n))];case"DivNoNan":return[r.divNoNan(ab("a",e,t,n),ab("b",e,t,n))];case"FloorDiv":return[r.floorDiv(ab("a",e,t,n),ab("b",e,t,n))];case"Sub":return[r.sub(ab("a",e,t,n),ab("b",e,t,n))];case"Minimum":return[r.minimum(ab("a",e,t,n),ab("b",e,t,n))];case"Maximum":return[r.maximum(ab("a",e,t,n),ab("b",e,t,n))];case"Pow":return[r.pow(ab("a",e,t,n),ab("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(ab("a",e,t,n),ab("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"basic_math":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(ab("x",e,t,n))];case"Acos":return[r.acos(ab("x",e,t,n))];case"Acosh":return[r.acosh(ab("x",e,t,n))];case"Asin":return[r.asin(ab("x",e,t,n))];case"Asinh":return[r.asinh(ab("x",e,t,n))];case"Atan":return[r.atan(ab("x",e,t,n))];case"Atan2":return[r.atan2(ab("x",e,t,n),ab("y",e,t,n))];case"Atanh":return[r.atanh(ab("x",e,t,n))];case"Ceil":return[r.ceil(ab("x",e,t,n))];case"Complex":return[r.complex(ab("real",e,t,n),ab("imag",e,t,n))];case"Cos":return[r.cos(ab("x",e,t,n))];case"Cosh":return[r.cosh(ab("x",e,t,n))];case"Elu":return[r.elu(ab("x",e,t,n))];case"Erf":return[r.erf(ab("x",e,t,n))];case"Exp":return[r.exp(ab("x",e,t,n))];case"Expm1":return[r.expm1(ab("x",e,t,n))];case"Floor":return[r.floor(ab("x",e,t,n))];case"Log":return[r.log(ab("x",e,t,n))];case"Log1p":return[r.log1p(ab("x",e,t,n))];case"Imag":return[r.imag(ab("x",e,t,n))];case"Neg":return[r.neg(ab("x",e,t,n))];case"Reciprocal":return[r.reciprocal(ab("x",e,t,n))];case"Real":return[r.real(ab("x",e,t,n))];case"Relu":return[r.relu(ab("x",e,t,n))];case"Round":return[r.round(ab("x",e,t,n))];case"Selu":return[r.selu(ab("x",e,t,n))];case"Sigmoid":return[r.sigmoid(ab("x",e,t,n))];case"Sin":return[r.sin(ab("x",e,t,n))];case"Sign":return[r.sign(ab("x",e,t,n))];case"Sinh":return[r.sinh(ab("x",e,t,n))];case"Softplus":return[r.softplus(ab("x",e,t,n))];case"Sqrt":return[r.sqrt(ab("x",e,t,n))];case"Square":return[r.square(ab("x",e,t,n))];case"Tanh":return[r.tanh(ab("x",e,t,n))];case"Tan":return[r.tan(ab("x",e,t,n))];case"ClipByValue":return[r.clipByValue(ab("x",e,t,n),ab("clipValueMin",e,t,n),ab("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(ab("x",e,t,n))];case"Rsqrt":return[r.rsqrt(ob(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(ab("x",e,t,n),ab("alpha",e,t,n))];case"Prelu":return[r.prelu(ab("x",e,t,n),ab("alpha",e,t,n))];case"IsNan":return[r.isNaN(ob(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(ob(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(ob(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"control":return Zb(e,t,n);case"convolution":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Conv1D":{const a=ab("stride",e,t,n),o=ab("pad",e,t,n),s=ab("dataFormat",e,t,n).toUpperCase(),i=ab("dilation",e,t,n);return[r.conv1d(ab("x",e,t,n),ab("filter",e,t,n),a,o,s,i)]}case"Conv2D":{const a=ab("strides",e,t,n),o=cb(e,t,n),s=ab("dataFormat",e,t,n).toUpperCase(),i=ab("dilations",e,t,n);return[r.conv2d(ab("x",e,t,n),ab("filter",e,t,n),[a[1],a[2]],o,s,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:a,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ew(e,t,n);return[r.fused.conv2d({x:ab("x",e,t,n),filter:ab("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ew(e,t,n);return[r.fused.depthwiseConv2d({x:ab("x",e,t,n),filter:ab("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=ab("outputShape",e,t,n),o=ab("strides",e,t,n),s=cb(e,t,n);return[r.conv2dTranspose(ab("x",e,t,n),ab("filter",e,t,n),a,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=ab("strides",e,t,n),o=cb(e,t,n),s=ab("dilations",e,t,n),i=ab("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(ab("input",e,t,n),ab("filter",e,t,n),[a[1],a[2]],o,i,[s[1],s[2]])]}case"Conv3D":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("dataFormat",e,t,n).toUpperCase(),i=ab("dilations",e,t,n);return[r.conv3d(ab("x",e,t,n),ab("filter",e,t,n),[a[1],a[2],a[3]],o,s,[i[1],i[2],i[3]])]}case"AvgPool":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("kernelSize",e,t,n);return[r.avgPool(ab("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o)]}case"MaxPool":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("kernelSize",e,t,n);return[r.maxPool(ab("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("kernelSize",e,t,n),i=ab("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(ab("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o,i);return[l,u]}case"AvgPool3D":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("kernelSize",e,t,n);return[r.avgPool3d(ab("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("kernelSize",e,t,n);return[r.maxPool3d(ab("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{const a=ab("strides",e,t,n),o=ab("pad",e,t,n),s=ab("dilations",e,t,n),i=a[1],l=a[2],u=s[1],c=s[2];return[r.dilation2d(ab("x",e,t,n),ab("filter",e,t,n),[i,l],o,[u,c],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"creation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Fill":{const a=ab("shape",e,t,n),o=ab("dtype",e,t,n),s=ab("value",e,t,n);return[r.fill(a,s,o)]}case"LinSpace":{const a=ab("start",e,t,n),o=ab("stop",e,t,n),s=ab("num",e,t,n);return[r.linspace(a,o,s)]}case"Multinomial":{const a=ab("logits",e,t,n),o=ab("numSamples",e,t,n),s=ab("seed",e,t,n);return[r.multinomial(a,o,s)]}case"OneHot":{const a=ab("indices",e,t,n),o=ab("depth",e,t,n),s=ab("onValue",e,t,n),i=ab("offValue",e,t,n),l=ab("dtype",e,t,n);return[r.oneHot(a,o,s,i,l)]}case"Ones":return[r.ones(ab("shape",e,t,n),ab("dtype",e,t,n))];case"OnesLike":return[r.onesLike(ab("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(ab("shape",e,t,n),ab("dtype",e,t,n),ab("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(ab("shape",e,t,n),ab("minval",e,t,n),ab("maxval",e,t,n),ab("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(ab("shape",e,t,n),ab("minval",e,t,n),ab("maxval",e,t,n),ab("seed",e,t,n))];case"Range":{const a=ab("start",e,t,n),o=ab("stop",e,t,n),s=ab("step",e,t,n);return[r.range(a,o,s,ab("dtype",e,t,n))]}case"TruncatedNormal":{const a=ab("shape",e,t,n),o=ab("mean",e,t,n),s=ab("stdDev",e,t,n),i=ab("seed",e,t,n);return[r.truncatedNormal(a,o,s,ab("dtype",e,t,n),i)]}case"Zeros":return[r.zeros(ab("shape",e,t,n),ab("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(ab("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=tw(e,t,n),c=await a.image.nonMaxSuppressionWithScoreAsync(r,o,s,i,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=tw(e,t,n),u=ab("padToMaxOutputSize",e,t,n),c=await a.image.nonMaxSuppressionPaddedAsync(r,o,s,i,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=tw(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,o,s,i,l)]}case"Where":{const r=a.cast(ab("condition",e,t,n),"bool"),o=[await a.whereAsync(r)];return r.dispose(),o}case"ListDiff":return a.setdiff1dAsync(ab("x",e,t,n),ab("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"LowerBound":{const a=ab("sortedSequence",e,t,n),o=ab("values",e,t,n);return[r.lowerBound(a,o)]}case"TopKV2":{const a=ab("x",e,t,n),o=ab("k",e,t,n),s=ab("sorted",e,t,n),i=r.topk(a,o,s);return[i.values,i.indices]}case"UpperBound":{const a=ab("sortedSequence",e,t,n),o=ab("values",e,t,n);return[r.upperBound(a,o)]}case"Unique":{const a=ab("x",e,t,n),o=r.unique(a);return[o.values,o.indices]}case"UniqueV2":{const a=ab("x",e,t,n),o=ab("axis",e,t,n),s=r.unique(a,o);return[s.values,s.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"image":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ResizeBilinear":{const a=ab("images",e,t,n),o=ab("size",e,t,n),s=ab("alignCorners",e,t,n),i=ab("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[o[0],o[1]],s,i)]}case"ResizeNearestNeighbor":{const a=ab("images",e,t,n),o=ab("size",e,t,n),s=ab("alignCorners",e,t,n),i=ab("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],s,i)]}case"CropAndResize":{const a=ab("image",e,t,n),o=ab("boxes",e,t,n),s=ab("boxInd",e,t,n),i=ab("cropSize",e,t,n),l=ab("method",e,t,n),u=ab("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,o,s,i,l,u)]}case"ImageProjectiveTransformV3":{const a=ab("images",e,t,n),o=ab("transforms",e,t,n),s=ab("outputShape",e,t,n),i=ab("fillValue",e,t,n),l=ab("interpolation",e,t,n),u=ab("fillMode",e,t,n);return[r.image.transform(a,o,l.toLowerCase(),u.toLowerCase(),i,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"graph":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=ab("default",e,t,n);return[ob(e.name,t,n)||a];case"Placeholder":return[ob(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[db(ab("x",e,t,n))];case"IdentityN":return ab("x",e,t,n).map((e=>db(e)));case"Shape":return[r.tensor1d(ab("x",e,t,n).shape,"int32")];case"ShapeN":return ab("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(ab("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(ab("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=ab("x",e,t,n),s=ab("data",e,t,n),i=ab("message",e,t,n),l=ab("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,l));return[o];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"logical":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Equal":return[r.equal(ab("a",e,t,n),ab("b",e,t,n))];case"NotEqual":return[r.notEqual(ab("a",e,t,n),ab("b",e,t,n))];case"Greater":return[r.greater(ab("a",e,t,n),ab("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(ab("a",e,t,n),ab("b",e,t,n))];case"Less":return[r.less(ab("a",e,t,n),ab("b",e,t,n))];case"LessEqual":return[r.lessEqual(ab("a",e,t,n),ab("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(ab("a",e,t,n),ab("b",e,t,n))];case"LogicalNot":return[r.logicalNot(ab("a",e,t,n))];case"LogicalOr":return[r.logicalOr(ab("a",e,t,n),ab("b",e,t,n))];case"Select":case"SelectV2":return[r.where(ab("condition",e,t,n),ab("a",e,t,n),ab("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(ab("a",e,t,n),ab("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"matrices":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(ab("a",e,t,n),ab("b",e,t,n),ab("transposeA",e,t,n),ab("transposeB",e,t,n))];case"Einsum":return[r.einsum(ab("equation",e,t,n),...ab("tensors",e,t,n))];case"Transpose":return[r.transpose(ab("x",e,t,n),ab("perm",e,t,n))];case"_FusedMatMul":const[a,o]=ab("fusedOps",e,t,n),s="biasadd"===a,i="prelu"===o,l=ab("numArgs",e,t,n),u=ab("leakyreluAlpha",e,t,n);if(s){if(i&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=ab("args",e,t,n);return[r.fused.matMul({a:ab("a",e,t,n),b:ab("b",e,t,n),transposeA:ab("transposeA",e,t,n),transposeB:ab("transposeB",e,t,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(ab("a",e,t,n),ab("numLower",e,t,n),ab("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"normalization":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(ab("x",e,t,n),ab("axis",e,t,n),ab("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(ab("x",e,t,n),ab("mean",e,t,n),ab("variance",e,t,n),ab("offset",e,t,n),ab("scale",e,t,n),ab("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(ab("x",e,t,n),ab("radius",e,t,n),ab("bias",e,t,n),ab("alpha",e,t,n),ab("beta",e,t,n))];case"Softmax":return[r.softmax(ab("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(ab("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"ragged":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:o}=r.raggedGather(ab("paramsNestedSplits",e,t,n),ab("paramsDenseValues",e,t,n),ab("indices",e,t,n),ab("outputRaggedRank",e,t,n));return a.concat(o)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:o}=r.raggedRange(ab("starts",e,t,n),ab("limits",e,t,n),ab("splits",e,t,n));return[a,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(ab("shape",e,t,n),ab("values",e,t,n),ab("defaultValue",e,t,n),ab("rowPartitionTensors",e,t,n),ab("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"reduction":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Max":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.max(ab("x",e,t,n),a,o)]}case"Mean":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.mean(ab("x",e,t,n),a,o)]}case"Min":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.min(ab("x",e,t,n),a,o)]}case"Sum":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.sum(ab("x",e,t,n),a,o)]}case"All":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.all(ab("x",e,t,n),a,o)]}case"Any":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.any(ab("x",e,t,n),a,o)]}case"ArgMax":{const a=ab("axis",e,t,n);return[r.argMax(ab("x",e,t,n),a)]}case"ArgMin":{const a=ab("axis",e,t,n);return[r.argMin(ab("x",e,t,n),a)]}case"Prod":{const a=ab("axis",e,t,n),o=ab("keepDims",e,t,n);return[r.prod(ab("x",e,t,n),a,o)]}case"Cumprod":{const a=ab("axis",e,t,n),o=ab("exclusive",e,t,n),s=ab("reverse",e,t,n);return[r.cumprod(ab("x",e,t,n),a,o,s)]}case"Cumsum":{const a=ab("axis",e,t,n),o=ab("exclusive",e,t,n),s=ab("reverse",e,t,n);return[r.cumsum(ab("x",e,t,n),a,o,s)]}case"Bincount":const a=ab("x",e,t,n),o=ab("weights",e,t,n),s=ab("size",e,t,n);return[r.bincount(a,o,s)];case"DenseBincount":{const a=ab("x",e,t,n),o=ab("weights",e,t,n),s=ab("size",e,t,n),i=ab("binaryOutput",e,t,n);return[r.denseBincount(a,o,s,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"slice_join":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ConcatV2":case"Concat":{const a=ab("n",e,t,n),o=ab("axis",e,t,n);let s=ab("tensors",e,t,n);return s=s.slice(0,a),[r.concat(s,o)]}case"Gather":{const a=ab("x",e,t,n),o=ab("indices",e,t,n);return[r.gather(a,r.cast(o,"int32"),0)]}case"GatherV2":{const a=ab("axis",e,t,n),o=ab("batchDims",e,t,n),s=ab("x",e,t,n),i=ab("indices",e,t,n);return[r.gather(s,r.cast(i,"int32"),a,o)]}case"Reverse":{const a=ab("dims",e,t,n),o=[];for(let e=0;e<a.length;e++)a[e]&&o.push(e);const s=ab("x",e,t,n);return[r.reverse(s,o)]}case"ReverseV2":{const a=ab("axis",e,t,n),o=ab("x",e,t,n);return[r.reverse(o,a)]}case"Slice":{const a=ab("begin",e,t,n),o=ab("size",e,t,n);return[r.slice(ab("x",e,t,n),a,o)]}case"StridedSlice":{const a=ab("begin",e,t,n),o=ab("end",e,t,n),s=ab("strides",e,t,n),i=ab("beginMask",e,t,n),l=ab("endMask",e,t,n),u=ab("ellipsisMask",e,t,n),c=ab("newAxisMask",e,t,n),d=ab("shrinkAxisMask",e,t,n),p=ab("x",e,t,n);return[r.stridedSlice(p,a,o,s,i,l,u,c,d)]}case"Pack":return $d((()=>{const a=ab("axis",e,t,n),o=ab("tensors",e,t,n),s=o[0].shape,i=r.squeeze(o[0]).shape,l=o.map((e=>{const t=Bo(e.shape,s);if(!t&&!Bo(r.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,s)}));return[r.stack(l,a)]}));case"Unpack":{const a=ab("axis",e,t,n),o=ab("tensor",e,t,n);return r.unstack(o,a)}case"Tile":{const a=ab("reps",e,t,n);return[r.tile(ab("x",e,t,n),a)]}case"Split":case"SplitV":{const a=ab("axis",e,t,n),o=ab("numOrSizeSplits",e,t,n),s=ab("x",e,t,n);return r.split(s,o,a)}case"ScatterNd":{const a=ab("indices",e,t,n),o=ab("values",e,t,n),s=ab("shape",e,t,n);return[r.scatterND(a,o,s)]}case"GatherNd":{const a=ab("x",e,t,n),o=ab("indices",e,t,n);return[r.gatherND(a,o)]}case"SparseToDense":{const a=ab("sparseIndices",e,t,n),o=ab("outputShape",e,t,n),s=ab("sparseValues",e,t,n),i=ab("defaultValue",e,t,n);return[r.sparseToDense(a,s,o,s.dtype===i.dtype?i:r.cast(i,s.dtype))]}case"TensorScatterUpdate":{const a=ab("indices",e,t,n),o=ab("values",e,t,n),s=ab("tensor",e,t,n);return[r.tensorScatterUpdate(s,a,o)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"sparse":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:o,emptyRowIndicator:s,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(ab("indices",e,t,n),ab("values",e,t,n),ab("denseShape",e,t,n),ab("defaultValue",e,t,n));return[a,o,s,i]}case"SparseReshape":{const{outputIndices:a,outputShape:o}=r.sparse.sparseReshape(ab("inputIndices",e,t,n),ab("inputShape",e,t,n),ab("newShape",e,t,n));return[a,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(ab("data",e,t,n),ab("indices",e,t,n),ab("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(ab("data",e,t,n),ab("indices",e,t,n),ab("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"spectral":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"FFT":return[r.fft(ab("x",e,t,n))];case"IFFT":return[r.ifft(ab("x",e,t,n))];case"RFFT":return[r.rfft(ab("x",e,t,n))];case"IRFFT":return[r.irfft(ab("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"string":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(ab("input",e,t,n),ab("pattern",e,t,n),ab("rewrite",e,t,n),ab("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:o}=r.string.stringNGrams(ab("data",e,t,n),ab("dataSplits",e,t,n),ab("separator",e,t,n),ab("nGramWidths",e,t,n),ab("leftPad",e,t,n),ab("rightPad",e,t,n),ab("padWidth",e,t,n),ab("preserveShortSequences",e,t,n));return[a,o]}case"StringSplit":{const{indices:a,values:o,shape:s}=r.string.stringSplit(ab("input",e,t,n),ab("delimiter",e,t,n),ab("skipEmpty",e,t,n));return[a,o,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(ab("input",e,t,n),ab("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"transformation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Cast":return[r.cast(ab("x",e,t,n),ab("dtype",e,t,n))];case"ExpandDims":{const a=ab("axis",e,t,n);return[r.expandDims(ab("x",e,t,n),a)]}case"Squeeze":{const a=ab("axis",e,t,n);return[r.squeeze(ab("x",e,t,n),a)]}case"Reshape":return[r.reshape(ab("x",e,t,n),ab("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(ab("x",e,t,n),ab("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(ab("x",e,t,n),ab("padding",e,t,n),ab("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(ab("x",e,t,n),ab("padding",e,t,n),ab("constantValue",e,t,n))];case"SpaceToBatchND":{const a=ab("blockShape",e,t,n),o=ab("paddings",e,t,n);return[r.spaceToBatchND(ab("x",e,t,n),a,o)]}case"BatchToSpaceND":{const a=ab("blockShape",e,t,n),o=ab("crops",e,t,n);return[r.batchToSpaceND(ab("x",e,t,n),a,o)]}case"DepthToSpace":{const a=ab("blockSize",e,t,n),o=ab("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(ab("x",e,t,n),a,o)]}case"BroadcastTo":return[r.broadcastTo(ab("x",e,t,n),ab("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(ab("s0",e,t,n),ab("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(e.name);if(null!=a)return[a];{const a=ab("keyDType",e,t,n),o=ab("valueDType",e,t,n),s=new nw(a,o);return r.addHashTable(e.name,s),[s.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=ab("tableHandle",e,t,n,r),o=ab("keys",e,t,n),s=ab("values",e,t,n),i=r.getHashTableById(a.id);return[await i.import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const a=ab("tableHandle",e,t,n,r),o=ab("keys",e,t,n),s=ab("defaultValue",e,t,n),i=r.getHashTableById(a.id);return[await i.find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=ab("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,r);case"custom":const o=rb(e.op);if(o&&o.customExecutor)return o.customExecutor(new Gb(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return os(o)?o.then((e=>[].concat(e))):[].concat(o)}class aw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId))).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function ow(e,t,n,r){const a=new Set,o=[];let s=null,i=null;const l=new Set,u=new Set(Object.keys(e).map((e=>ub(e)[0])));r=r||[];const c=new Set(r.map((e=>ub(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(dw(e)||pw(e)||hw(e))&&null==s&&(s=e,i=s.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:s,syncInputs:i}}function sw(e,t){const{usedNodes:n,inputs:r}=t,a=Object.keys(r).map((e=>ub(e)[0])).map((t=>e.nodes[t])),o=e.initNodes||[],s=e=>n.has("string"===typeof e?e:e.name);function i(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=i([...a,...e.weights,...o]).filter(s),u=i([...l,...Object.values(e.nodes)]).filter(s),c=new Map(u.map((e=>[e.name,e]))),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)s(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),h=[...p];for(;p.length>0;){const e=p.pop(),t=c.get(e);for(const n of t.children.filter(s))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),a=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const o of t.children)n.has(o.name)&&!a.has(o.name)&&(a.add(o.name),r.push(o.name))}const o=e.filter((e=>a.has(e.name)));return o}(h.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),a=e=>r.has("string"===typeof e?e:e.name),o=new Set(e.map((e=>e.name))),s=e=>o.has("string"===typeof e?e:e.name);for(const i of e){for(const e of i.children.filter(s)){if(!n.has(e.name))throw new iw("Child ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(i.name)>n.get(e.name))throw new iw("Node ".concat(i.name," is scheduled to run after its child ").concat(e.name,"."))}if(!a(i))for(const e of i.inputs){if(!n.has(e.name))throw new iw("Input ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(e.name)>n.get(i.name))throw new iw("Node ".concat(i.name," is scheduled to run before its input ").concat(e.name,"."))}}}(f,l),f}class iw extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}const lw=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),uw=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),cw=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function dw(e){return lw.has(e.op)}function pw(e){return uw.has(e.op)}function hw(e){return cw.has(e.op)}class fw{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new fw(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=ow(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:o}=n;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(a,"]. Missing the following inputs: [").concat(r,"]"))}const s=sw(this.graph,n),i=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>dw(e)?n:t)),a=e=>{const n=r[t.get(e.name)];return null==n?-1:n},o=e.map(((e,t)=>e.children.map(a).reduce(((e,t)=>Math.max(e,t)),r[t]))),s=new Map;for(let i=0;i<e.length;++i){const t=o[i];if(t===n)continue;const r=e[i],a=e[t];s.has(a.name)||s.set(a.name,[]),s.get(a.name).push(r)}return s}(s);return{orderedNodes:s,nodeLiveUntilMap:i}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return Qd(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[ub(e)[0]])),a=t.map((e=>ub(e)[0])),o=new Set(a);let s=a.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const i=this.getCompilationKey(r,s);let l=this.compiledMap.get(i);null==l&&(l=this.compile(e,s),this.compiledMap.set(i,l));try{this.keepIntermediateTensors=us().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(rB){this.keepIntermediateTensors=!1,console.warn(rB.message)}const u={},c={};return $d((()=>{const n=new aw(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[a,o]=ub(t,n),s=[];s[o]=e[t],r[a]=s,this.keepIntermediateTensors&&(this.clonedTensorsMap[a]=this.cloneTensorList(s))}));const a=this.getFrozenTensorIds(r),{orderedNodes:s,nodeLiveUntilMap:i}=l;for(const e of s){if(r[e.name])continue;const t=rw(e,r,n,this._resourceManager);if(os(t))throw new Error("The execution of the op '".concat(e.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,a,o,i.get(e.name))}return null==this.parent&&n.dispose(a),t.map((e=>ob(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,o,s){if(!dw(t)&&!o.has(e)){for(const r of n[e])null!=r&&(s[r.id]=(s[r.id]||0)+t.children.length);for(const e of t.inputs){if(dw(e))continue;const t=sb(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||a.has(e.id))continue;const t=s[e.id];1===t?(e.dispose(),delete s[e.id]):null!=t&&s[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,a,o){function s(e){return dw(e)||a.has(e.name)}if(!dw(e)&&null!=o)for(const i of o){if(s(i))continue;const e=sb(i.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=us().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(rB){this.keepIntermediateTensors=!1,console.warn(rB.message)}const o=new aw(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const s=await this.executeWithControlFlow(e,o,t,n),i=t.map((e=>ob(e,s,o))),l=i.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(s).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&o.dispose(c),i}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),o=a.map((e=>this.graph.nodes[ub(e)[0]])),s=n.map((e=>ub(e)[0])),i=new Set(s);let l=s.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:p}=ow(e,l,this.weightMap,this._initNodes),h=[...o,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=ub(t),a=[];a[r]=e[t],f[n]=a}));const m={},g=this.getFrozenTensorIds(f),v={};for(;h.length>0;){const e=this.processStack(o,h,t,f,v,g,i,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=l.filter((e=>!dw(e)&&!ob(e.name,f,t))).map((e=>e.name));if(y.length>0){let e="";throw null!=d&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(y,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(c,"]. ").concat(e))}return f}processStack(e,t,n,r,a,o,s,i,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&ab("isConstant",e.node,r,n)&&([c]=ib(e.node.name,n)),null==r[e.node.name]){const d=rw(e.node,r,n,this._resourceManager);c||([c]=ib(e.node.name,n));const p=n.currentContext;os(d)?u.push(d.then((u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,o,s,i),this.processChildNodes(e.node,t,n,r,a,l),u)))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,o,s,i),this.processChildNodes(e.node,t,n,r,a,l))}else this.processChildNodes(e.node,t,n,r,a,l)}return u}processChildNodes(e,t,n,r,a,o){e.children.forEach((e=>{const[s]=ib(e.name,n);!a[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!ob(e,r,n)))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!ob(e,r,n)))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=ub(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));Fo(t,(()=>"The shape of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]")))}a.attrParams.dtype&&a.attrParams.dtype.value&&Fo(n.dtype===a.attrParams.dtype.value,(()=>"The dtype of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(a.attrParams.dtype.value,", but was ").concat(n.dtype)))}))}mapInputs(e){var t,n;const r={};for(const a in e){const o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=o?r[o.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=ub(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=ub(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}class mw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const gw="?tfjs-format=file",vw="model.json";class yw{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new mw}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return os(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version="".concat(t.versions.producer,".").concat(t.versions.minConsumer);const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new fw(Mb.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=Mb.Instance.transformGraph(e.modelInitializer);this.initializer=new fw(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof pc?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof pc)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-n," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let r=0;return this.inputNodes.reduce(((t,n)=>{var a,o,s;const i=null===(s=null===(o=null===(a=this.signature)||void 0===a?void 0:a.inputs)||void 0===o?void 0:o[n])||void 0===s?void 0:s.resourceId;return t[n]=null!=i?this.resourceIdToCapturedInput[i]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Yd(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function bw(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(vw).concat(gw)}(t));const a=new yw(t,n,r);return await a.load(),a}var ww=function(){return ww=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ww.apply(this,arguments)};function kw(e,t,n,r){return new(n||(n=Promise))((function(a,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function i(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))}function Sw(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var xw=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],_w={modelType:"short",runtime:"mediapipe",maxFaces:1},Iw=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new Zy.FaceDetection({locateFile:function(t,n){if(e.solutionPath){var r=e.solutionPath.replace(/\/+$/,"");return"".concat(r,"/").concat(t)}return"".concat(n,"/").concat(t)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults((function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.detections)for(var n=0,r=e.detections;n<r.length;n++){var a=r[n];t.faces.push(t.normalizedToAbsolute(a.landmarks,(void 0,void 0,{xMin:s=(o=a.boundingBox).xCenter-o.width/2,xMax:s+o.width,yMin:i=o.yCenter-o.height/2,yMax:i+o.height,width:o.width,height:o.height})))}var o,s,i}))}return e.prototype.normalizedToAbsolute=function(e,t){var n=this;return{keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,name:xw[t]}})),box:{xMin:t.xMin*this.width,yMin:t.yMin*this.height,xMax:t.xMax*this.width,yMax:t.yMax*this.height,width:t.width*this.width,height:t.height*this.height}}},e.prototype.estimateFaces=function(e,t){return kw(this,void 0,void 0,(function(){var n,r;return Sw(this,(function(a){switch(a.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof pc?(r=ImageData.bind,[4,$p(e)]):[3,2];case 1:return n=new(r.apply(ImageData,[void 0,a.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,a.label=3;case 3:return e=n,[4,this.faceDetectorSolution.send({image:e})];case 4:return a.sent(),[2,this.faces]}}))}))},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function Ew(e){return kw(this,void 0,void 0,(function(){var t,n;return Sw(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return ww({},_w);var t=ww({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=_w.modelType),null==t.maxFaces&&(t.maxFaces=_w.maxFaces),t}(e),[4,(n=new Iw(t)).initialize()];case 1:return r.sent(),[2,n]}}))}))}function Tw(e){return e instanceof pc?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function Nw(e){return e instanceof pc?e:Yp(e)}function Cw(e,t){Fo(0!==e.width,(function(){return"".concat(t," width cannot be 0.")})),Fo(0!==e.height,(function(){return"".concat(t," height cannot be 0.")}))}function Aw(e,t,n){var r=t.outputTensorSize,a=t.keepAspectRatio,o=t.borderMode,s=t.outputTensorFloatRange,i=Tw(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(i,n),u=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var r=t.height,a=t.width;Cw(t,"targetSize"),Cw(e,"roi");var o,s,i=r/a,l=e.height/e.width,u=0,c=0;return i>l?(o=e.width,s=e.width*i,c=(1-l/i)/2):(o=e.height/i,s=e.height,u=(1-i/l)/2),e.width=o,e.height=s,{top:c,left:u,right:u,bottom:c}}(l,r,a),c=function(e,t,n,r){var a=e.width,o=e.height,s=r?-1:1,i=Math.cos(e.rotation),l=Math.sin(e.rotation),u=e.xCenter,c=e.yCenter,d=1/t,p=1/n,h=new Array(16);return h[0]=a*i*s*d,h[1]=-o*l*d,h[2]=0,h[3]=(-.5*a*i*s+.5*o*l+u)*d,h[4]=a*l*s*p,h[5]=o*i*p,h[6]=0,h[7]=(-.5*o*i-.5*a*l*s+c)*p,h[8]=0,h[9]=0,h[10]=a*d,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got ".concat(e.length));return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(h)}(l,i.width,i.height,!1),d=$d((function(){var t=Nw(e),n=zg(function(e,t,n){return Cw(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(c,i,r),[1,8]),a="zero"===o?"constant":"nearest",l=vy.transform(Uf(Vd(t,"float32")),n,"bilinear",a,0,[r.height,r.width]);return null!=s?function(e,t){var n=function(e,t,n,r){var a=(r-n)/255;return{scale:a,offset:n-0*a}}(0,0,t[0],t[1]);return $d((function(){return Zd(np(e,n.scale),n.offset)}))}(l,s):l}));return{imageTensor:d,padding:u,transformationMatrix:c}}function Mw(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],a=[],o=[],s=[],i=n;i<e.strides.length&&e.strides[i]===e.strides[n];){var l=Ow(e.minScale,e.maxScale,i,e.strides.length);if(0===i&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),s.push(.1),s.push(l),s.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)o.push(e.aspectRatios[u]),s.push(l);if(e.interpolatedScaleAspectRatio>0){var c=i===e.strides.length-1?1:Ow(e.minScale,e.maxScale,i+1,e.strides.length);s.push(Math.sqrt(l*c)),o.push(e.interpolatedScaleAspectRatio)}}i++}for(var d=0;d<o.length;++d){var p=Math.sqrt(o[d]);r.push(s[d]/p),a.push(s[d]*p)}var h=0,f=0;if(e.featureMapHeight.length>0)h=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var m=e.strides[n];h=Math.ceil(e.inputSizeHeight/m),f=Math.ceil(e.inputSizeWidth/m)}for(var g=0;g<h;++g)for(var v=0;v<f;++v)for(var y=0;y<r.length;++y){var b={xCenter:(v+e.anchorOffsetX)/f,yCenter:(g+e.anchorOffsetY)/h,width:0,height:0};e.fixedAnchorSize?(b.width=1,b.height=1):(b.width=a[y],b.height=r[y]),t.push(b)}n=i}return t}function Ow(e,t,n,r){return 1===r?.5*(e+t):e+(t-e)*n/(r-1)}function Rw(e,t){var n=t[0],r=t[1];return[n*e[0]+r*e[1]+e[3],n*e[4]+r*e[5]+e[7]]}function Dw(e,t,n,r){return kw(this,void 0,void 0,(function(){var r,a,o,s,i;return Sw(this,(function(l){switch(l.label){case 0:return e.sort((function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)})),r=zg(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),a=Lg(e.map((function(e){return e.score[0]}))),[4,vy.nonMaxSuppressionAsync(r,a,t,n)];case 1:return[4,(o=l.sent()).array()];case 2:return s=l.sent(),i=e.filter((function(e,t){return s.indexOf(t)>-1})),Yd([r,a,o]),[2,i]}}))}))}function Fw(e,t,n){return kw(this,void 0,void 0,(function(){var r,a,o,s,i;return Sw(this,(function(l){switch(l.label){case 0:return r=e[0],a=e[1],o=function(e,t,n){return $d((function(){var r,a,o,s;n.reverseOutputOrder?(a=Og(zh(e,[0,n.boxCoordOffset+0],[-1,1])),r=Og(zh(e,[0,n.boxCoordOffset+1],[-1,1])),s=Og(zh(e,[0,n.boxCoordOffset+2],[-1,1])),o=Og(zh(e,[0,n.boxCoordOffset+3],[-1,1]))):(r=Og(zh(e,[0,n.boxCoordOffset+0],[-1,1])),a=Og(zh(e,[0,n.boxCoordOffset+1],[-1,1])),o=Og(zh(e,[0,n.boxCoordOffset+2],[-1,1])),s=Og(zh(e,[0,n.boxCoordOffset+3],[-1,1]))),a=Zd(np(tp(a,n.xScale),t.w),t.x),r=Zd(np(tp(r,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(o=np(Wf(tp(o,n.hScale)),t.h),s=np(Wf(tp(s,n.wScale)),t.w)):(o=np(tp(o,n.hScale),t.h),s=np(tp(s,n.wScale),t.h));var i=gp(r,tp(o,2)),l=gp(a,tp(s,2)),u=Zd(r,tp(o,2)),c=Zd(a,tp(s,2)),d=Fh([Oh(i,[n.numBoxes,1]),Oh(l,[n.numBoxes,1]),Oh(u,[n.numBoxes,1]),Oh(c,[n.numBoxes,1])],1);if(n.numKeypoints)for(var p=0;p<n.numKeypoints;++p){var h=n.keypointCoordOffset+p*n.numValuesPerKeypoint,f=void 0,m=void 0;n.reverseOutputOrder?(f=Og(zh(e,[0,h],[-1,1])),m=Og(zh(e,[0,h+1],[-1,1]))):(m=Og(zh(e,[0,h],[-1,1])),f=Og(zh(e,[0,h+1],[-1,1])));var g=Zd(np(tp(f,n.xScale),t.w),t.x),v=Zd(np(tp(m,n.yScale),t.h),t.y);d=Fh([d,Oh(g,[n.numBoxes,1]),Oh(v,[n.numBoxes,1])],1)}return d}))}(a,t,n),s=$d((function(){var e=r;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=Xh(r,-n.scoreClippingThresh,n.scoreClippingThresh)),e=Lh(e)):e})),[4,Pw(o,s,n)];case 1:return i=l.sent(),Yd([o,s]),[2,i]}}))}))}function Pw(e,t,n){return kw(this,void 0,void 0,(function(){var r,a,o,s,i,l,u,c,d,p,h,f;return Sw(this,(function(m){switch(m.label){case 0:return r=[],[4,e.data()];case 1:return a=m.sent(),[4,t.data()];case 2:for(o=m.sent(),s=0;s<n.numBoxes;++s)if(!(null!=n.minScoreThresh&&o[s]<n.minScoreThresh||(i=s*n.numCoords,l=Lw(a[i+0],a[i+1],a[i+2],a[i+3],o[s],n.flipVertically,s),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,p=0;p<d;p+=n.numValuesPerKeypoint)h=i+n.keypointCoordOffset+p,f={x:a[h+0],y:n.flipVertically?1-a[h+1]:a[h+1]},c.relativeKeypoints.push(f);r.push(l)}return[2,r]}}))}))}function Lw(e,t,n,r,a,o,s){return{score:[a],ind:s,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}var zw,Bw,Ww,Uw={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},jw={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Hw={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},Vw={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},qw={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},Gw={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Kw={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},$w=function(){function e(e,t,n){this.detectorModel=t,this.maxFaces=n,"full"===e?(this.imageToTensorConfig=Kw,this.tensorsToDetectionConfig=qw,this.anchors=Mw(jw)):(this.imageToTensorConfig=Gw,this.tensorsToDetectionConfig=Vw,this.anchors=Mw(Uw));var r=Lg(this.anchors.map((function(e){return e.width}))),a=Lg(this.anchors.map((function(e){return e.height}))),o=Lg(this.anchors.map((function(e){return e.xCenter}))),s=Lg(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:o,y:s,w:r,h:a}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Yd([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(e,t){return void 0===t&&(t=!1),kw(this,void 0,void 0,(function(){var n,r,a,o,s,i,l,u,c,d,p;return Sw(this,(function(h){switch(h.label){case 0:return null==e?(this.reset(),[2,[]]):(n=$d((function(){var n=Vd(Nw(e),"float32");return t&&(n=Og(vy.flipLeftRight(Uf(n,0)),[0])),n})),r=Aw(n,this.imageToTensorConfig),a=r.imageTensor,o=r.transformationMatrix,s=this.detectorModel.execute(a,"Identity:0"),i=function(e){return $d((function(){var t=function(e){return $d((function(){return[zh(e,[0,0,0],[1,-1,1]),zh(e,[0,0,1],[1,-1,-1])]}))}(e),n=t[0],r=t[1];return{boxes:Og(r),logits:Og(n)}}))}(s),l=i.boxes,[4,Fw([u=i.logits,l],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(c=h.sent()).length?(Yd([n,a,s,u,l]),[2,c]):[4,Dw(c,this.maxFaces,.3)];case 2:return d=h.sent(),p=function(e,t){void 0===e&&(e=[]);var n,r=(n=t,[].concat.apply([],n));return e.forEach((function(e){var t=e.locationData;t.relativeKeypoints.forEach((function(e){var t=Rw(r,[e.x,e.y]),n=t[0],a=t[1];e.x=n,e.y=a}));var n=t.relativeBoundingBox,a=Number.MAX_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE,i=Number.MIN_VALUE;[[n.xMin,n.yMin],[n.xMin+n.width,n.yMin],[n.xMin+n.width,n.yMin+n.height],[n.xMin,n.yMin+n.height]].forEach((function(e){var t=Rw(r,e),n=t[0],l=t[1];a=Math.min(a,n),s=Math.max(s,n),o=Math.min(o,l),i=Math.max(i,l)})),t.relativeBoundingBox={xMin:a,xMax:s,yMin:o,yMax:i,width:s-a,height:i-o}})),e}(d,o),Yd([n,a,s,u,l]),[2,p]}}))}))},e.prototype.estimateFaces=function(e,t){return kw(this,void 0,void 0,(function(){var n,r;return Sw(this,(function(a){return n=Tw(e),r=!!t&&t.flipHorizontal,[2,this.detectFaces(e,r).then((function(e){return e.map((function(e){for(var t=e.locationData.relativeKeypoints.map((function(e,t){return ww(ww({},e),{x:e.x*n.width,y:e.y*n.height,name:xw[t]})})),r=e.locationData.relativeBoundingBox,a=0,o=["width","xMax","xMin"];a<o.length;a++)r[o[a]]*=n.width;for(var s=0,i=["height","yMax","yMin"];s<i.length;s++)r[i[s]]*=n.height;return{keypoints:t,box:r}}))}))]}))}))},e}();function Yw(e){return kw(this,void 0,void 0,(function(){var t,n,r;return Sw(this,(function(a){switch(a.label){case 0:return t=function(e){if(null==e)return ww({},Hw);var t=ww({},e);return null==t.modelType&&(t.modelType=Hw.modelType),null==t.maxFaces&&(t.maxFaces=Hw.maxFaces),null==t.detectorModelUrl&&("full"===t.modelType?t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,bw(t.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new $w(t.modelType,r,t.maxFaces)]}}))}))}let Qw;!function(e){e.MediaPipeFaceDetector="MediaPipeFaceDetector"}(zw||(zw={})),function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(Bw||(Bw={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(Ww||(Ww={}));const Xw={kernelName:ku,backendName:"wasm",setupFunc:function(e){Qw=e.wasm.cwrap(ku,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o,bias:s,preluActivationWeights:i}=t;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r,p=n.dataIdMap.get(a.dataId).id,h=n.dataIdMap.get(o.dataId).id;let f=0;if(null!=s){const e=n.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error("_FusedMatMul only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));f=e.id}const m=null==i?0:n.dataIdMap.get(i.dataId).id,g=Ww[c];if(null==g)throw new Error("".concat(c," activation not yet supported for FusedConv2D ")+"in the wasm backend.");const v=l?a.shape[2]:a.shape[1],y=u?o.shape[1]:o.shape[2],b=bp(a.shape.slice(0,-2),o.shape.slice(0,-2)),w=n.makeOutput([...b,v,y],a.dtype),k=n.dataIdMap.get(w.dataId).id,S=new Uint8Array(new Int32Array(a.shape).buffer),x=new Uint8Array(new Int32Array(o.shape).buffer);return Qw(p,S,a.shape.length,h,x,o.shape.length,l,u,g,f,m,d||0,k),w}};function Jw(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:a}}=e,o=r.dataIdMap.get(a.dataId).id,s=r.makeOutput(a.shape,t||a.dtype),i=r.dataIdMap.get(s.dataId).id;return 0===zo(s.shape)||n(o,Bw[a.dtype],i),s}}}const Zw=Jw(fs),ek=Jw(ms),tk=Jw(gs);function nk(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:a}=e,{a:o,b:s}=a,i=t.dataIdMap.get(o.dataId).id,l=t.dataIdMap.get(s.dataId).id,u=null!=n?n:o.dtype,c=bp(o.shape,s.shape),d=t.makeOutput(c,u);if(0===zo(c))return d;const p=new Uint8Array(new Int32Array(o.shape).buffer),h=new Uint8Array(new Int32Array(s.shape).buffer),f=t.dataIdMap.get(d.dataId).id;return r(i,p,o.shape.length,l,h,s.shape.length,Bw[o.dtype],f),d}}}const rk=nk(vs);let ak;const ok={kernelName:ys,backendName:"wasm",setupFunc:function(e){ak=e.wasm.cwrap(ys,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===zo(r.shape))return r;const a=t.map((e=>n.dataIdMap.get(e.dataId).id)),o=new Uint8Array(new Int32Array(a).buffer),s=n.dataIdMap.get(r.dataId).id;return ak(o,a.length,Bw[r.dtype],s),r}};function sk(e){const{inputs:{x:t},backend:n}=e;if("string"===t.dtype)return jc(n.readSync(t.dataId),t.shape,t.dtype);const r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}const ik={kernelName:Ni,backendName:"wasm",kernelFunc:sk};let lk;function uk(e){const{inputs:t,backend:n,attrs:r}=e,[a,o]=function(e,t){const n=[],r=[];for(let a=0;a<e.length;++a)1!==e[a]&&n.push(e[a]),1!==e[t[a]]&&r.push(t[a]);for(let a=0;a<r.length;++a){let e=-1;for(let t=0;t<r.length;++t)r[t]>=a&&(-1===e||r[e]>r[t])&&(e=t);r[e]=a}return[n,r]}(t.x.shape,r.perm);let s=!0;for(let f=0;f<o.length;f++)o[f]!==f&&(s=!1);const i=function(e,t){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,r.perm),l={dataId:t.x.dataId,shape:a,dtype:t.x.dtype};if(s){const e=sk({inputs:t,backend:n});return e.shape=i,e}const u=n.makeOutput(i,l.dtype),c=n.dataIdMap.get(l.dataId).id,d=n.dataIdMap.get(u.dataId).id,p=new Uint8Array(new Int32Array(o).buffer),h=new Uint8Array(new Int32Array(l.shape).buffer);return lk(c,h,l.shape.length,Bw[l.dtype],d,p,o.length),u}const ck={kernelName:hu,backendName:"wasm",kernelFunc:uk,setupFunc:function(e){lk=e.wasm.cwrap(hu,null,["number","array","number","number","number","array","number"])}};function dk(e,t,n){const r=e.shape,a=e.shape.length,o=Ho(t,r);let s=o;const i=Mf(s,a);let l=null,u=!1;if(null!=i){const t=new Array(a);for(let e=0;e<t.length;e++)t[e]=r[i[e]];s=Rf(s.length,a),l=uk({inputs:{x:e},attrs:{perm:i},backend:n});const o=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==o&&(u=!0)}return{transposed:l,originalAxes:o,axes:s,inputWasTransposed:u}}let pk;const hk={kernelName:bs,backendName:"wasm",setupFunc:function(e){pk=e.wasm.cwrap(bs,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n;let i=t.dataIdMap.get(s.dataId).id,l=s;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=dk(s,a,t);if(p){l=u,i=t.dataIdMap.get(u.dataId).id}Af("all",c,l.shape.length);const[h,f]=Nf(l.shape,c),m=zo(f),g=t.makeOutput(h,s.dtype);if(0!==zo(l.shape)){const e=t.dataIdMap.get(g.dataId).id;pk(i,m,e)}if(p&&t.disposeData(u.dataId),o){const e=Cf(g.shape,d);g.shape=e}return g}};let fk;const mk={kernelName:ws,backendName:"wasm",setupFunc:function(e){fk=e.wasm.cwrap(ws,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n;let i=t.dataIdMap.get(s.dataId).id,l=s;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=dk(s,a,t);if(p){l=u,i=t.dataIdMap.get(u.dataId).id}Af("any",c,l.shape.length);const[h,f]=Nf(l.shape,c),m=zo(f),g=t.makeOutput(h,s.dtype);if(0!==zo(l.shape)){const e=t.dataIdMap.get(g.dataId).id;fk(i,m,e)}if(p&&t.disposeData(u.dataId),o){const e=Cf(g.shape,d);g.shape=e}return g}};function gk(e){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:r,attrs:a}=e,{axis:o}=a,{x:s}=r,i=n.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,inputWasTransposed:p}=dk(s,o,n);if(p){const e=n.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e)}const h=u.shape.slice(0,-1),f=n.makeOutput(h,"int32"),m=n.dataIdMap.get(f.dataId).id,g=zo(f.shape),v=u.shape[d[0]];return t(l,Bw[u.dtype],g,v,m),p&&n.disposeData(c.dataId),f}}}const vk=gk(ks),yk=gk(Ss),bk=Jw(xs),wk=Jw(_s),kk=Jw(Is),Sk=nk(Ts),xk=Jw(Es);let _k;const Ik={kernelName:Ns,backendName:"wasm",setupFunc:function(e){_k=e.wasm.cwrap(Ns,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=n,c=yh(a.shape,s,i,1,l,u),d=c.filterHeight,p=c.filterWidth,h=c.padInfo.top,f=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.strideHeight,y=c.strideWidth,b=c.inChannels;if("channelsLast"!==c.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(c.dataFormat,"'. Please use 'channelsLast'."));if(1!==c.dilationWidth||1!==c.dilationHeight)throw new Error("was backend only supports average pooling with dilation = [1, 1], "+"got [".concat(c.dilationHeight,", ").concat(c.dilationWidth,"]."));const w=r.makeOutput(c.outShape,"float32"),k=r.dataIdMap.get(w.dataId).id;return _k(o,a.shape[0],a.shape[1],a.shape[2],d,p,h,f,m,g,v,y,b,k),w}};let Ek;const Tk={kernelName:As,backendName:"wasm",setupFunc:function(e){Ek=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r,c=bh(a.shape,o,s,1,i,l,u),d=n.makeOutput(c.outShape,a.dtype);return Ek(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let Nk;const Ck={kernelName:Ms,backendName:"wasm",setupFunc:function(e){Nk=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r,c=bh(o.shape,s,i,1,l,u),d=n.makeOutput(o.shape,o.dtype);return Nk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left,c.filterDepth,c.filterHeight,c.filterWidth),d}};let Ak;const Mk={kernelName:Cs,backendName:"wasm",setupFunc:function(e){Ak=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l}=r,u=yh(o.shape,s,i,1,l),c=n.makeOutput(o.shape,o.dtype);return Ak(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.top,u.padInfo.left,u.filterHeight,u.filterWidth),c}};function Ok(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:a}=n,o=zo(r.shape),s=jo(a,o);return Fo(o===zo(s),(()=>"new shape: ".concat(s,", old shape: ").concat(r.shape,". New shape and old ")+"shape must have the same number of elements.")),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:s,dtype:r.dtype}}const Rk={kernelName:_l,backendName:"wasm",kernelFunc:Ok};let Dk;const Fk={kernelName:Os,backendName:"wasm",setupFunc:function(e){Dk=e.wasm.cwrap(Os,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:s,transposeB:i}=r;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const l=a.shape.length,u=o.shape.length,c=s?a.shape[l-2]:a.shape[l-1],d=i?o.shape[u-1]:o.shape[u-2],p=s?a.shape[l-1]:a.shape[l-2],h=i?o.shape[u-2]:o.shape[u-1],f=a.shape.slice(0,-2),m=o.shape.slice(0,-2),g=zo(f),v=zo(m),y=bp(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);Fo(c===d,(()=>"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(i," must match.")));const b=i?[v,h,d]:[v,d,h],w=Ok({inputs:{x:a},backend:n,attrs:{shape:s?[g,c,p]:[g,p,c]}}),k=Ok({inputs:{x:o},backend:n,attrs:{shape:b}}),S=n.dataIdMap.get(w.dataId).id,x=n.dataIdMap.get(k.dataId).id,_=s?w.shape[2]:w.shape[1],I=i?k.shape[1]:k.shape[2],E=Math.max(g,v),T=n.makeOutput([E,_,I],w.dtype),N=n.dataIdMap.get(T.dataId).id,C=new Uint8Array(new Int32Array(w.shape).buffer),A=new Uint8Array(new Int32Array(k.shape).buffer);return Dk(S,C,w.shape.length,x,A,k.shape.length,s,i,N),n.disposeData(w.dataId),n.disposeData(k.dataId),T.shape=y,T}};function Pk(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Fo("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors in the CPU backend.")))}))}function Lk(e,t,n,r,a){const o=eh(r,t,n),s=zo(n),i=Qo(r);if(o){const n=th(t,i);return"string"===a?e.slice(n,n+s):e.subarray(n,n+s)}const l=Hd(r,a,"string"===a?Xy(e):e),u=Hd(n,a);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map(((e,n)=>e+t[n]));u.set(l.get(...n),...e)}return"string"===a?Jy(u.values):u.values}function zk(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:o,size:s}=r;Pk(a,"slice");const[i,l]=nh(a,o,s);!function(e,t,n){const r=e.shape.length;Fo(r===t.length,(()=>"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,")."))),Fo(r===n.length,(()=>"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")));for(let a=0;a<r;++a)Fo(t[a]+n[a]<=e.shape[a],(()=>"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")))}(a,i,l);const u=Lk(n.data.get(a.dataId).values,i,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,u)}const Bk={kernelName:zl,backendName:"cpu",kernelFunc:zk};function Wk(e){const{inputs:{x:t},attrs:{begin:n,size:r},backend:a}=e,[o,s]=nh(t,n,r),i=eh(t.shape,o,s),l=a.readSync(t.dataId),u=a.makeOutput(s,t.dtype),c=Qo(t.shape),d=a.dataIdMap.get(u.dataId);if(i){const e=th(o,c);if("string"===t.dtype)d.stringBytes=l.slice(e,e+zo(s));else{a.typedArrayFromHeap(u).set(l.subarray(e,e+zo(s)))}return u}if("string"===t.dtype){const e=Lk(l,o,s,t.shape,t.dtype);return d.stringBytes=e,u}const p=a.typedArrayFromHeap(u),h=t.shape.length;if(2===h)!function(e,t,n,r,a){let o=0;const s=r[0],i=r[1],l=s+a[0];for(let u=s;u<l;u++){const r=u*t+i;n.set(e.subarray(r,r+a[1]),o),o+=a[1]}}(l,c[0],p,o,s);else if(3===h)!function(e,t,n,r,a,o){let s=0;const i=a[0],l=a[1],u=a[2],c=i+o[0],d=l+o[1];for(let p=i;p<c;p++)for(let a=l;a<d;a++){const i=p*t+a*n+u;r.set(e.subarray(i,i+o[2]),s),s+=o[2]}}(l,c[0],c[1],p,o,s);else if(4===h)!function(e,t,n,r,a,o,s){let i=0;const l=o[0],u=o[1],c=o[2],d=l+s[0],p=u+s[1],h=c+s[2],f=o[3];for(let m=l;m<d;m++)for(let o=u;o<p;o++)for(let l=c;l<h;l++){const u=m*t+o*n+l*r+f;a.set(e.subarray(u,u+s[3]),i),i+=s[3]}}(l,c[0],c[1],c[2],p,o,s);else{const e=Lk(l,o,s,t.shape,t.dtype);p.set(e)}return u}const Uk={kernelName:zl,backendName:"wasm",kernelFunc:Wk};const jk={kernelName:Rs,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:s}=r,i=o.reduce(((e,t)=>e*t)),l=Ey(a.shape,o,i),u=Ty(l.length,o.length),c=Ny(a.shape,o,i),d=Cy(s,o.length),p=Ay(c,s,o.length),h=Ok({inputs:{x:a},backend:n,attrs:{shape:l}}),f=uk({inputs:{x:h},backend:n,attrs:{perm:u}}),m=Ok({inputs:{x:f},backend:n,attrs:{shape:c}}),g=Wk({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeData(h.dataId),n.disposeData(f.dataId),n.disposeData(m.dataId),g}};let Hk;const Vk={kernelName:Ds,backendName:"wasm",setupFunc:function(e){Hk=e.wasm.cwrap(Ds,null,["number","number","boolean","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,weights:o}=n,{size:s}=r,i=0!==o.shape.reduce(((e,t)=>e*t),1),l=1===a.shape.length?[s]:[a.shape[0],s],u=t.makeOutput(l,o.dtype);function c(e){return t.dataIdMap.get(e.dataId).id}return Hk(c(a),s,i,c(o),Bw[o.dtype],c(u)),u}},qk=nk(Fs);const Gk={kernelName:Ps,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,o=n.typedArrayFromHeap(r),s=n.typedArrayFromHeap(a),i=bp(Array.from(o),Array.from(s));return n.makeOutput([i.length],"int32",void 0,new Int32Array(i))}};function Kk(e){const{inputs:{x:t},attrs:{dtype:n},backend:r}=e,a=r.makeOutput(t.shape,n),o=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(o),a}const $k={kernelName:Ls,backendName:"wasm",kernelFunc:Kk},Yk=Jw(zs);let Qk;const Xk={kernelName:Bs,backendName:"wasm",setupFunc:function(e){Qk=e.wasm.cwrap(Bs,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:o,clipValueMax:s}=r,i=n.dataIdMap.get(a.dataId).id,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(l.dataId).id;return Qk(i,o,s,u),l}};function Jk(e,t,n,r){const a=qo(n,zo(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=zo(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const o="string"===n?Xy(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[i+t]=o[s++]}r+=e.shape[1]}))}return a}function Zk(e){const{inputs:t,backend:n}=e,r=Ho(e.attrs.axis,t[0].shape)[0],a=t.map((e=>e.shape));Sy(a,r);let o=xy(t.map((e=>e.shape)),r);const s=t.filter((e=>zo(e.shape)>0));if(1===s.length)return sk({inputs:{x:s[0]},backend:n});const i=n.makeOutput(o,t[0].dtype);if(0===zo(o))return i;if("string"===s[0].dtype){const e=s.map((e=>{const t=zo(e.shape.slice(r));return Ok({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),a=e.map((e=>({vals:n.readSync(e.dataId),shape:e.shape})));o=xy(e.map((e=>e.shape)),1);const l=1===e[0].shape[0],u=Jk(a,o,t[0].dtype,l),c=xy(s.map((e=>e.shape)),r);i.shape=c;return n.dataIdMap.get(i.dataId).stringBytes=Jy(u),e.forEach((e=>n.disposeData(e.dataId))),i}const l=zo(s[0].shape.slice(0,r));let u=0;const c=s.map((e=>{const t=zo(e.shape.slice(r));return u+=t,t})),d=s.map((e=>n.typedArrayFromHeap(e))),p=n.typedArrayFromHeap(i);for(let h=0;h<l;h++){let e=h*u;for(let t=0;t<d.length;t++){const n=c[t],r=h*n,a=d[t].subarray(r,r+n);p.set(a,e),e+=n}}return i}const eS={kernelName:js,backendName:"wasm",kernelFunc:Zk};let tS;const nS={kernelName:Hs,backendName:"wasm",setupFunc:function(e){tS=e.wasm.cwrap(Hs,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,s=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(o.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d,dataFormat:p}=n,h=Ah(p),f=wh(a.shape,o.shape,l,u,c,d,!1,h),m=f.filterHeight,g=f.filterWidth,v=f.padInfo.top,y=f.padInfo.right,b=f.padInfo.bottom,w=f.padInfo.left,k=f.dilationHeight,S=f.dilationWidth,x=f.strideHeight,_=f.strideWidth,I=f.inChannels,E=f.outChannels,T="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error("wasm backend Conv2D does not support dataFormat:'"+"".concat(f.dataFormat,"'. Please use 'channelsLast'."));const N=r.makeOutput(f.outShape,"float32"),C=r.dataIdMap.get(N.dataId).id;return tS(s,a.shape[0],a.shape[1],a.shape[2],i,m,g,v,y,b,w,T,k,S,x,_,I,E,C),N}};let rS;const aS={kernelName:qs,backendName:"wasm",setupFunc:function(e){rS=e.wasm.cwrap(qs,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{dy:a,filter:o}=n,{strides:s,pad:i,dataFormat:l,dimRoundingMode:u,inputShape:c}=r,d=Ah(l),p=wh(c,o.shape,s,1,i,u,!1,d),{batchSize:h,filterHeight:f,filterWidth:m,inChannels:g,inHeight:v,inWidth:y,outChannels:b,outHeight:w,outWidth:k,strideHeight:S,strideWidth:x}=p,_=f-1-p.padInfo.top,I=m-1-p.padInfo.left,E="channelsLast"===p.dataFormat,T=Qo(p.inShape),N=Qo(a.shape),[C,A,M]=Qo(o.shape),O=T[0],R=E?T[1]:T[2],D=E?T[2]:1,F=E?1:T[1],P=N[0],L=E?N[1]:N[2],z=E?N[2]:1,B=E?1:N[1],W=t.makeOutput(p.inShape,"float32"),U=t.dataIdMap.get(W.dataId).id,j=t.dataIdMap.get(a.dataId).id,H=t.dataIdMap.get(o.dataId).id;return rS(j,H,h,f,m,v,y,g,w,k,b,S,x,_,I,C,A,M,O,R,D,F,P,L,z,B,U),W}};let oS;const sS={kernelName:Gs,backendName:"wasm",setupFunc:function(e){oS=e.wasm.cwrap(Gs,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r;if("float32"!==a.dtype)throw new Error("Tensor x must have dtype float32, got ".concat(a.dtype));if("float32"!==o.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(o.dtype));const u=kh(a.shape,o.shape,s,l,i),c=n.makeOutput(u.outShape,a.dtype);return oS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}};let iS;const lS={kernelName:Ks,backendName:"wasm",setupFunc:function(e){iS=e.wasm.cwrap(Ks,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,pad:i,filterShape:l}=r;if("float32"!==a.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(a.dtype));if("float32"!==o.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(o.dtype));const u=kh(a.shape,l,s,1,i),c=n.makeOutput(u.filterShape,o.dtype);return iS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}};let uS;const cS={kernelName:$s,backendName:"wasm",setupFunc:function(e){uS=e.wasm.cwrap($s,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{pad:s,strides:i,inputShape:l}=r;if("float32"!==a.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(a.dtype));if("float32"!==o.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(o.dtype));const u=kh(l,o.shape,i,1,s),c=n.makeOutput(u.inShape,a.dtype);return uS(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}},dS=Jw(Ys),pS=Jw(Qs);var hS;let fS;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(hS||(hS={}));const mS={kernelName:Zs,backendName:"wasm",setupFunc:function(e){fS=e.wasm.cwrap(Zs,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{method:a,extrapolationValue:o,cropSize:s}=r,{image:i,boxes:l,boxInd:u}=n,c=l.shape[0],[d,p]=s,h=[c,d,p,i.shape[3]];let f,m=t.dataIdMap.get(i.dataId);"float32"!==i.dtype&&(f=Kk({backend:t,inputs:{x:i},attrs:{dtype:"float32"}}),m=t.dataIdMap.get(f.dataId));const g=m.id,v=t.dataIdMap.get(l.dataId).id,y=t.dataIdMap.get(u.dataId).id,b=t.makeOutput(h,"float32"),w=t.dataIdMap.get(b.dataId).id,k=new Uint8Array(new Int32Array(i.shape).buffer);return fS(g,v,y,c,k,d,p,hS[a],o,w),null!=f&&t.disposeData(f.dataId),b}};let gS;const vS={kernelName:Xs,backendName:"wasm",setupFunc:function(e){gS=e.wasm.cwrap(Xs,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r,l=a.shape.length;Fo("float32"===a.dtype||"int32"===a.dtype,(()=>"cumprod does not support ".concat(a.dtype," tensors in the WASM backend")));const u=Mf([o],l);let c=a;null!==u&&(c=uk({inputs:{x:a},attrs:{perm:u},backend:n}));const d=Rf(1,l)[0];Af("cumprod",[d],l);const p=n.makeOutput(c.shape,c.dtype),h=c.shape[d],f=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;gS(f,s?1:0,i?1:0,h,m,Bw[a.dtype]);let g=p;if(null!==u){g=uk({inputs:{x:p},attrs:{perm:Of(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};let yS;const bS={kernelName:Js,backendName:"wasm",setupFunc:function(e){yS=e.wasm.cwrap(Js,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r,l=a.shape.length;Fo("float32"===a.dtype||"int32"===a.dtype,(()=>"cumsum does not support ".concat(a.dtype," tensors in the WASM backend")));const u=Mf([o],l);let c=a;null!==u&&(c=uk({inputs:{x:a},attrs:{perm:u},backend:n}));const d=Rf(1,l)[0];Af("cumsum",[d],l);const p=n.makeOutput(c.shape,c.dtype),h=c.shape[d],f=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;yS(f,s?1:0,i?1:0,h,m,Bw[a.dtype]);let g=p;if(null!==u){g=uk({inputs:{x:p},attrs:{perm:Of(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};let wS;const kS={kernelName:ei,backendName:"wasm",setupFunc:function(e){wS=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,weights:o}=n,{size:s,binaryOutput:i}=r,l=0!==o.shape.reduce(((e,t)=>e*t),1),u=1===a.shape.length?[s]:[a.shape[0],s],c=t.makeOutput(u,o.dtype);function d(e){return t.dataIdMap.get(e.dataId).id}return wS(d(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,s,l,d(o),Bw[o.dtype],i,d(c)),c}};let SS;const xS={kernelName:ti,backendName:"wasm",setupFunc:function(e){SS=e.wasm.cwrap(ti,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{blockSize:o,dataFormat:s}=r,i=a.shape[0],l=("NHWC"===s?a.shape[1]:a.shape[2])*o,u=("NHWC"===s?a.shape[2]:a.shape[3])*o,c=("NHWC"===s?a.shape[3]:a.shape[1])/(o*o),d="NHWC"===s?[i,l,u,c]:[i,c,l,u],p=t.makeOutput(d,"float32"),h=t.dataIdMap.get(a.dataId).id,f=new Uint8Array(new Int32Array(Qo(a.shape)).buffer),m=new Uint8Array(new Int32Array(d).buffer),g=new Uint8Array(new Int32Array(Qo(d)).buffer),v=t.dataIdMap.get(p.dataId).id;return SS(h,o,"NHWC"===s?1:0,f,a.shape.length-1,m,g,d.length,v),p}};let _S;const IS={kernelName:ni,backendName:"wasm",setupFunc:function(e){_S=e.wasm.cwrap(ni,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,s=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(o.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d}=n,p=null==u?[1,1]:u,h=wh(a.shape,o.shape,l,p,c,d,!0),f=h.filterHeight,m=h.filterWidth,g=h.padInfo.top,v=h.padInfo.right,y=h.padInfo.bottom,b=h.padInfo.left,w=h.dilationHeight,k=h.dilationWidth,S=h.strideHeight,x=h.strideWidth,_=h.inChannels,I=h.outChannels,E="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error("wasm backend DepthwiseConv2dNative does not support dataFormat:'"+"".concat(h.dataFormat,"'. Please use 'channelsLast'."));const T=r.makeOutput(h.outShape,"float32"),N=r.dataIdMap.get(T.dataId).id;return _S(s,a.shape[0],a.shape[1],a.shape[2],i,f,m,g,v,y,b,E,w,k,S,x,_,I,N),T}};let ES;const TS={kernelName:oi,backendName:"wasm",setupFunc:function(e){ES=e.wasm.cwrap("Diag",null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=zo(r.shape),o=n.makeOutput([...r.shape,...r.shape],r.dtype);return ES(n.dataIdMap.get(r.dataId).id,Bw[r.dtype],a,n.dataIdMap.get(o.dataId).id),o}};let NS;const CS={kernelName:si,backendName:"wasm",setupFunc:function(e){NS=e.wasm.cwrap(si,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r;if(a.dtype!==o.dtype)throw new Error("Dilation2D error: x must have the same dtype as filter. Got ".concat(a.dtype," and ").concat(o.dtype));const u=vh(a.shape,o.shape,s,i,"NHWC",l),c=n.makeOutput(u.outShape,a.dtype);return NS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,Bw[a.dtype],u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.filterHeight,u.filterWidth,u.padInfo.top,u.padInfo.left),c}};let AS;const MS={kernelName:li,backendName:"wasm",setupFunc:function(e){AS=e.wasm.cwrap(li,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r;if(a.dtype!==o.dtype||a.dtype!==s.dtype)throw new Error("Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ".concat(a.dtype,", ").concat(o.dtype,", and ").concat(s.dtype));const c=vh(a.shape,o.shape,i,l,"NHWC",u),d=n.makeOutput(o.shape,o.dtype);return AS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(d.dataId).id,Bw[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),d}};let OS;const RS={kernelName:ii,backendName:"wasm",setupFunc:function(e){OS=e.wasm.cwrap(ii,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r;if(a.dtype!==o.dtype||a.dtype!==s.dtype)throw new Error("Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ".concat(a.dtype,", ").concat(o.dtype,", and ").concat(s.dtype));const c=vh(a.shape,o.shape,i,l,"NHWC",u),d=n.makeOutput(a.shape,a.dtype);return OS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(d.dataId).id,Bw[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),d}},DS=Jw(pi);let FS;const PS={kernelName:hi,backendName:"wasm",setupFunc:function(e){FS=e.wasm.cwrap(hi,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t,o=n.makeOutput(a.shape,"float32"),s=e=>n.dataIdMap.get(e.dataId).id;return FS(s(a),s(r),s(o)),o}},LS=nk(mi,0,"bool"),zS=Jw(fi),BS=Jw(gi,"float32");function WS(e){const{inputs:t,attrs:n,backend:r}=e,{input:a}=t,{dim:o}=n,s=a.shape.length,i=a.shape.slice();let l=o;return o<0&&(Fo(-(s+1)<=o,(()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]"))),l=s+o+1),i.splice(l,0,1),Ok({inputs:{x:a},backend:r,attrs:{shape:i}})}const US={kernelName:vi,backendName:"wasm",kernelFunc:WS},jS=Jw(yi,"float32");function HS(e){const{attrs:{shape:t,value:n,dtype:r},backend:a}=e,o=a.makeOutput(t,r);return a.typedArrayFromHeap(o).fill(n),o}const VS={kernelName:bi,backendName:"wasm",kernelFunc:HS};let qS;const GS={kernelName:wi,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:r}=t,a=n.makeOutput(r.shape,r.dtype),o=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,[i,l,u,c]=r.shape;return qS(o,i,l,u,c,s),a},setupFunc:function(e){qS=e.wasm.cwrap(wi,null,["number","number","number","number","number","number"])}},KS=Jw(ki),$S=nk(Si);let YS;const QS={kernelName:xi,backendName:"wasm",setupFunc:function(e){YS=e.wasm.cwrap(xi,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:a}=r,{x:o,mean:s,variance:i,offset:l,scale:u}=n,c=t.dataIdMap.get(o.dataId).id,d=t.dataIdMap.get(s.dataId).id,p=t.dataIdMap.get(i.dataId).id,h=null!=l?t.dataIdMap.get(l.dataId).id:0,f=null!=u?t.dataIdMap.get(u.dataId).id:0,m=t.makeOutput(o.shape,o.dtype);if(0===zo(o.shape))return m;const g=t.dataIdMap.get(m.dataId).id;return YS(c,d,p,h,f,a,g),m}};let XS;const JS={kernelName:Su,backendName:"wasm",setupFunc:function(e){XS=e.wasm.cwrap(Su,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=n,m=wh(a.shape,o.shape,l,c,u,p),g=Ww[h];if(null==g)throw new Error("".concat(h," activation not yet supported for FusedConv2D ")+"in the wasm backend.");const v=r.dataIdMap.get(a.dataId).id,y=r.dataIdMap.get(o.dataId).id,b=m.outChannels;let w=0;if(null!=s){const e=r.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error("FusedConv2D only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));if(e.shape[0]!==b)throw new Error("FusedConv2D bias shape (".concat(e.shape,") does not ")+"match the number of output channels (".concat(b,")"));w=e.id}const k=m.filterHeight,S=m.filterWidth,x=m.padInfo.top,_=m.padInfo.right,I=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,C=m.strideHeight,A=m.strideWidth,M=m.inChannels,O="SAME"===m.padInfo.type?1:0,R=m.batchSize,D=m.inHeight,F=m.inWidth;if("NHWC"!==d)throw new Error("wasm backend FusedConv2D does not support dataFormat:'"+"".concat(d,"'. Please use 'NHWC'."));const P=r.makeOutput(m.outShape,"float32"),L=r.dataIdMap.get(P.dataId).id,z=null==i?0:r.dataIdMap.get(i.dataId).id;return XS(v,R,D,F,y,k,S,w,x,_,I,E,O,T,N,C,A,M,b,g,z,f||0,L),P}};let ZS;const ex={kernelName:xu,backendName:"wasm",setupFunc:function(e){ZS=e.wasm.cwrap(xu,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=n,m=wh(a.shape,o.shape,l,c,u,p,!0),g=Ww[h];if(null==g)throw new Error("".concat(h," activation not yet supported for FusedDepthwiseConv2D ")+"in the wasm backend.");const v=r.dataIdMap.get(a.dataId).id,y=r.dataIdMap.get(o.dataId).id,b=m.outChannels;let w=0;if(null!=s){const e=r.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error("FusedDepthwiseConv2D only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));if(e.shape[0]!==b)throw new Error("FusedDepthwiseConv2D bias shape (".concat(e.shape,") does not ")+"match the number of output channels (".concat(b,")"));w=e.id}const k=m.filterHeight,S=m.filterWidth,x=m.padInfo.top,_=m.padInfo.right,I=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,C=m.strideHeight,A=m.strideWidth,M=m.inChannels,O="SAME"===m.padInfo.type?1:0,R=m.batchSize,D=m.inHeight,F=m.inWidth;if("NHWC"!==d)throw new Error("wasm backend FusedDepthwiseConv2D does not support dataFormat:'"+"".concat(d,"'. Please use 'NHWC'."));const P=r.makeOutput(m.outShape,"float32"),L=r.dataIdMap.get(P.dataId).id,z=null==i?0:r.dataIdMap.get(i.dataId).id;return ZS(v,R,D,F,y,k,S,w,x,_,I,E,O,T,N,C,A,M,b,g,z,f||0,L),P}};let tx;const nx={kernelName:Ii,backendName:"wasm",setupFunc:function(e){tx=e.wasm.cwrap(Ii,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:a}=n,[o,s,i,l]=Qp(r,a),u=t.makeOutput(o,r.dtype);if(0===s)return u;const c=a.shape,d=c[c.length-1],p=t.dataIdMap.get(r.dataId).id,h=t.dataIdMap.get(a.dataId).id,f=new Uint8Array(new Int32Array(l).buffer),m=t.dataIdMap.get(u.dataId).id;return tx(p,Bw[r.dtype],h,s,d,i,f,m),u}};let rx;const ax={kernelName:_i,backendName:"wasm",setupFunc:function(e){rx=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,indices:o}=n,{axis:s,batchDims:i}=r,l=Ho(s,a.shape)[0],u=t.readSync(o.dataId),c=a.shape[l];for(let x=0;x<u.length;++x){const e=u[x];Fo(e<=c-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]")))}const d=Qy(a,o,l,i),p=Ok({inputs:{x:a},attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]},backend:t}),h=zo(o.shape),f=Ok({inputs:{x:o},attrs:{shape:[d.batchSize,h/d.batchSize]},backend:t}),m=[d.batchSize,d.outerSize,h/d.batchSize,d.sliceSize],g=t.makeOutput(m,a.dtype);if(0===zo(a.shape))return g;const v=p.shape.length-1,y=t.dataIdMap.get(p.dataId).id,b=t.dataIdMap.get(f.dataId).id,w=t.dataIdMap.get(g.dataId).id,k=new Uint8Array(new Int32Array(Qo(p.shape)).buffer),S=new Uint8Array(new Int32Array(Qo(m)).buffer);return rx(y,Bw[a.dtype],k,v,b,d.batchSize,S,w),t.disposeData(p.dataId),t.disposeData(f.dataId),g.shape=d.outputShape,g}},ox=nk(Ei,0,"bool"),sx=nk(Ti,0,"bool"),ix=Jw(Mi,"bool"),lx=Jw(Oi,"bool"),ux=Jw(Ri,"bool");let cx;const dx={kernelName:Di,backendName:"wasm",setupFunc:function(e){cx=e.wasm.cwrap(Di,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:r}=e,a=r.dataIdMap.get(t.dataId).id,o=r.makeOutput(t.shape,"float32");if(0!==zo(t.shape)){const e=r.dataIdMap.get(o.dataId).id;cx(a,Bw[t.dtype],n,e)}return o}},px=nk(Fi,0,"bool"),hx=nk(Pi,0,"bool");let fx;const mx={kernelName:Li,backendName:"wasm",setupFunc:function(e){fx=e.wasm.cwrap(Li,null,["number","number","number","number"])},kernelFunc:function(e){const{attrs:t,backend:n}=e,{start:r,stop:a,num:o}=t,s=Math.floor(o),i=n.makeOutput([s],"float32");return fx(n.dataIdMap.get(i.dataId).id,r,a,s),i}},gx=Jw(zi),vx=Jw(Bi),yx=nk(Wi,0,"bool"),bx=Jw(Ui),wx=nk(ji,0,"bool"),kx=nk("LogicalXor",0,"bool");let Sx;const xx={kernelName:Hi,backendName:"wasm",setupFunc:function(e){Sx=e.wasm.cwrap(Hi,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=r;if("float32"!==a.dtype)throw new Error("LRN error: x must have dtype float32");const u=n.makeOutput(a.shape,a.dtype);return Sx(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,a.shape[3],o,s,i,l),u}};let _x;const Ix={kernelName:Vi,backendName:"wasm",setupFunc:function(e){_x=e.wasm.cwrap(Vi,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:u,beta:c}=r;if("float32"!==a.dtype||"float32"!==o.dtype||"float32"!==s.dtype)throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const d=n.makeOutput(a.shape,a.dtype);return _x(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(d.dataId).id,s.shape[3],i,l,u,c),d}};let Ex;const Tx={kernelName:qi,backendName:"wasm",setupFunc:function(e){Ex=e.wasm.cwrap(qi,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{reductionIndices:a,keepDims:o}=r,{x:s}=n;let i=t.dataIdMap.get(s.dataId).id,l=s;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=dk(s,a,t);if(p){l=u,i=t.dataIdMap.get(u.dataId).id}Af("max",c,l.shape.length);const[h,f]=Nf(l.shape,c),m=zo(f),g=t.makeOutput(h,s.dtype);if(0!==zo(l.shape)){const e=t.dataIdMap.get(g.dataId).id;Ex(i,Bw[s.dtype],m,e)}if(p&&t.disposeData(u.dataId),o){const e=Cf(g.shape,d);g.shape=e}return g}},Nx=nk(Gi);let Cx;const Ax={kernelName:Ki,backendName:"wasm",setupFunc:function(e){Cx=e.wasm.cwrap(Ki,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id;Fo("float32"===a.dtype,(()=>"Error in MaxPool: only float32 input is supported. Got ".concat(a.dtype,".")));const{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=n,c=yh(a.shape,s,i,1,l,u),d=c.filterHeight,p=c.filterWidth,h=c.padInfo.top,f=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.dilationHeight,y=c.dilationWidth,b=c.strideHeight,w=c.strideWidth,k=c.inChannels,S=c.outChannels;if("channelsLast"!==c.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(c.dataFormat,"'. Please use 'channelsLast'."));const x=r.makeOutput(c.outShape,"float32"),_=r.dataIdMap.get(x.dataId).id;return Cx(o,a.shape[0],a.shape[1],a.shape[2],d,p,h,f,m,g,v,y,b,w,k,S,_),x}};let Mx;const Ox={kernelName:Yi,backendName:"wasm",setupFunc:function(e){Mx=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r,c=bh(a.shape,o,s,1,i,l,u),d=n.makeOutput(c.outShape,a.dtype);return Mx(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let Rx;const Dx={kernelName:Qi,backendName:"wasm",setupFunc:function(e){Rx=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r,c=bh(o.shape,s,i,1,l,u),d=n.makeOutput(o.shape,o.dtype);return Rx(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let Fx;const Px={kernelName:$i,backendName:"wasm",setupFunc:function(e){Fx=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r,c=yh(o.shape,s,i,1,l,u),d=n.makeOutput(o.shape,o.dtype);return Fx(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),d}};let Lx;const zx={kernelName:Xi,backendName:"wasm",setupFunc:function(e){Lx=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,includeBatchInIndex:l}=r;Fo(4===a.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")));const u=[1,1];Fo(Nh(s,u),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(u,"'")));const c=yh(a.shape,o,s,[1,1],i),d=n.makeOutput(c.outShape,a.dtype),p=n.makeOutput(c.outShape,"int32");return Lx(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,n.dataIdMap.get(p.dataId).id,Bw[a.dtype],l,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[d,p]}};let Bx;const Wx={kernelName:Ji,backendName:"wasm",setupFunc:function(e){Bx=e.wasm.cwrap(Ji,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=dk(s,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e,f=Rf(f.length,u.shape.length))}Af("mean",f,u.shape.length);const[m,g]=Nf(u.shape,f),v=zo(g);let y=u;"float32"!==u.dtype&&(y=Kk({backend:t,inputs:{x:u},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(y.dataId).id);const b=t.makeOutput(m,"float32");if(0!==zo(u.shape)){const e=t.dataIdMap.get(b.dataId).id;Bx(l,v,e)}if(h&&t.disposeData(c.dataId),o){const e=Cf(b.shape,p);b.shape=e}return"float32"!==u.dtype&&t.disposeData(y.dataId),b}};let Ux;const jx={kernelName:Zi,backendName:"wasm",setupFunc:function(e){Ux=e.wasm.cwrap(Zi,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=dk(s,a,t);if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e)}Af("min",d,u.shape.length);const[f,m]=Nf(u.shape,d),g=zo(m),v=t.makeOutput(f,u.dtype);if(0!==zo(u.shape)){const e=t.dataIdMap.get(v.dataId).id;Ux(l,Bw[s.dtype],g,e)}if(h&&t.disposeData(c.dataId),o){const e=Cf(v.shape,p);v.shape=e}return v}},Hx=nk(el);var Vx;let qx;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(Vx||(Vx={}));const Gx={kernelName:tl,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,mode:a}}=e,o=r.map(((e,n)=>e[0]+t.shape[n]+e[1])),s=n.dataIdMap.get(t.dataId).id,i=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(i.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map((e=>e[0])),d=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(d).buffer);return qx(s,u,t.shape.length,Bw[t.dtype],p,h,Vx[a],l),i},setupFunc:function(e){qx=e.wasm.cwrap(tl,null,["number","array","number","number","array","array","number","number"])}};let Kx;function $x(e){const{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,a=t.dataIdMap.get(n.dataId).id,o=t.makeOutput(n.shape,n.dtype),s=t.dataIdMap.get(o.dataId).id,i=n.shape[r],l=zo(n.shape)/i;return 0===zo(o.shape)||Kx(a,s,i,l),o}const Yx={kernelName:$l,backendName:"wasm",setupFunc:function(e){Kx=e.wasm.cwrap($l,null,["number","number","number","number"])},kernelFunc:$x};let Qx;const Xx={kernelName:rl,backendName:"wasm",setupFunc:function(e){Qx=e.wasm.cwrap(rl,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:o,seed:s,normalized:i}=r;if("float32"!==a.dtype)throw new Error("Tensor logits must have dtype float32, got ".concat(a.dtype));const l=i?a:$x({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[u,c]=l.shape,d=n.makeOutput([u,o],"int32");return Qx(n.dataIdMap.get(l.dataId).id,u,c,o,s,n.dataIdMap.get(d.dataId).id),i||n.disposeData(l.dataId),d}},Jx=nk(nl),Zx=nk(al),e_=Jw(ol);function t_(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],o=n[2],s=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:o,pValidOutputs:s}}let n_;const r_={kernelName:il,backendName:"wasm",setupFunc:function(e){n_=e.wasm.cwrap(il,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:s}=r,{boxes:i,scores:l}=n,u=t.dataIdMap.get(i.dataId).id,c=t.dataIdMap.get(l.dataId).id,d=n_(u,c,o,a,s),{pSelectedIndices:p,selectedSize:h,pSelectedScores:f,pValidOutputs:m}=t_(t,d);return t.wasm._free(f),t.wasm._free(m),t.makeOutput([h],"int32",p)}};let a_;const o_={kernelName:ll,backendName:"wasm",setupFunc:function(e){a_=e.wasm.cwrap(ll,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:s,padToMaxOutputSize:i}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=a_(c,d,o,a,s,i),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:g}=t_(t,p);return t.wasm._free(m),[t.makeOutput([f],"int32",h),t.makeOutput([],"int32",g)]}};let s_;const i_={kernelName:ul,backendName:"wasm",setupFunc:function(e){s_=e.wasm.cwrap(ul,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:s,softNmsSigma:i}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=s_(c,d,o,a,s,i),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:g}=t_(t,p);return t.wasm._free(g),[t.makeOutput([f],"int32",h),t.makeOutput([f],"float32",m)]}},l_=nk(sl,0,"bool");let u_;const c_={kernelName:dl,backendName:"wasm",setupFunc:function(e){u_=e.wasm.cwrap(dl,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:o,depth:s,onValue:i,offValue:l}=r,u=n.makeOutput([...a.shape,s],o),c=n.dataIdMap.get(u.dataId).id,d=n.dataIdMap.get(a.dataId).id;return u_(d,s,i,l,c),u}};const d_={kernelName:cl,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}};const p_={kernelName:pl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return WS({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{Po(o,e.shape,"All tensors passed to stack must have matching shapes"),Fo(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],l=t.map((e=>{const t=WS({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t})),u=Zk({inputs:l,backend:n,attrs:{axis:a}});return i.forEach((e=>n.disposeData(e.dataId))),u}};let h_;const f_={kernelName:hl,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:a}}=e,o=r.map(((e,n)=>e[0]+t.shape[n]+e[1]));if(0===zo(t.shape))return HS({backend:n,attrs:{shape:o,value:a,dtype:t.dtype}});const s=n.dataIdMap.get(t.dataId).id,i=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(i.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map((e=>e[0])),d=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(d).buffer);return h_(s,u,t.shape.length,Bw[t.dtype],p,h,a,l),i},setupFunc:function(e){h_=e.wasm.cwrap(hl,null,["number","array","number","number","array","array","number","number"])}},m_=nk(fl);let g_;const v_={kernelName:ml,backendName:"wasm",setupFunc:function(e){g_=e.wasm.cwrap(ml,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,o=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id;let i=o;const l=r;let u=l;"float32"!==l.dtype&&(u=Kk({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),i=n.dataIdMap.get(u.dataId).id);const c=n.makeOutput(r.shape,"float32"),d=n.dataIdMap.get(c.dataId).id;return g_(i,s,d),"float32"!==l.dtype&&n.disposeData(u.dataId),c}};let y_;const b_={kernelName:gl,backendName:"wasm",setupFunc:function(e){y_=e.wasm.cwrap(gl,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=dk(s,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e,f=Rf(f.length,u.shape.length))}Af("prod",f,u.shape.length);const[m,g]=Nf(u.shape,f),v=zo(g),y=t.makeOutput(m,u.dtype);if(0!==zo(u.shape)){const e=t.dataIdMap.get(y.dataId).id;y_(l,v,Bw[y.dtype],e)}if(h&&t.disposeData(c.dataId),o){const e=Cf(y.shape,p);y.shape=e}return y}};function w_(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return es(0,r);const a=es(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let o=1;o<a.length;o++)a[o]=a[o-1]+n;return a}const k_={kernelName:wl,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:o,dtype:s}=n,i=w_(r,a,o,s),l=t.makeOutput([i.length],s);return t.typedArrayFromHeap(l).set(i),l}},S_=nk(ci),x_=Jw(Sl),__=Jw(xl),I_=Jw(Cl);let E_;const T_={kernelName:Tl,backendName:"wasm",setupFunc:function(e){E_=e.wasm.cwrap(Tl,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:s,size:i}=r,[l,u]=i,[c,d,p,h]=a.shape,f=[c,l,u,h];let m,g=t.dataIdMap.get(a.dataId);"float32"!==g.dtype&&(m=Kk({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(m.dataId));const v=g.id,y=t.makeOutput(f,"float32");if(0===zo(a.shape))return y;const b=t.dataIdMap.get(y.dataId).id;return E_(v,c,d,p,h,l,u,o?1:0,s?1:0,b),null!=m&&t.disposeData(m.dataId),y}};let N_;const C_={kernelName:Nl,backendName:"wasm",setupFunc:function(e){N_=e.wasm.cwrap(Nl,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r,i=n.makeOutput(a.shape,"float32");let l,u=n.dataIdMap.get(a.dataId);return"float32"!==u.dtype&&(l=Kk({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),u=n.dataIdMap.get(l.dataId)),N_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),s),null!=l&&n.disposeData(l.dataId),i}};let A_;const M_={kernelName:Il,backendName:"wasm",setupFunc:function(e){A_=e.wasm.cwrap(Il,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:s,size:i}=r,[l,u]=i,[c,d,p,h]=a.shape,f=[c,l,u,h],m=t.makeOutput(f,"float32");if(0===zo(a.shape))return m;let g,v=t.dataIdMap.get(a.dataId);"float32"!==v.dtype&&(g=Kk({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),v=t.dataIdMap.get(g.dataId));const y=v.id,b=t.dataIdMap.get(m.dataId).id;return A_(y,c,d,p,h,l,u,o?1:0,s?1:0,b),null!=g&&t.disposeData(g.dataId),m}};let O_;const R_={kernelName:El,backendName:"wasm",setupFunc:function(e){O_=e.wasm.cwrap(El,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r,i=n.makeOutput(a.shape,"float32");let l,u=n.dataIdMap.get(a.dataId);return"float32"!==u.dtype&&(l=Kk({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),u=n.dataIdMap.get(l.dataId)),O_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),s),null!=l&&n.disposeData(l.dataId),i}};let D_;const F_={kernelName:Al,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r,s=Ho(o,a.shape);if(0===a.shape.length)return sk({inputs:{x:a},backend:n});const i=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(i.dataId).id,c=new Uint8Array(new Int32Array(s).buffer),d=new Uint8Array(new Int32Array(a.shape).buffer);D_(l,c,s.length,d,a.shape.length,u);const p=Ok({inputs:{x:i},attrs:{shape:a.shape},backend:n});return n.disposeData(i.dataId),p},setupFunc:function(e){D_=e.wasm.cwrap(Al,null,["number","array","number","array","number","number"])}};let P_;const L_={kernelName:wu,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{radians:o,fillValue:s,center:i}=r,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(l.dataId).id,[d,p,h,f]=a.shape,[m,g]=Iy(i,p,h),v="number"===typeof s?[s,s,s,0===s?0:255]:[...s,255],y=new Uint8Array(new Int32Array(v).buffer);return P_(u,d,p,h,f,o,m,g,y,v.length,c),l},setupFunc:function(e){P_=e.wasm.cwrap(wu,null,["number","number","number","number","number","number","number","number","array","number","number"])}},z_=Jw(Ml),B_=Jw(Ol);let W_;const U_={kernelName:Rl,backendName:"wasm",setupFunc:function(e){W_=e.wasm.cwrap(Rl,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:a,updates:o}=n,{shape:s}=r,i=t.makeOutput(s,o.dtype);if(0===zo(s))return i;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Jp(0,a,s),h=t.dataIdMap.get(a.dataId).id,f=t.dataIdMap.get(o.dataId).id,m=new Uint8Array(new Int32Array(d).buffer),g=t.dataIdMap.get(i.dataId).id;return W_(h,f,Bw[o.dtype],l,u,c,m,p,g),i}};let j_;const H_={kernelName:Fl,backendName:"wasm",setupFunc:function(e){j_=e.wasm.cwrap(Fl,null,["number","number","number","number","number","number","bool","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:o}=t,{side:s}=r;if(a.dtype!==o.dtype)throw new Error("SearchSorted error: sorted_sequence must have the same dtype as values. Got ".concat(a.dtype," and ").concat(o.dtype));const i=n.makeOutput(o.shape,"int32");function l(e){return n.dataIdMap.get(e.dataId).id}return j_(l(a),l(o),a.shape[0],a.shape[1],o.shape[1],Bw[a.dtype],"left"===s,l(i)),i}};let V_;const q_={kernelName:Pl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t,s=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(o.dataId).id,u=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(u.dataId).id,d=r.shape.length,p=a.shape.length,h=0===d||d>1||1===p?1:zo(a.shape.slice(1));return V_(s,i,l,h,c),u},setupFunc:function(e){V_=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}},G_=Jw(Ll);let K_;const $_={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){K_=e.wasm.cwrap(jl,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(a.dataId).id;return 0===zo(a.shape)||K_(r,o),a}},Y_=Jw(Ul),Q_=Jw(Bl),X_=Jw(Wl),J_=Jw(Hl);const Z_={kernelName:Gl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:s}=r,i=zo(o),l=[[0,0]];l.push(...s);for(let g=1+o.length;g<a.shape.length;++g)l.push([0,0]);const u=f_.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=Ey(u.shape,o,i,!1),d=Ty(c.length,o.length,!1),p=Ny(u.shape,o,i,!1),h=Ok({inputs:{x:u},backend:n,attrs:{shape:c}}),f=uk({inputs:{x:h},backend:n,attrs:{perm:d}}),m=Ok({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeData(u.dataId),n.disposeData(h.dataId),n.disposeData(f.dataId),m}};let eI;const tI={kernelName:Yl,backendName:"wasm",setupFunc:function(e){eI=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:r,values:a,denseShape:o,defaultValue:s}=n,i=r.shape[0],l=r.shape[1],u=t.readSync(o.dataId)[0],c=[i+u,l],d=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(a.dataId).id,h=t.dataIdMap.get(s.dataId).id,f=t.makeOutput(c,r.dtype),m=t.dataIdMap.get(f.dataId).id,g=t.makeOutput(c.slice(0,1),a.dtype),v=t.dataIdMap.get(g.dataId).id,y=t.makeOutput([u],"bool"),b=t.dataIdMap.get(y.dataId).id,w=t.makeOutput([i],r.dtype),k=t.dataIdMap.get(w.dataId).id,S=t.makeOutput([4],"int32"),x=t.dataIdMap.get(S.dataId).id,_=eI(d,p,Bw[a.dtype],i,u,l,h,m,v,b,k,x),I=t.readSync(S.dataId);let E;switch(I[0]){case 1:E=Uy(I[1]);break;case 2:E=jy(I[1],I[2]);break;case 3:E=Hy(I[1],I[2],I[3]);break;default:E=""}if(t.disposeData(S.dataId),E)throw t.disposeData(f.dataId),t.disposeData(g.dataId),t.disposeData(y.dataId),t.disposeData(w.dataId),new Error(E);let T=f,N=g;return _!==c[0]&&(T=Wk({inputs:{x:f},attrs:{begin:0,size:[_,l]},backend:t}),N=Wk({inputs:{x:g},attrs:{begin:0,size:_},backend:t}),t.disposeData(f.dataId),t.disposeData(g.dataId)),[T,N,y,w]}};let nI;const rI={kernelName:Ql,backendName:"wasm",setupFunc:function(e){nI=e.wasm.cwrap(Ql,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:r,inputShape:a,newShape:o}=n;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const s=t.dataIdMap.get(r.dataId).id,i=t.dataIdMap.get(a.dataId).id,l=t.dataIdMap.get(o.dataId).id,u=r.shape[0],c=zo(o.shape),d=t.makeOutput([u,c],r.dtype),p=t.dataIdMap.get(d.dataId).id,h=t.makeOutput([c],o.dtype),f=t.dataIdMap.get(h.dataId).id,m=t.makeOutput([3],"int32"),g=t.dataIdMap.get(m.dataId).id;nI(s,i,l,u,p,f,g);const v=t.readSync(m.dataId);let y;switch(v[0]){case 0:y=Vy(v[1],v[2]);break;case 1:y=qy(v[1],v[2]);break;case 2:y="reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero";break;case 3:y=Gy(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;case 4:y=Ky(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;default:y=""}if(t.disposeData(m.dataId),y)throw t.disposeData(d.dataId),t.disposeData(h.dataId),new Error(y);return[d,h]}};let aI;function oI(e){aI=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function sI(e,t){const{backend:n,inputs:r}=e,{data:a,indices:o,segmentIds:s}=r,i=o.shape[0],l=n.readSync(s.dataId,i-1,i)[0],u=i>0?l+1:0;if(u<0)throw new Error("segment ids must be >= 0");const c=a.shape.slice();c[0]=u;const d=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(o.dataId).id,h=n.dataIdMap.get(s.dataId).id,f=n.makeOutput(c,a.dtype),m=n.dataIdMap.get(f.dataId).id,g=n.makeOutput([4],"int32"),v=n.dataIdMap.get(g.dataId).id;aI(d,Bw[a.dtype],a.shape[0],p,h,m,v,t,0);const y=n.readSync(g.dataId);let b;switch(y[0]){case 0:b="segment ids must be >= 0";break;case 1:b="segment ids are not increasing";break;case 2:b=$y(y[1],y[2]);break;case 3:b=Yy(y[1],y[2],y[3]);break;default:b=""}if(n.disposeData(g.dataId),b)throw n.disposeData(f.dataId),new Error(b);return f}const iI={kernelName:Xl,backendName:"wasm",setupFunc:oI,kernelFunc:function(e){return sI(e,!0)}};const lI={kernelName:Jl,backendName:"wasm",setupFunc:oI,kernelFunc:function(e){return sI(e,!1)}};let uI;const cI={kernelName:Zl,backendName:"wasm",setupFunc:function(e){uI=e.wasm.cwrap(Zl,null,["number","number","number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{sparseIndices:a,sparseValues:o,defaultValue:s}=n,{outputShape:i}=r,l=t.makeOutput(i,s.dtype);if(0===zo(i))return l;const{sliceRank:u,numUpdates:c,sliceSize:d,strides:p,outputSize:h}=Jp(0,a,i),f=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(o.dataId).id,g=t.dataIdMap.get(s.dataId).id,v=new Uint8Array(new Int32Array(p).buffer),y=t.dataIdMap.get(l.dataId).id;return uI(f,m,o.shape.length,g,Bw[s.dtype],u,c,d,v,h,y),l}};const dI={kernelName:Kl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:s}=n,i=Ho(s,a.shape)[0],l=Wy(a,o,i),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map((e=>{const t=[...c];t[i]=e;const n=Wk({inputs:{x:a},attrs:{begin:u,size:t},backend:r});return u[i]+=e,n}))}},pI=Jw(Vl),hI=Jw(tu),fI=nk(eu);let mI;const gI={kernelName:yu,backendName:"wasm",setupFunc:function(e){mI=e.wasm.cwrap(yu,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{alpha:a}=r,{x:o}=n,s=t.dataIdMap.get(o.dataId).id,i=t.makeOutput(o.shape,o.dtype),l=t.dataIdMap.get(i.dataId).id;return mI(s,a,Bw[o.dtype],l),i}};let vI;const yI={kernelName:ru,backendName:"wasm",setupFunc:function(e){vI=e.wasm.cwrap(ru,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{begin:o,end:s,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:y,end:b,strides:w}=rh(a.shape,o,s,i,l,u,c,d,p);let k;if(m)k=Ok({inputs:{x:a},backend:t,attrs:{shape:f}});else if(g||v){Fo(a.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(a.shape.length)));const e=Zp(y,b,w),n=Wk({inputs:{x:a},backend:t,attrs:{begin:y,size:e}});k=Ok({inputs:{x:n},backend:t,attrs:{shape:f}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(h,"float32"),n=t.dataIdMap.get(a.dataId).id,r=new Uint8Array(new Int32Array(Qo(a.shape)).buffer),o=new Uint8Array(new Int32Array(y).buffer),s=new Uint8Array(new Int32Array(b).buffer),i=new Uint8Array(new Int32Array(w).buffer),l=new Uint8Array(new Int32Array(h).buffer),u=new Uint8Array(new Int32Array(Qo(h)).buffer),c=t.dataIdMap.get(e.dataId).id;vI(n,r,a.shape.length,o,s,i,l,u,h.length,c),k=Ok({inputs:{x:e},backend:t,attrs:{shape:f}}),t.disposeData(e.dataId)}return k}};class bI{constructor(e,t,n,r,a,o){this.separator=Qu(e),this.nGramWidths=t,this.leftPad=Qu(n),this.rightPad=Qu(r),this.padWidth=a,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,o){for(let s=0;s<a;++s){const i=this.getPadWidth(o),l=Math.max(0,i-s),u=Math.max(0,i-(a-(s+1))),c=o-(l+u),d=t+(l>0?0:s-i);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length;p+=(l+u+c-1)*this.separator.length,n[r+s]=new Uint8Array(p);const h=n[r+s];let f=0;const m=e=>e.forEach((e=>h[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error("Invalid split value ".concat(t[a],", must be in [").concat(e,", ").concat(n,"]"));e=t[a]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const a=r-1,o=qo("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)o[t]=0;return[e,o]}o[0]=0;for(let i=1;i<=a;++i){const e=t[i]-t[i-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),o[i]=o[i-1]+n}const s=new Array(o[a]);for(let i=0;i<a;++i){const n=t[i];let r=o[i];if(this.nGramWidths.forEach((a=>{const o=t[i+1]-t[i],l=this.getNumNGrams(o,a);this.createNGrams(e,n,s,r,l,a),r+=l})),this.preserveShort&&r===o[i]){const a=t[i+1]-t[i];if(0===a)continue;const o=a+2*this.padWidth,l=1;this.createNGrams(e,n,s,r,l,o)}}return[s,o]}}function wI(e,t,n,r,a,o,s,i){return new bI(n,r,a,o,s,i).compute(e,t)}const kI={kernelName:au,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{data:a,dataSplits:o}=n,{separator:s,nGramWidths:i,leftPad:l,rightPad:u,padWidth:c,preserveShortSequences:d}=r,p=t.readSync(a.dataId),h=t.readSync(o.dataId),[f,m]=wI(p,h,s,i,l,u,c,d),g=t.makeOutput([f.length],"string");t.dataIdMap.get(g.dataId).stringBytes=f;const v=t.makeOutput(o.shape,"int32");return t.typedArrayFromHeap(v).set(m),[g,v]}};function SI(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let o=e.indexOf(a);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||r.push(t),o=(e=e.subarray(o+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(a,o);n&&0===t.length||r.push(t),a=o+1}}function xI(e,t,n){const r=e.length,a=[];let o=0,s=0;const i=new Array(r);for(let p=0;p<r;++p){const r=a.length;SI(e[p],t,n,a);const l=a.length-r;i[p]=l,o+=l,s=Math.max(s,l)}const l=qo("int32",2*o),u=new Array(o),c=[r,s];let d=0;for(let p=0;p<r;++p)for(let e=0;e<i[p];++e)l[2*d]=p,l[2*d+1]=e,u[d]=a[d],++d;return[l,u,c]}const _I={kernelName:ou,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a,delimiter:o}=n,{skipEmpty:s}=r,i=t.readSync(a.dataId),l=t.readSync(o.dataId),[u,c,d]=xI(i,l[0],s),p=c.length,h=t.makeOutput([p,2],"int32");t.typedArrayFromHeap(h).set(u);const f=t.makeOutput([p],"string");t.dataIdMap.get(f.dataId).stringBytes=c;const m=t.makeOutput([2],"int32");return t.typedArrayFromHeap(m).set(d),[h,f,m]}};function II(e,t){const n=qo("int32",e.length);for(let r=0;r<e.length;++r)n[r]=Gu(e[r]).modulo(t).getLowBitsUnsigned();return n}const EI={kernelName:su,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a}=n,{numBuckets:o}=r,s=II(t.readSync(a.dataId),o),i=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(i).set(s),i}},TI=nk(iu);let NI;const CI={kernelName:ql,backendName:"wasm",setupFunc:function(e){NI=e.wasm.cwrap(ql,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=dk(s,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e,f=Rf(f.length,u.shape.length))}Af("sum",f,u.shape.length);const[m,g]=Nf(u.shape,f),v=zo(g),y=t.makeOutput(m,u.dtype);if(0!==zo(u.shape)){const e=t.dataIdMap.get(y.dataId).id;NI(l,v,Bw[y.dtype],e)}if(h&&t.disposeData(c.dataId),o){const e=Cf(y.shape,p);y.shape=e}return y}},AI=Jw(lu),MI=Jw(uu);let OI;const RI={kernelName:Dl,backendName:"wasm",setupFunc:function(e){OI=e.wasm.cwrap(Dl,null,["number","number","number","number","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{tensor:a,indices:o,updates:s}=n,{}=r,i=t.makeOutput(a.shape,a.dtype);if(0===zo(a.shape))return i;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Jp(0,o,a.shape),h=t.dataIdMap.get(o.dataId).id,f=t.dataIdMap.get(s.dataId).id,m=t.dataIdMap.get(a.dataId).id,g=new Uint8Array(new Int32Array(d).buffer),v=t.dataIdMap.get(i.dataId).id;return OI(h,f,Bw[s.dtype],l,u,c,g,p,v,m),i}};let DI;const FI={kernelName:cu,backendName:"wasm",setupFunc:function(e){DI=e.wasm.cwrap(cu,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,o=n.dataIdMap.get(a.dataId).id,{reps:s}=r,i=new Array(a.shape.length);for(let p=0;p<i.length;p++)i[p]=a.shape[p]*s[p];const l=new Uint8Array(new Int32Array(a.shape).buffer),u=new Uint8Array(new Int32Array(i).buffer),c=n.makeOutput(i,a.dtype),d=n.dataIdMap.get(c.dataId).id;return DI(o,l,a.shape.length,u,i.length,Bw[c.dtype],d),c}};let PI;const LI={kernelName:du,backendName:"wasm",setupFunc:function(e){PI=e.wasm.cwrap(du,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a}=t,{k:o,sorted:s}=r,i=n.dataIdMap.get(a.dataId).id,l=new Uint8Array(new Int32Array(a.shape).buffer),u=a.shape.slice();u[u.length-1]=o;const c=n.makeOutput(u,a.dtype),d=n.dataIdMap.get(c.dataId).id,p=n.makeOutput(u,"int32"),h=n.dataIdMap.get(p.dataId).id;return PI(i,l,a.shape.length,Bw[a.dtype],o,s,d,h),[c,p]}};let zI;const BI={kernelName:pu,backendName:"wasm",setupFunc:function(e){zI=e.wasm.cwrap(pu,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{image:a,transforms:o}=n,{interpolation:s,fillMode:i,fillValue:l,outputShape:u}=r,[c,d,p,h]=a.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],v=new Uint8Array(new Int32Array(Qo(a.shape)).buffer),y=new Uint8Array(new Int32Array(Qo(g)).buffer),b=t.makeOutput(g,a.dtype),w=t.dataIdMap.get(b.dataId).id,k=t.dataIdMap.get(a.dataId).id,S=t.dataIdMap.get(o.dataId).id,x="nearest"===s?1:2;let _;switch(i){case"constant":default:_=1;break;case"reflect":_=2;break;case"wrap":_=3;break;case"nearest":_=4}return zI(k,S,o.shape[0]>1,c,f,m,h,p,d,v,a.shape.length-1,y,g.length-1,x,_,l,w),b}};function WI(e,t,n,r){const a=Ho(t,n)[0],o=[1,n[0],1];for(let f=0;f<a;f++)o[0]*=n[f];o[1]=n[a];for(let f=a+1;f<n.length;f++)o[2]*=n[f];const s=new Map,i=new Int32Array(n[a]),l=new lc(o,r,e),u=[],c=1===o[0]&&1===o[2];for(let f=0;f<n[a];f++){let t;if(c)t=e[f].toString();else{const e=[];for(let t=0;t<o[0];t++)for(let n=0;n<o[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=s.get(t);if(null!=n)i[f]=n;else{const e=s.size;s.set(t,e),i[f]=e,u.push(f)}}const d=o.slice();d[1]=s.size;const p=new lc(d,r);u.forEach(((e,t)=>{for(let n=0;n<o[0];n++)for(let r=0;r<o[2];r++)p.set(l.get(n,e,r),n,t,r)}));const h=n.slice();return h[a]=d[1],{outputValues:p.values,outputShape:h,indices:i}}const UI={kernelName:fu,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:o}=t,{outputValues:s,outputShape:i,indices:l}=WI(r.readSync(o.dataId),a,o.shape,o.dtype);return[r.makeOutput(i,o.dtype,void 0,s),r.makeOutput([l.length],"int32",void 0,l)]}};const jI={kernelName:mu,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:o}=r;o<0&&(o+=a.shape.length);const s=a.shape[o],i=a.shape.length,l=new Array(i-1);let u=0;for(let h=0;h<i;h++)h!==o&&(l[u++]=a.shape[h]);const c=new Array(s),d=new Array(i).fill(0),p=a.shape.slice();p[o]=1;for(let h=0;h<c.length;h++)d[o]=h,c[h]=Wk({inputs:{x:a},attrs:{begin:d,size:p},backend:n});return c.map((e=>{let{dataId:t,dtype:n}=e;return{dataId:t,dtype:n,shape:l}}))}};const HI={kernelName:vu,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}},VI=[Xw,Zw,ek,tk,rk,ok,hk,mk,vk,yk,bk,wk,kk,Sk,xk,Ik,Mk,Tk,Ck,Fk,jk,Vk,qk,Gk,$k,Yk,Xk,eS,nS,aS,sS,lS,cS,dS,pS,mS,vS,bS,kS,xS,IS,TS,CS,MS,RS,DS,PS,LS,zS,BS,US,jS,VS,GS,KS,$S,QS,JS,ex,nx,ax,ox,sx,ik,ix,lx,ux,dx,px,hx,mx,vx,gx,yx,bx,wx,kx,xx,Ix,Tx,Nx,Ax,Ox,Dx,Px,zx,Wx,jx,Hx,Gx,Xx,Jx,Zx,e_,r_,o_,i_,l_,c_,d_,p_,f_,m_,v_,b_,k_,S_,x_,__,I_,Rk,T_,C_,M_,R_,F_,L_,z_,B_,U_,H_,q_,G_,$_,Y_,Q_,X_,Uk,Yx,J_,Z_,tI,rI,iI,lI,cI,dI,pI,hI,fI,gI,yI,kI,_I,EI,TI,CI,AI,MI,RI,FI,LI,BI,ck,UI,jI,HI];for(const n of VI)Au(n);const qI=us();qI.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(rB){return!1}})),qI.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(qI.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(rB){return!1}}));var GI=n(9764),KI=n.n(GI),$I=n(8562),YI=n(1372),QI=n.n(YI);const XI=KI()||GI,JI=QI()||YI;class ZI extends Mo{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(lE),uE=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new Ao(this,Kd())}write(e,t,n){const r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=Yu();e();return{kernelMs:Yu()-t}}move(e,t,n,r,a){const o=this.dataIdNextNumber++;if("string"===r){const s=t;return void this.dataIdMap.set(e,{id:o,stringBytes:s,shape:n,dtype:r,memoryOffset:null,refCount:a})}const s=zo(n),i=s*Go(r),l=this.wasm._malloc(i)>>>0;this.dataIdMap.set(e,{id:o,memoryOffset:l,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(o,s,l),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,i),l)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:r,dtype:a,shape:o,stringBytes:s}=this.dataIdMap.get(e);if("string"===a)return null!=t&&0!==t||!(null==n||n>=s.length)?s.slice(t,n):s;t=t||0,n=n||zo(o);const i=Go(a);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error("Unknown dtype ".concat(t))}}(this.wasm.HEAPU8.slice(r+t*i,r+n*i).buffer,a)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n,r){let a;if(null==n)a=this.write(null!==r&&void 0!==r?r:null,e,t);else{const r=this.dataIdNextNumber++;a={id:r},this.dataIdMap.set(a,{id:r,memoryOffset:n,shape:e,dtype:t,refCount:1});const o=zo(e);this.wasm.tfjs.registerTensor(r,o,n)}return{dataId:a,shape:e,dtype:t}}typedArrayFromHeap(e){let{shape:t,dtype:n,dataId:r}=e;const a=this.wasm.HEAPU8.buffer,{memoryOffset:o}=this.dataIdMap.get(r),s=zo(t);switch(n){case"float32":return new Float32Array(a,o,s);case"int32":return new Int32Array(a,o,s);case"bool":return new Uint8Array(a,o,s);default:throw new Error("Unknown dtype ".concat(n))}}}function eE(e){return(t,n)=>(function(e,t){return us().platform.fetch(e,t)}(e,{credentials:"same-origin"}).then((r=>{r.ok||t.env.a("failed to load wasm binary file at '".concat(e,"'")),r.arrayBuffer().then((e=>{WebAssembly.instantiate(e,t).then((e=>{n(e.instance,e.module)}))}))})),{})}function tE(e,t,n){if(null!=rE)return rE;let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=oE&&null!=oE[r]?oE[r]:n+r}const nE=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let rE=null,aE=null,oE={},sE=!1,iE=!1;let lE=-1,uE=null;Jd("wasm",(async()=>{const{wasm:e}=await async function(){const[e,t]=await Promise.all([us().getAsync("WASM_HAS_SIMD_SUPPORT"),us().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,r)=>{const a={locateFile:(n,r)=>{if(n.endsWith(".worker.js")){const e=$I.$.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?tE(e,t,null!=aE?aE:r):r+n}};iE&&(a.instantiateWasm=eE(tE(e,t,null!=aE?aE:"")));let o,s=!1;a.onAbort=()=>{s||sE||(sE=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},t&&e&&null==rE?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+XI.toString()],{type:"text/javascript"}),o=XI(a)):o=JI(a),o.then((e=>{s=!0,sE=!1,e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})})).catch(r)}))}();return new ZI(e)}),2);const cE=Qg;class dE extends Mo{nextDataId(){return dE.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Ao(this,Kd())}write(e,t,n){this.firstUse&&(this.firstUse=!1,us().get("IS_NODE")&&_u("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Ko(n[0])){const a=n.map((e=>Qu(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return My(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>Xu(e)));return Hd(e.shape,e.dtype,n)}catch(Yn){throw new Error("Failed to decode encoded string bytes into utf-8")}return Hd(e.shape,e.dtype,t)}makeOutput(e,t,n){return Kd().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=Yu();e();return{kernelMs:Yu()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Pk([e],"where");const t=this.readSync(e.dataId);return cE(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function pE(e){return(t,n,r)=>{const a=qo(n,t.length);for(let o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}function hE(e,t,n){return fE(e,pE(t),n)}function fE(e,t,n){return r=>{let{inputs:a,attrs:o,backend:s}=r;const{x:i}=a;Pk(i,e);const l=s,u=l.data.get(i.dataId).values;let c;if("string"===i.dtype){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=Xy(u)}else c=u;const d=n||i.dtype,p=t(c,d,o);return l.makeTensorInfo(i.shape,d,p)}}dE.nextDataId=0,Jd("cpu",(()=>new dE),1);const mE=hE(pi,(e=>e>=0?e:Math.exp(e)-1)),gE={kernelName:pi,backendName:"cpu",kernelFunc:mE};function vE(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const yE={kernelName:Ni,backendName:"cpu",kernelFunc:vE};function bE(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:o}=r;Pk([a],"leakyRelu");const s=zo(a.shape),i=n.data.get(a.dataId).values,l=Vo("float32",s);for(let u=0;u<i.length;u++)l[u]=i[u]<0?o*i[u]:i[u];return n.makeTensorInfo(a.shape,"float32",l)}const wE={kernelName:Di,backendName:"cpu",kernelFunc:bE};function kE(e){return(t,n,r,a,o)=>{const s=bp(t,n),i=s.length,l=Qo(s),u=Vo(o,zo(s)),c=t.length,d=n.length,p=Qo(t),h=Qo(n),f=yp(t,s),m=yp(n,s);if(f.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],a[g%a.length]);else for(let g=0;g<u.length;++g){const t=as(g,i,l),n=t.slice(-c);f.forEach((e=>n[e]=0));const o=rs(n,c,p),s=t.slice(-d);m.forEach((e=>s[e]=0));const v=rs(s,d,h);u[g]=e(r[o],a[v])}return[u,s]}}const SE=kE(((e,t)=>e<0?t*e:e));function xE(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;Pk([r,a],"prelu");const o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,[i,l]=SE(r.shape,a.shape,o,s,"float32");return n.makeTensorInfo(l,"float32",i)}const _E={kernelName:ml,backendName:"cpu",kernelFunc:xE},IE=hE(xl,(e=>Math.max(0,e))),EE={kernelName:xl,backendName:"cpu",kernelFunc:IE},TE=hE(Cl,(e=>Math.min(Math.max(0,e),6))),NE={kernelName:Cl,backendName:"cpu",kernelFunc:TE},CE=(pE((e=>1/(1+Math.exp(-e)))),hE(jl,(e=>1/(1+Math.exp(-e))))),AE={kernelName:jl,backendName:"cpu",kernelFunc:CE};function ME(e,t,n,r,a){if("linear"===n)return vE({inputs:{x:t},backend:e});if("relu"===n)return IE({inputs:{x:t},backend:e});if("elu"===n)return mE({inputs:{x:t},backend:e});if("relu6"===n)return TE({inputs:{x:t},backend:e});if("prelu"===n)return xE({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return bE({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return CE({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function OE(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,i=n.makeTensorInfo(r.shape,"complex64");return n.data.get(i.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",s)},i}const RE={kernelName:Ws,backendName:"cpu",kernelFunc:OE};function DE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return OE({inputs:{real:DE(e,t,"float32"),imag:DE(e,t,"float32")},backend:e})}const r=es(zo(t),n);return e.makeTensorInfo(t,n,r)}function FE(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const PE={kernelName:kl,backendName:"cpu",kernelFunc:FE};function LE(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:o}=r;if("complex64"===o){if("complex64"===a.dtype)return vE({inputs:{x:a},backend:n});const e=DE(n,a.shape,a.dtype),t=LE({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=OE({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=FE({inputs:{input:a},backend:n}),t=LE({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(s=a.dtype,"complex64"===(i=o)||"float32"===i&&"complex64"!==s||"int32"===i&&"float32"!==s&&"complex64"!==s||"bool"===i&&"bool"===s){const e=vE({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}var s,i;const l=n.data.get(a.dataId).values,[u,c,d]=function(e,t,n,r){if("int32"===r)return[t,"int32",Int32Array.from(e)];if("bool"===r){const r=$u([0],n),[a,o]=kE(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[o,"bool",a]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(r))}(l,a.shape,a.dtype,o);return n.makeTensorInfo(u,c,d)}const zE={kernelName:Ls,backendName:"cpu",kernelFunc:LE};function BE(e,t,n,r){return null==n?n=>{let{inputs:a,backend:o}=n;const{a:s,b:i}=a,l=o;Pk([s,i],e);const u=l.data.get(s.dataId).values,c=l.data.get(i.dataId).values,d="string"===s.dtype?Xy(u):u,p="string"===s.dtype?Xy(c):c,h=r||s.dtype,[f,m]=t(s.shape,i.shape,d,p,h);return l.makeTensorInfo(m,h,f)}:e=>{let{inputs:a,backend:o}=e;const{a:s,b:i}=a,l=o;if("complex64"===s.dtype||"complex64"===i.dtype){const e=LE({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,o=l.data.get(r.dataId).values,u=l.data.get(a.dataId).values,c=LE({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=l.data.get(p.dataId).values,m=l.data.get(h.dataId).values,[g,v,y]=n(s.shape,i.shape,o,u,f,m),b=l.makeTensorInfo(y,"float32",g),w=l.makeTensorInfo(y,"float32",v),k=OE({inputs:{real:b,imag:w},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(b),l.disposeIntermediateTensorInfo(w),k}{const e=l.data.get(s.dataId).values,n=l.data.get(i.dataId).values,a=r||s.dtype,[o,u]=t(s.shape,i.shape,e,n,a);return l.makeTensorInfo(u,a,o)}}}function WE(e){return(t,n,r,a,o,s)=>{const i=bp(t,n),l=zo(i),u=i.length,c=Qo(i),d=Vo("float32",l),p=Vo("float32",l),h=yp(t,i),f=yp(n,i),m=My(r,a),g=My(o,s),v=t.length,y=Qo(t),b=n.length,w=Qo(n);if(h.length+f.length===0)for(let k=0;k<d.length;k++){const t=k%m.length,n=k%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[k]=r.real,p[k]=r.imag}else for(let k=0;k<d.length;k++){const t=as(k,u,c),n=t.slice(-v);h.forEach((e=>n[e]=0));const r=rs(n,v,y),a=t.slice(-b);f.forEach((e=>a[e]=0));const o=rs(a,b,w),s=e(m[2*r],m[2*r+1],g[2*o],g[2*o+1]);d[k]=s.real,p[k]=s.imag}return[d,p,i]}}const UE=kE(((e,t)=>e+t)),jE=WE(((e,t,n,r)=>({real:e+n,imag:t+r}))),HE=BE(vs,UE,jE),VE={kernelName:vs,backendName:"cpu",kernelFunc:HE};function qE(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:o}=r,s=zo(a.shape),i=jo(o,s),l=zo(i);Fo(s===l,(()=>"The new shape (".concat(i,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements.")),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=i,t.shape=i}return{dataId:a.dataId,shape:i,dtype:a.dtype}}const GE={kernelName:_l,backendName:"cpu",kernelFunc:qE};function KE(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:s,transposeB:i}=r;Pk([a,o],"matMul");const l=a.shape.length,u=o.shape.length,c=s?a.shape[l-2]:a.shape[l-1],d=i?o.shape[u-1]:o.shape[u-2],p=s?a.shape[l-1]:a.shape[l-2],h=i?o.shape[u-2]:o.shape[u-1],f=a.shape.slice(0,-2),m=o.shape.slice(0,-2),g=zo(f),v=zo(m),y=bp(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);Fo(c===d,(()=>"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(i," must match.")));const b=i?[v,h,d]:[v,d,h],w=qE({inputs:{x:a},backend:n,attrs:{shape:s?[g,c,p]:[g,p,c]}}),k=qE({inputs:{x:o},backend:n,attrs:{shape:b}}),S=s?w.shape[1]:w.shape[2],x=s?w.shape[2]:w.shape[1],_=i?k.shape[1]:k.shape[2],I=Math.max(g,v),E=n.data.get(w.dataId).values,T=n.data.get(k.dataId).values,N=Qo(w.shape),C=Qo(k.shape),[A,M,O]=s?[N[0],1,N[1]]:[N[0],N[1],1],[R,D,F]=i?[1,C[1],C[0]]:[C[1],1,C[0]],P=x*_,L=Hd([I,x,_],w.dtype),z=L.values,B=n.blockSize;for(let W=0;W<I;W++){const e=W%g,t=W%v;for(let n=0;n<x;n+=B){const r=Math.min(n+B,x);for(let a=0;a<_;a+=B){const o=Math.min(a+B,_);for(let s=0;s<S;s+=B){const i=Math.min(s+B,S);for(let l=n;l<r;l++)for(let n=a;n<o;n++){let r=0;for(let a=s;a<i;a++){r+=E[e*A+l*M+a*O]*T[a*R+n*D+t*F]}z[W*P+(l*_+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(y,L.dtype,L.values)}const $E={kernelName:Os,backendName:"cpu",kernelFunc:KE};const YE={kernelName:ku,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o,bias:s,preluActivationWeights:i}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;let p,h,f;const m=[];p=KE({inputs:{a:a,b:o},attrs:{transposeA:l,transposeB:u},backend:n}),s&&(h=HE({inputs:{a:p,b:s},backend:n}),m.push(p),p=h),c&&(f=ME(n,p,c,i,d),m.push(p),p=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return p}};const QE={kernelName:fs,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;Pk(t,"abs");let r=new Float32Array(zo(t.shape));return r=function(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},XE=hE(ms,(e=>Math.acos(e))),JE={kernelName:ms,backendName:"cpu",kernelFunc:XE},ZE=hE(gs,(e=>Math.acosh(e))),eT={kernelName:gs,backendName:"cpu",kernelFunc:ZE};const tT={kernelName:ys,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;Pk(t,"addN");const a=r.map((e=>n.data.get(e.dataId).values)),o=Hd(r[0].shape,r[0].dtype),s=o.values;for(let i=0;i<r.length;i++){const e=a[i];for(let t=0;t<s.length;t++)s[t]+=e[t]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function nT(e,t,n,r,a){const o=t.length,s=zo(t),i=Qo(t),l=Qo(a),u=Vo(n,zo(a));for(let c=0;c<s;++c){const t=as(c,o,i),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[rs(n,o,l)]=e[c]}return u}function rT(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:o}=n;Pk(a,"transpose");const s=a.shape.length,i=new Array(s);for(let u=0;u<i.length;u++)i[u]=a.shape[o[u]];const l=nT(r.data.get(a.dataId).values,a.shape,a.dtype,o,i);return{dataId:r.write(l,i,a.dtype),shape:i,dtype:a.dtype}}const aT={kernelName:hu,backendName:"cpu",kernelFunc:rT};const oT={kernelName:bs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;Pk(a,"all");const i=Ho(o,a.shape);let l=i;const u=Mf(l,a.shape.length);let c=a;null!=u&&(c=rT({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Rf(l.length,a.shape.length)),Af("all",l,c.shape.length);const[d,p]=Nf(c.shape,l),h=zo(p),f=es(zo(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<f.length;++v){const e=v*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t&&r}f[v]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(s){const e=qE({inputs:{x:g},backend:n,attrs:{shape:Cf(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const sT={kernelName:ws,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;Pk(a,"any");const i=Ho(o,a.shape);let l=i;const u=Mf(l,a.shape.length);let c=a;null!=u&&(c=rT({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Rf(l.length,a.shape.length)),Af("any",l,c.shape.length);const[d,p]=Nf(c.shape,l),h=zo(p),f=es(zo(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<f.length;++v){const e=v*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t||r}f[v]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(s){const e=qE({inputs:{x:g},backend:n,attrs:{shape:Cf(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const iT={kernelName:ks,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o}=r;Pk(a,"argMax");let s=Ho(o,a.shape);const i=Mf(s,a.shape.length);let l=a;const u=[];null!=i&&(l=rT({inputs:{x:a},backend:n,attrs:{perm:i}}),u.push(l),s=Rf(s.length,l.shape.length)),s=[s[0]],Af("argMax",s,l.shape.length);const[c,d]=Nf(l.shape,s),p=es(zo(c),"int32"),h=zo(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a>t&&(t=a,n=r)}p[m]=n}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",p)}};const lT={kernelName:Ss,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o}=r;Pk(a,"argMin");let s=Ho(o,a.shape);const i=Mf(s,a.shape.length);let l=a;const u=[];null!=i&&(l=rT({inputs:{x:a},backend:n,attrs:{perm:i}}),u.push(l),s=Rf(s.length,l.shape.length)),s=[s[0]],Af("argMin",s,l.shape.length);const[c,d]=Nf(l.shape,s),p=es(zo(c),"int32"),h=zo(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a<t&&(t=a,n=r)}p[m]=n}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",p)}},uT=hE(xs,(e=>Math.asin(e))),cT={kernelName:xs,backendName:"cpu",kernelFunc:uT},dT=hE(_s,(e=>Math.asinh(e))),pT={kernelName:_s,backendName:"cpu",kernelFunc:dT},hT=hE(Is,(e=>Math.atan(e))),fT={kernelName:Is,backendName:"cpu",kernelFunc:hT},mT=kE(((e,t)=>Math.atan2(e,t))),gT=BE(Ts,mT),vT={kernelName:Ts,backendName:"cpu",kernelFunc:gT},yT=hE(Es,(e=>Math.atanh(e))),bT={kernelName:Es,backendName:"cpu",kernelFunc:yT};function wT(e,t,n,r,a,o){const s=a.strideHeight,i=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,f="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Hd(a.outShape,n),g=m.values,v=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let w=0;w<a.batchSize;++w){const t=w*v,n=w*r[0];for(let m=0;m<a.inChannels;++m)for(let v=0;v<a.outHeight;++v){const w=v*s-p,k=Math.max(0,w),S=Math.min(a.inHeight,c+w),x=t+v*y;for(let t=0;t<a.outWidth;++t){const s=t*i-h,c=Math.max(0,s),p=Math.min(a.inWidth,d+s);let v=f,y=0,w=0;for(let t=k;t<S;t+=l){const a=n+t*r[1];for(let t=c;t<p;t+=u){const n=e[a+t*r[2]+m];"max"===o&&n>v?v=n:"avg"===o&&(y+=n,w++)}if(isNaN(v))break}g[x+t*b+m]="avg"===o?y/w:v}}}return m}function kT(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=Hd(r.outShape,"int32"),i=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,m=Hd(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*i-h;let v=n;for(;v<0;)v+=u;const y=Math.min(r.inHeight,d+n);for(let i=0;i<r.outWidth;++i){const d=i*l-f;let h=d;for(;h<0;)h+=c;const b=Math.min(r.inWidth,p+d);let w=Number.NEGATIVE_INFINITY,k=-1;for(let t=v;t<y;t+=u){const s=t-n;for(let n=h;n<b;n+=c){const i=n-d,l=m.get(g,t,n,e);l>w&&(w=l,k=a?o?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:s*p+i)}}s.set(k,g,t,i,e)}}return s}function ST(e,t,n,r,a,o){const s=a.strideDepth,i=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,f=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,v=a.padInfo.left,y="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Hd(a.outShape,n),w=b.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[2]*a.outShape[3]*a.outShape[4],x=a.outShape[3]*a.outShape[4],_=a.outShape[4];for(let I=0;I<a.batchSize;++I){const t=I*k,n=I*r[0];for(let b=0;b<a.inChannels;++b)for(let k=0;k<a.outDepth;++k){const I=k*s-m;let E=I;for(;E<0;)E+=u;const T=Math.min(a.inDepth,p+I),N=t+k*S;for(let t=0;t<a.outHeight;++t){const s=t*i-g;let p=s;for(;p<0;)p+=c;const m=Math.min(a.inHeight,h+s),k=N+t*x;for(let t=0;t<a.outWidth;++t){const s=t*l-v;let i=s;for(;i<0;)i+=d;const h=Math.min(a.inWidth,f+s),g=k+t*_;let S=y,x=0,I=0;for(let t=E;t<T;t+=u){const a=n+t*r[1];for(let t=p;t<m;t+=c){const n=a+t*r[2];for(let t=i;t<h;t+=d){const a=e[n+t*r[3]+b];if("max"===o&&a>S?S=a:"avg"===o&&(x+=a,I++),isNaN(S))break}if(isNaN(S))break}if(isNaN(S))break}w[g+b]="avg"===o?x/Math.max(I,1):S}}}}return b}const xT={kernelName:Ns,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Pk(a,"avgPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=r;Fo(Nh(s,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")));const u=yh(a.shape,o,s,1,i,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&Bo(u.inShape,u.outShape))c=vE({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Qo(a.shape),r=wT(e,a.shape,a.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const _T={kernelName:As,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r;Pk(a,"avgPool3d");const c=bh(a.shape,o,s,1,i,l,u),d=ST(n.data.get(a.dataId).values,a.shape,a.dtype,Qo(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const IT={kernelName:Ms,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r;Pk([a,o],"avgPool3DGrad");const c=bh(o.shape,s,i,1,l,u),d=c.strideDepth,p=c.strideHeight,h=c.strideWidth,f=c.filterDepth,m=c.filterHeight,g=c.filterWidth,v=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,w=c.effectiveFilterDepth,k=c.effectiveFilterHeight,S=c.effectiveFilterWidth,x=w-1-c.padInfo.front,_=S-1-c.padInfo.left,I=k-1-c.padInfo.top,E=Hd(o.shape,"float32"),T=1/(f*m*g),N=n.bufferSync(a);for(let C=0;C<c.batchSize;++C)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-x,o=n-I,s=r-_;let i=0;for(let t=0;t<w;t+=v){const n=(a+t)/d;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let t=0;t<k;t+=y){const r=(o+t)/p;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let t=0;t<S;t+=b){const a=(s+t)/h;if(a<0||a>=c.outWidth||Math.floor(a)!==a)continue;i+=N.get(C,n,r,a,e)}}}E.set(i*T,C,t,n,r,e)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};const ET={kernelName:Cs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,s=o;Pk([a,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:u}=r,c=yh(s.shape,i,l,1,u),d=c.strideHeight,p=c.strideWidth,h=c.filterHeight,f=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,v=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,w=v-1-c.padInfo.top,k=Hd(s.shape,"float32"),S=1/(h*f),x=n.data.get(a.dataId).values,_=Hd(a.shape,"float32",x);for(let I=0;I<c.batchSize;++I)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inHeight;++t)for(let n=0;n<c.inWidth;++n){const r=t-w,a=n-b;let o=0;for(let t=0;t<v;t+=m){const n=(r+t)/d;if(!(n<0||n>=c.outHeight||Math.floor(n)!==n))for(let t=0;t<y;t+=g){const r=(a+t)/p;if(r<0||r>=c.outWidth||Math.floor(r)!==r)continue;o+=_.get(I,n,r,e)}}k.set(o*S,I,t,n,e)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const TT={kernelName:xi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:o,offset:s,mean:i,variance:l}=t;Fo(i.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Fo(null==s||i.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Fo(null==o||i.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),Pk([a,i,l,o,s],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),f=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=f.length,v=h.length,y=p.length,b=d.length;let w=0,k=0,S=0,x=0;for(let _=0;_<c.length;++_)m[_]=f[w++]+(c[_]-d[k++])*h[S++]/Math.sqrt(p[x++]+u),w>=g&&(w=0),k>=b&&(k=0),S>=v&&(S=0),x>=y&&(x=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};const NT={kernelName:Rs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:s}=r;Pk([a],"batchToSpaceND");const i=o.reduce(((e,t)=>e*t)),l=Ey(a.shape,o,i),u=Ty(l.length,o.length),c=Ny(a.shape,o,i),d=Cy(s,o.length),p=Ay(c,s,o.length),h=qE({inputs:{x:a},backend:n,attrs:{shape:l}}),f=rT({inputs:{x:h},backend:n,attrs:{perm:u}}),m=qE({inputs:{x:f},backend:n,attrs:{shape:c}}),g=zk({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function CT(e,t,n,r,a){const o=zo(r),s=es(a,n);for(let i=0;i<e.length;i++){const n=e[i];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(s[n]+=o>0?t[i]:1)}return s}const AT={kernelName:Ds,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:o}=t,{size:s}=r,i=CT(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,i)}},MT=kE(((e,t)=>e&t)),OT=BE(Fs,MT),RT={kernelName:Fs,backendName:"cpu",kernelFunc:OT};const DT={kernelName:Ps,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,i=bp(Array.from(o),Array.from(s));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},FT=pE((e=>Math.ceil(e))),PT=fE(zs,FT),LT={kernelName:zs,backendName:"cpu",kernelFunc:PT},zT=hE(Bs,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),BT={kernelName:Bs,backendName:"cpu",kernelFunc:zT},WT={kernelName:Us,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(zo(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,i=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values;for(let u=0;u<i.length;u++){const e=i[u],t=l[u];r[u]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function UT(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const jT={kernelName:Ai,backendName:"cpu",kernelFunc:UT};function HT(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,o=Ho(a,t[0].shape)[0],s=t.map((e=>e.shape));Sy(s,o);let i=xy(t.map((e=>e.shape)),o);if(0===zo(i))return n.makeTensorInfo(i,t[0].dtype,[]);const l=t.filter((e=>zo(e.shape)>0));if(1===l.length)return vE({inputs:{x:l[0]},backend:n});if("complex64"===l[0].dtype){const e=l.map((e=>FE({inputs:{input:e},backend:n}))),t=l.map((e=>UT({inputs:{input:e},backend:n}))),r=HT({inputs:e,backend:n,attrs:{axis:o}}),a=HT({inputs:t,backend:n,attrs:{axis:o}}),s=OE({inputs:{real:r,imag:a},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),s}const u=l.map((e=>{const t=zo(e.shape.slice(o));return qE({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),c=u.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));i=xy(u.map((e=>e.shape)),1);const d=1===u[0].shape[0],p=Jk(c,i,t[0].dtype,d),h=xy(l.map((e=>e.shape)),o),f=n.makeTensorInfo(h,t[0].dtype,p);return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}const VT={kernelName:js,backendName:"cpu",kernelFunc:HT};function qT(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dataFormat:l,dilations:u,dimRoundingMode:c}=r;Pk([a,o],"conv2d");const d=Ah(l),p=wh(a.shape,o.shape,s,u,i,c,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,v=p.padInfo.left,y=p.padInfo.top,b="channelsLast"===p.dataFormat,w=new lc(p.outShape,a.dtype),k=Qo(a.shape),S=Qo(o.shape),x=k[0],_=b?k[1]:k[2],I=b?k[2]:1,E=b?1:k[1],T=w.strides[0],N=b?w.strides[1]:w.strides[2],C=b?w.strides[2]:1,A=b?1:w.strides[1],M=n.data.get(a.dataId).values,O=n.data.get(o.dataId).values,R=w.values;for(let D=0;D<p.batchSize;++D){const e=D*x,t=D*T;for(let n=0;n<p.outHeight;++n){const r=t+n*N,a=n*p.strideHeight-y;for(let t=0;t<h;++t){const n=a+t*m;if(n<0||n>=p.inHeight)continue;const o=t*S[0],s=e+n*_;for(let e=0;e<p.outWidth;++e){const t=r+e*C,n=e*p.strideWidth-v;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=p.inWidth)continue;const a=s+r*I;let i=o+e*S[1];for(let e=0;e<p.inChannels;++e){const n=M[a+e*E];for(let e=0;e<p.outChannels;++e)R[t+e*A]+=n*O[i+e];i+=p.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,R)}const GT={kernelName:Hs,backendName:"cpu",kernelFunc:qT};const KT={kernelName:Vs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,pad:i,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;Pk([a,o],"conv2dBackpropFilter");const d=Ah(l),p=wh(a.shape,c,s,1,i,u,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,v="channelsLast"===p.dataFormat,y=new lc(p.filterShape,"float32"),b=p.padInfo.left,w=p.padInfo.top,k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,x=new lc(a.shape,a.dtype,k),_=new lc(o.shape,o.dtype,S);for(let I=0;I<m;++I){const e=Math.max(0,Math.ceil((w-I)/h)),t=Math.min(p.outHeight,(p.inHeight+w-I)/h);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((b-n)/f)),a=Math.min(p.outWidth,(p.inWidth+b-n)/f);for(let o=0;o<p.inChannels;++o)for(let s=0;s<p.outChannels;++s){let i=0;for(let l=0;l<p.batchSize;++l)for(let u=e;u<t;++u){const e=I+u*h-w;for(let t=r;t<a;++t){const r=n+t*f-b;i+=v?x.get(l,e,r,o)*_.get(l,u,t,s):x.get(l,o,e,r)*_.get(l,s,u,t)}}y.set(i,I,n,o,s)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const $T={kernelName:qs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{inputShape:s,strides:i,pad:l,dataFormat:u,dimRoundingMode:c}=r;Pk([a,o],"conv2dBackpropInput");const d=Qo(o.shape),p=Qo(a.shape);let h=Ah(u);const f=wh(s,o.shape,i,1,l,c,!1,h),m=new lc(f.inShape,"float32"),g=m.values,v=n.data.get(a.dataId).values,y=n.data.get(o.dataId).values,[b,w,k]=d,{batchSize:S,filterHeight:x,filterWidth:_,inChannels:I,inHeight:E,inWidth:T,outChannels:N,outHeight:C,outWidth:A,strideHeight:M,strideWidth:O}=f;h=f.dataFormat;const R=x-1-f.padInfo.top,D=_-1-f.padInfo.left,F="channelsLast"===h,P=m.strides[0],L=F?m.strides[1]:m.strides[2],z=F?m.strides[2]:1,B=F?1:m.strides[1],W=p[0],U=F?p[1]:p[2],j=F?p[2]:1,H=F?1:p[1];for(let V=0;V<S;++V)for(let e=0;e<I;++e)for(let t=0;t<E;++t){const n=t-R,r=Math.max(0,Math.ceil(n/M)),a=Math.min(C,(x+n)/M);for(let o=0;o<T;++o){const s=o-D,i=Math.max(0,Math.ceil(s/O)),l=Math.min(A,(_+s)/O);let u=0;for(let t=r;t<a;++t){const r=t*M-n;for(let n=i;n<l;++n){const a=W*V+U*t+j*n,o=b*(x-1-r)+w*(_-1-(n*O-s))+k*e;for(let e=0;e<N;++e){u+=v[a+H*e]*y[o+e]}}}g[P*V+L*t+z*o+B*e]=u}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const YT={kernelName:Gs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r;Pk([a,o],"conv3d");const u=kh(a.shape,o.shape,s,l,i),{filterDepth:c,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=u,v=g.front,y=g.left,b=g.top,w=new lc(u.outShape,a.dtype),k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,x=w.values,_=Qo(a.shape),I=Qo(o.shape);for(let E=0;E<u.batchSize;++E){const e=E*_[0],t=E*w.strides[0];for(let n=0;n<u.outDepth;++n){const r=t+n*w.strides[1],a=n*u.strideDepth-v;for(let t=0;t<c;++t){const n=a+t*h;if(n<0||n>=u.inDepth)continue;const o=t*I[0],s=e+n*_[1];for(let e=0;e<u.outHeight;++e){const t=r+e*w.strides[2],n=e*u.strideHeight-b;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=u.inHeight)continue;const a=o+e*I[1],i=s+r*_[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-y;for(let e=0;e<p;++e){const t=r+e*m;if(t<0||t>=u.inWidth)continue;const o=a+e*I[2],s=i+t*u.inChannels;let l=o;for(let e=0;e<u.inChannels;++e){const t=k[s+e];for(let e=0;e<u.outChannels;++e)x[n+e]+=t*S[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const QT={kernelName:Ks,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,pad:i,filterShape:l}=r;Pk([a,o],"conv3dBackpropFilterV2");const u=Qo(a.shape),c=Qo(o.shape),d=kh(a.shape,l,s,1,i),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,v=d.filterWidth,y=new lc(d.filterShape,"float32"),b=y.values,[w,k,S,x]=y.strides,_=n.data.get(o.dataId).values,[I,E,T,N]=c,C=n.data.get(a.dataId).values,[A,M,O,R]=u,D=d.padInfo.front,F=d.padInfo.left,P=d.padInfo.top;for(let L=0;L<m;++L){const e=Math.max(0,Math.ceil((D-L)/p)),t=Math.min(d.outDepth,(d.inDepth+D-L)/p),n=L*w;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((P-r)/h)),o=Math.min(d.outHeight,(d.inHeight+P-r)/h),s=r*k+n;for(let n=0;n<v;++n){const i=Math.max(0,Math.ceil((F-n)/f)),l=Math.min(d.outWidth,(d.inWidth+F-n)/f),u=n*S+s;for(let s=0;s<d.inChannels;++s){const c=s*x+u;for(let u=0;u<d.outChannels;++u){let m=0;for(let c=0;c<d.batchSize;++c){const d=c*A,g=c*I;for(let c=e;c<t;++c){const e=(L+c*p-D)*M+d,t=c*E+g;for(let c=a;c<o;++c){const a=(r+c*h-P)*O+e,o=c*T+t;for(let e=i;e<l;++e){const t=e*N+o;m+=C[(n+e*f-F)*R+a+s]*_[t+u]}}}}b[c+u]=m}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const XT={kernelName:$s,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{pad:s,strides:i,inputShape:l}=r;Pk([a],"conv3dBackpropInputV2");const u=Qo(a.shape),c=Qo(o.shape),d=kh(l,o.shape,i,1,s),p=new lc(d.inShape,"float32"),h=p.values,[f,m,g,v]=p.strides,y=n.data.get(a.dataId).values,[b,w,k,S]=u,x=n.data.get(o.dataId).values,[_,I,E,T]=c,{batchSize:N,filterDepth:C,filterHeight:A,filterWidth:M,inChannels:O,inDepth:R,inHeight:D,inWidth:F,outChannels:P,outDepth:L,outHeight:z,outWidth:B,strideDepth:W,strideHeight:U,strideWidth:j}=d,H=C-1-d.padInfo.front,V=A-1-d.padInfo.top,q=M-1-d.padInfo.left;for(let G=0;G<N;++G)for(let e=0;e<O;++e)for(let t=0;t<R;++t){const n=t-H,r=Math.max(0,Math.ceil(n/W)),a=Math.min(L,(C+n)/W);for(let o=0;o<D;++o){const s=o-V,i=Math.max(0,Math.ceil(s/U)),l=Math.min(z,(A+s)/U);for(let u=0;u<F;++u){const c=u-q,d=Math.max(0,Math.ceil(c/j)),p=Math.min(B,(M+c)/j);let N=0;for(let t=r;t<a;++t){const r=t*W-n;for(let n=i;n<l;++n){const a=n*U-s;for(let o=d;o<p;++o){const s=b*G+w*t+k*n+S*o,i=_*(C-1-r)+I*(A-1-a)+E*(M-1-(o*j-c))+T*e;for(let e=0;e<P;++e){N+=y[s+e]*x[i+e]}}}}h[f*G+m*t+g*o+v*u+e]=N}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},JT=hE(Ys,(e=>Math.cos(e))),ZT={kernelName:Ys,backendName:"cpu",kernelFunc:JT},eN=hE(Qs,(e=>Math.cosh(e))),tN={kernelName:Qs,backendName:"cpu",kernelFunc:eN};const nN={kernelName:Zs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:o,boxInd:s}=t,{cropSize:i,method:l,extrapolationValue:u}=r,[c,d,p,h]=a.shape,f=o.shape[0],[m,g]=i,v=Hd([f,m,g,h],"float32"),y=n.data.get(o.dataId).values,b=n.data.get(s.dataId).values,w=n.data.get(a.dataId).values,k=Qo(a.shape),S=Qo(v.shape);for(let x=0;x<f;x++){const e=4*x,t=y[e],n=y[e+1],r=y[e+2],a=y[e+3],o=b[x];if(o>=c)continue;const s=m>1?(r-t)*(d-1)/(m-1):0,i=g>1?(a-n)*(p-1)/(g-1):0;for(let c=0;c<m;c++){const e=m>1?t*(d-1)+c*s:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*S[2]+c*S[1]+x*S[0];v.values[n]=u}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),s=e-t;for(let e=0;e<g;e++){const l=g>1?n*(p-1)+e*i:.5*(n+a)*(p-1);if(l<0||l>p-1){for(let t=0;t<h;t++){const n=t+e*S[2]+c*S[1]+x*S[0];v.values[n]=u}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<h;n++){let a=n+d*k[2]+t*k[1]+o*k[0];const i=w[a];a=n+f*k[2]+t*k[1]+o*k[0];const l=w[a];a=n+d*k[2]+r*k[1]+o*k[0];const u=w[a];a=n+f*k[2]+r*k[1]+o*k[0];const p=i+(l-i)*m,h=u+(w[a]-u)*m;a=n+e*S[2]+c*S[1]+x*S[0],v.values[a]=p+(h-p)*s}}}else for(let t=0;t<g;++t){const r=g>1?n*(p-1)+t*i:.5*(n+a)*(p-1);if(r<0||r>p-1){for(let e=0;e<h;e++){const n=e+t*S[2]+c*S[1]+x*S[0];v.values[n]=u}continue}const s=Math.round(r),l=Math.round(e);for(let e=0;e<h;e++){const n=e+s*k[2]+l*k[1]+o*k[0],r=e+t*S[2]+c*S[1]+x*S[0];v.values[r]=w[n]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const rN={kernelName:Xs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r;Pk(a,"cumprod");const l=Mf([o],a.shape.length);let u=a;null!=l&&(u=rT({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=Rf(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(u.shape.length-1," but got axis=").concat(c));const d=wc(u.dtype,"int32"),p=Zo(zo(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let v=0;v<h.length;v+=f)for(let e=0;e<f;e++){const t=m(v,e);if(0===e)p[t]=s?1:h[t];else{const n=m(v,e-1);p[t]=s?h[n]*p[n]:h[t]*p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=rT({inputs:{x:g},backend:n,attrs:{perm:Of(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const aN={kernelName:Js,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r;Pk(a,"cumsum");const l=Mf([o],a.shape.length);let u=a;null!=l&&(u=rT({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=Rf(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(u.shape.length-1," but got axis=").concat(c));const d=wc(u.dtype,"int32"),p=es(zo(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let v=0;v<h.length;v+=f)for(let e=0;e<f;e++){const t=m(v,e);if(0===e)p[t]=s?0:h[t];else{const n=m(v,e-1);p[t]=s?h[n]+p[n]:h[t]+p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=rT({inputs:{x:g},backend:n,attrs:{perm:Of(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const oN={kernelName:ei,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:o}=t,{size:s,binaryOutput:i}=r;if(1===a.shape.length){const e=CT(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,e)}if(2===a.shape.length){const e=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e.shape[0],o=e.shape[1],s=Hd([a,n],t.dtype);for(let i=0;i<a;i++)for(let a=0;a<o;a++){const o=e.get(i,a);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(r?s.set(1,i,o):t.size>0?s.set(s.get(i,o)+t.get(i,a),i,o):s.set(s.get(i,o)+1,i,o))}return s}(n.bufferSync(a),n.bufferSync(o),s,i);return n.makeTensorInfo(e.shape,o.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};const sN={kernelName:ti,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:o,dataFormat:s}=r;Fo("NHWC"===s,(()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)));const i=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],d=l*o,p=u*o,h=c/(o*o),f=n.data.get(a.dataId).values,m=new Float32Array(i*d*p*h);let g=0;for(let v=0;v<i;++v)for(let e=0;e<d;++e){const t=Math.floor(e/o),n=e%o;for(let e=0;e<p;++e){const r=Math.floor(e/o),a=(n*o+e%o)*h;for(let e=0;e<h;++e){const n=e+a+c*(r+u*(t+l*v));m[g++]=f[n]}}}return n.makeTensorInfo([i,d,p,h],a.dtype,m)}};function iN(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l,dimRoundingMode:u}=r;Pk([a,o],"depthwiseConv2DNative");const c=Qo(a.shape),d=Qo(o.shape);let p=l;null==p&&(p=[1,1]),Fo(Nh(s,p),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(p,"'")));const h=wh(a.shape,o.shape,s,p,i,u,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:v,padInfo:y}=h,b=y.left,w=y.top,k=h.outChannels/h.inChannels,S=new lc(h.outShape,a.dtype),x=n.data.get(a.dataId).values,_=n.data.get(o.dataId).values,I=S.values;for(let E=0;E<h.batchSize;++E){const e=E*c[0],t=E*S.strides[0];for(let n=0;n<h.outHeight;++n){const r=t+n*S.strides[1],a=n*h.strideHeight-w;for(let t=0;t<f;++t){const n=a+t*g;if(n<0||n>=h.inHeight)continue;const o=t*d[0],s=e+n*c[1];for(let e=0;e<h.outWidth;++e){const t=r+e*S.strides[2],n=e*h.strideWidth-b;for(let e=0;e<m;++e){const r=n+e*v;if(r<0||r>=h.inWidth)continue;const a=o+e*d[1],i=s+r*h.inChannels;let l=t,u=a;for(let e=0;e<h.inChannels;++e){const t=x[i+e];for(let e=0;e<k;++e)I[l+e]+=t*_[u+e];l+=k,u+=k}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const lN={kernelName:ni,backendName:"cpu",kernelFunc:iN};const uN={kernelName:ri,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:u,filterShape:c}=r;Pk([a,o],"depthwiseConv2dNativeBackpropFilter");const d=wh(a.shape,c,s,i,l,u,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new lc(d.filterShape,"float32"),v=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,w=n.data.get(a.dataId).values,k=new lc(a.shape,a.dtype,w),S=n.data.get(o.dataId).values,x=new lc(o.shape,o.dtype,S);for(let _=0;_<f;++_){const e=Math.max(0,Math.ceil((y-_)/p)),t=Math.min(d.outHeight,(d.inHeight+y-_)/p);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((v-n)/h)),a=Math.min(d.outWidth,(d.inWidth+v-n)/h);for(let o=0;o<d.outChannels;++o){const s=Math.trunc(o/b),i=o%b;let l=0;for(let u=0;u<d.batchSize;++u)for(let i=e;i<t;++i){const e=_+i*p-y;for(let t=r;t<a;++t){const r=n+t*h-v;l+=k.get(u,e,r,s)*x.get(u,i,t,o)}}g.set(l,_,n,s,i)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const cN={kernelName:ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:u,inputShape:c}=r;Pk([a,o],"depthwiseConv2DNativeBackpropInput");const d=Qo(a.shape),p=Qo(o.shape),h=wh(c,o.shape,s,i,l,u,!0),f=new lc(h.inShape,"float32"),m=f.values,[g,v,y]=f.strides,b=n.data.get(a.dataId).values,[w,k,S]=d,x=n.data.get(o.dataId).values,[_,I,E]=p,{batchSize:T,filterHeight:N,filterWidth:C,inChannels:A,inHeight:M,inWidth:O,outChannels:R,outHeight:D,outWidth:F,strideHeight:P,strideWidth:L}=h,z=N-1-h.padInfo.top,B=C-1-h.padInfo.left,W=R/A;for(let U=0;U<T;++U)for(let e=0;e<A;++e)for(let t=0;t<M;++t){const n=t-z,r=Math.max(0,Math.ceil(n/P)),a=Math.min(D,(N+n)/P);for(let o=0;o<O;++o){const s=o-B,i=Math.max(0,Math.ceil(s/L)),l=Math.min(F,(C+s)/L);let u=0;for(let t=r;t<a;++t){const r=t*P-n;for(let n=i;n<l;++n){const a=w*U+k*t+S*n,o=_*(N-1-r)+I*(C-1-(n*L-s))+E*e;for(let t=0;t<W;++t){u+=b[a+(e*W+t)]*x[o+t]}}}m[g*U+v*t+y*o+e]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const dN={kernelName:oi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=zo(r.shape),o=n.data.get(r.dataId).values,s=Hd([a,a],r.dtype),i=s.values;for(let u=0;u<o.length;u++)i[u*a+u]=o[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,s.dtype,s.values)}},pN={kernelName:si,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r,u=n,c=u.data.get(a.dataId).values,d=a.shape.length,p=u.data.get(o.dataId).values,h=o.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:v,outHeight:y,outWidth:b,padInfo:w,strideHeight:k,strideWidth:S,filterHeight:x,filterWidth:_,dilationHeight:I,dilationWidth:E,outShape:T}=vh(a.shape,o.shape,s,i,"NHWC",l),N=zo(T),C=T.length,A=qo(a.dtype,N);for(let M=0;M<f;++M)for(let e=0;e<y;++e){const t=e*k-w.top;for(let n=0;n<b;++n){const r=n*S-w.left;for(let s=0;s<v;++s){let i=Number.MIN_SAFE_INTEGER;for(let e=0;e<x;++e){const n=t+e*I;if(n>=0&&n<m)for(let t=0;t<_;++t){const l=r+t*E;if(l>=0&&l<g){const r=rs([M,n,l,s],d,Qo(a.shape)),u=rs([e,t,s],h,Qo(o.shape)),f=c[r]+p[u];f>i&&(i=f)}}}A[rs([M,e,n,s],C,Qo(T))]=i}}}return{dataId:u.write($u(A,a.dtype),T,a.dtype),shape:T,dtype:a.dtype}}},hN={kernelName:li,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r,c=n,d=Jo(a.shape,c.data.get(a.dataId).values),p=Jo(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:v,outWidth:y,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:x,dilationHeight:_,dilationWidth:I,outShape:E}=vh(a.shape,o.shape,i,l,"NHWC",u);Fo(s.rank===E.length,(()=>"Error in ".concat(li,", dy ")+"must have the same rank as output ".concat(E.length,", but got ")+"".concat(s.rank)));const T=Jo(E,c.data.get(s.dataId).values),N=ts(o.shape,o.dtype);for(let C=0;C<h;++C)for(let e=0;e<v;++e){const t=e*w-b.top;for(let n=0;n<y;++n){const r=n*k-b.left;for(let a=0;a<g;++a){let o=Number.MIN_SAFE_INTEGER,s=0,i=0;for(let e=0;e<S;++e){const n=t+e*_;if(n>=0&&n<f)for(let t=0;t<x;++t){const l=r+t*I;if(l>=0&&l<m){const r=d[C][n][l][a]+p[e][t][a];r>o&&(o=r,s=e,i=t)}}}N[s][i][a]+=T[C][e][n][a]}}}return{dataId:c.write($u(N,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},fN={kernelName:ii,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r,c=n,d=Jo(a.shape,c.data.get(a.dataId).values),p=Jo(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:v,outWidth:y,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:x,dilationHeight:_,dilationWidth:I,outShape:E}=vh(a.shape,o.shape,i,l,"NHWC",u);Fo(s.rank===E.length,(()=>"Error in ".concat(ii,", dy ")+"must have the same rank as output ".concat(E.length,", but got ")+"".concat(s.rank)));const T=Jo(E,c.data.get(s.dataId).values),N=ts(a.shape,a.dtype);for(let C=0;C<h;++C)for(let e=0;e<v;++e){const t=e*w-b.top;for(let n=0;n<y;++n){const r=n*k-b.left;for(let a=0;a<g;++a){let o=Number.MIN_SAFE_INTEGER,s=t<0?0:t,i=r<0?0:r;for(let e=0;e<S;++e){const n=t+e*_;if(n>=0&&n<f)for(let t=0;t<x;++t){const l=r+t*I;if(l>=0&&l<m){const r=d[C][n][l][a]+p[e][t][a];r>o&&(o=r,s=n,i=l)}}}N[C][s][i][a]+=T[C][e][n][a]}}}return{dataId:c.write($u(N,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};const mN={kernelName:ui,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:o,options:s}=r,{contextOptions:i,imageOptions:l}=s||{},u=(null===l||void 0===l?void 0:l.alpha)||1,c=(null===i||void 0===i?void 0:i.contextType)||"2d";if("2d"!==c)throw new Error("Context type ".concat(i.contextType," is not supported by the CPU backend."));const d=o.getContext(c,(null===i||void 0===i?void 0:i.contextAttributes)||{});if(null==d)throw new Error("Could not get the context with ".concat(c," type."));const[p,h]=a.shape.slice(0,2),f=2===a.shape.length?1:a.shape[2],m=n.data.get(a.dataId).values,g="float32"===a.dtype?255:1,v=new Uint8ClampedArray(h*p*4);for(let b=0;b<p*h;++b){const e=[0,0,0,255*u];for(let n=0;n<f;n++){const t=m[b*f+n];if("float32"===a.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===a.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*b;v[t+0]=Math.round(e[0]),v[t+1]=Math.round(e[1]),v[t+2]=Math.round(e[2]),v[t+3]=Math.round(e[3])}o.width=h,o.height=p;const y=new ImageData(v,h,p);return d.putImageData(y,0,0),a}},gN=kE(((e,t)=>e*t)),vN=WE(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),yN=BE(al,gN,vN),bN={kernelName:al,backendName:"cpu",kernelFunc:yN};function wN(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;let i;Pk(a,"sum"),i="bool"===a.dtype?LE({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):vE({inputs:{x:a},backend:n});const l=i.shape.length,u=Ho(o,i.shape),c=Mf(u,l);let d=u,p=i;null!=c&&(p=rT({inputs:{x:i},backend:n,attrs:{perm:c}}),d=Rf(d.length,l)),Af("sum",d,p.shape.length);const[h,f]=Nf(p.shape,d);let m=DE(n,h,wc(p.dtype,"int32"));const g=zo(f),v=n.data.get(m.dataId).values,y=n.data.get(p.dataId).values;for(let b=0;b<v.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=y[e+n];v[b]=t}if(s){const e=m;m=qE({inputs:{x:m},backend:n,attrs:{shape:Cf(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(i),null!=c&&n.disposeIntermediateTensorInfo(p),m}const kN={kernelName:ql,backendName:"cpu",kernelFunc:wN};const SN={kernelName:di,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,o=t,{allDims:s,summedDims:i,idDims:l}=function(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Py,"").length)/2;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(Fy,'").'));const[r,a]=e.split(Fy);Fo(-1===r.indexOf("..."),(()=>'The ellipsis notation ("'.concat("...",'") is not supported yet.')));const o=r.split(","),s=o.length;if(t!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(t));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let d=0;d<a.length;++d){const e=a[d];if(!o.some((t=>-1!==t.indexOf(e))))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===i.indexOf(e)&&i.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===i.indexOf(e)&&","!==e&&i.push(e)}const l=new Array(o.length);for(let d=0;d<s;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error("Found duplicate axes in input component ".concat(o[d],". ")+"Support for duplicate axes in input is not implemented yet.");l[d]=[];for(let e=0;e<o[d].length;++e)l[d].push(i.indexOf(o[d][e]))}const u=i.length,c=[];for(let d=a.length;d<u;++d)c.push(d);return{allDims:i,summedDims:c,idDims:l}}(a,o.length);!function(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:Fo(r[t[a][n]]===e[n],(()=>"Expected dimension ".concat(r[t[a][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n])))}}(s.length,l,o);const{path:u,steps:c}=function(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let s=0;s<a;++s)r.push([]);const o=[];for(let s=0;s<n.length;++s){const e=By(t,n[s]);for(const t of e)-1===o.indexOf(t)&&(r[s].push(t),o.push(t))}return{path:n,steps:r}}(i,l),d=c.length;let p=null,h=s.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=Ly(h,l[e]);let a;zy(t)?a=o[e]:(a=rT({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(a));const s=a.shape.slice();for(let e=0;e<r.length;++e)s.splice(r[e],0,1);Bo(a.shape,s)||(a=qE({inputs:{x:a},backend:n,attrs:{shape:s}}),f.push(a)),null===p?p=a:(p=yN({inputs:{a:a,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=wN({inputs:{x:p},backend:n,attrs:{axis:u[m]-(s.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}};const xN={kernelName:hi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;Pk([r,a],"eluGrad");const o=new Float32Array(zo(a.shape)),s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values;for(let l=0;l<s.length;++l){const e=s[l];o[l]=e>=0?i[l]:i[l]*(e+1)}return n.makeTensorInfo(a.shape,"float32",o)}},_N=kE(((e,t)=>e===t?1:0)),IN=BE(mi,_N,null,"bool"),EN={kernelName:mi,backendName:"cpu",kernelFunc:IN},TN=hE(fi,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+.3275911*n);return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n))})),NN={kernelName:fi,backendName:"cpu",kernelFunc:TN},CN=pE((e=>Math.exp(e))),AN=fE(gi,CN,"float32"),MN={kernelName:gi,backendName:"cpu",kernelFunc:AN};function ON(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:o}=r,s=a.shape.length,i=a.shape.slice();let l=o;return o<0&&(Fo(-(s+1)<=o,(()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]"))),l=s+o+1),i.splice(l,0,1),qE({inputs:{x:a},backend:n,attrs:{shape:i}})}const RN={kernelName:vi,backendName:"cpu",kernelFunc:ON},DN=pE((e=>Math.expm1(e))),FN=fE(yi,DN),PN={kernelName:yi,backendName:"cpu",kernelFunc:FN},LN=kE(((e,t)=>e/t)),zN=BE(ci,LN),BN={kernelName:ci,backendName:"cpu",kernelFunc:zN},WN=kE(((e,t)=>e-t)),UN=WE(((e,t,n,r)=>({real:e-n,imag:t-r}))),jN=BE(iu,WN,UN),HN={kernelName:iu,backendName:"cpu",kernelFunc:jN};function VN(e,t,n){const r=e.shape,a=r[0],o=r[1],s=n.data.get(e.dataId),i=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,u=[a,o],c=zo(u),d=Vo("float32",c),p=Vo("float32",c);for(let g=0;g<a;g++){const e=zk({inputs:{x:i},backend:n,attrs:{begin:[g,0],size:[1,o]}}),r=zk({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,o]}}),a=OE({inputs:{real:e,imag:r},backend:n}),{real:s,imag:u}=qN(a,t,n),c=My(s,u);for(let t=0;t<o;t++){const e=Oy(c,t);d[g*o+t]=e.real,p[g*o+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a)}const h=n.makeTensorInfo(u,"float32",d),f=n.makeTensorInfo(u,"float32",p),m=OE({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function qN(e,t,n){const r=zo(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((i=r)&i-1)){const a=GN(o,s,r,t,n),i=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(i,"float32",a.real),t=n.makeTensorInfo(i,"float32",a.imag),o=n.makeTensorInfo([],"float32",Ku(r,"float32")),s=vE({inputs:{x:o},backend:n}),l=BN.kernelFunc({inputs:{a:e,b:o},backend:n}),u=BN.kernelFunc({inputs:{a:t,b:s},backend:n}),c=n.data.get(l.dataId).values,d=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:d}}return a}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let o=0,s=0;for(let r=0;r<t;r++){const i=Dy(a*r,t,n),l=Oy(e,r);o+=l.real*i.real-l.imag*i.imag,s+=l.real*i.imag+l.imag*i.real}n&&(o/=t,s/=t),Ry(r,o,s,a)}return r}(My(o,s),r,t);return function(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(e)}var i}function GN(e,t,n,r,a){if(1===n)return{real:e,imag:t};const o=My(e,t),s=n/2,i=function(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),l=i.real,u=i.imag,c=[l.length],d=a.makeTensorInfo(c,"float32",l),p=a.makeTensorInfo(c,"float32",u),h=OE({inputs:{real:d,imag:p},backend:a}),f=function(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),m=f.real,g=f.imag,v=[m.length],y=a.makeTensorInfo(v,"float32",m),b=a.makeTensorInfo(v,"float32",g),w=OE({inputs:{real:y,imag:b},backend:a}),k=GN(l,u,s,r,a),S=k.real,x=k.imag,_=[S.length],I=a.makeTensorInfo(_,"float32",S),E=a.makeTensorInfo(_,"float32",x),T=OE({inputs:{real:I,imag:E},backend:a}),N=GN(m,g,s,r,a),C=N.real,A=N.imag,M=[C.length],O=a.makeTensorInfo(M,"float32",C),R=a.makeTensorInfo(M,"float32",A),D=OE({inputs:{real:O,imag:R},backend:a}),F=function(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}(n,r),P=[F.real.length],L=a.makeTensorInfo(P,"float32",F.real),z=a.makeTensorInfo(P,"float32",F.imag),B=OE({inputs:{real:L,imag:z},backend:a}),W=yN({inputs:{a:B,b:D},backend:a}),U=HE({inputs:{a:T,b:W},backend:a}),j=jN({inputs:{a:T,b:W},backend:a}),H=FE({inputs:{input:U},backend:a}),V=FE({inputs:{input:j},backend:a}),q=UT({inputs:{input:U},backend:a}),G=UT({inputs:{input:j},backend:a}),K=HT({inputs:[H,V],backend:a,attrs:{axis:0}}),$=HT({inputs:[q,G],backend:a,attrs:{axis:0}}),Y=a.data.get(K.dataId).values,Q=a.data.get($.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo($),{real:Y,imag:Q}}const KN={kernelName:"FFT",backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=zo(r.shape),o=r.shape[r.shape.length-1],s=qE({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),i=VN(s,!1,n),l=qE({inputs:{x:i},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),l}};function $N(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:o}=n,s=o||$o(a),i=qo(s,zo(r));return function(e,t){e.fill(t)}(i,a),t.makeTensorInfo(r,s,i)}const YN={kernelName:bi,backendName:"cpu",kernelFunc:$N};const QN={kernelName:wi,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,o=r,s=Vo(a.dtype,zo(a.shape)),[i,l,u,c]=a.shape,d=o.data.get(a.dataId).values;for(let p=0;p<i;p++){const e=p*u*l*c;for(let t=0;t<l;t++){const n=t*(u*c);for(let t=0;t<u;t++){const r=t*c;for(let a=0;a<c;a++){const o=Math.round(u-t-1),i=e+n+r+a;let l=d[i];if(o>=0&&o<u){l=d[e+n+o*c+a]}s[i]=l}}}}return{dataId:o.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},XN=pE((e=>Math.floor(e))),JN=fE(ki,XN),ZN={kernelName:ki,backendName:"cpu",kernelFunc:JN},eC=kE(((e,t)=>Math.floor(e/t))),tC=BE(Si,eC,null,"int32"),nC={kernelName:Si,backendName:"cpu",kernelFunc:tC};const rC={kernelName:Su,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=qT({inputs:{x:a,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(s){const e=m;if("NCHW"===c&&1===s.shape.length&&1!==s.shape[0]){const e=qE({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=HE({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=HE({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===c&&"prelu"===h&&1===i.shape.length&&1!==i.shape[0]){const e=qE({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=ME(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=ME(n,m,h,i,f);n.disposeIntermediateTensorInfo(e)}return m}};const aC={kernelName:xu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=iN({inputs:{x:a,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(s){const e=m;m=HE({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=ME(n,m,h,i,f),n.disposeIntermediateTensorInfo(e)}return m}};const oC={kernelName:Ii,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,o=zo(r.shape),s=a.shape,i=s[s.length-1],[l,u,c,d]=Qp(r,a);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const p=function(e,t,n,r,a,o,s,i,l){const u=Hd([r,o],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<a;t++){const o=e[c*a+t];r+=o*s[t],n.push(o)}if(r<0||r>=l/o)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(i));for(let e=0;e<o;e++)u.values[c*o+e]=t.get(...t.indexToLoc(r*o+e))}return u}(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,u,i,c,d,r.shape,o);return n.makeTensorInfo(l,r.dtype,p.values)}};const sC={kernelName:_i,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:o}=t,{axis:s,batchDims:i}=r;Pk([a,o],"gatherV2");const l=Ho(s,a.shape)[0],u=n.data.get(o.dataId).values,c=a.shape[l];for(let b=0;b<u.length;++b){const e=u[b];Fo(e<=c-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]")))}let d=i;null==i&&(d=0);const p=zo(o.shape),h=Qy(a,o,l,d),f=qE({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=qE({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],v=n.bufferSync(m),y=function(e,t,n){const r=Hd(n,e.dtype);for(let a=0;a<r.size;++a){const n=r.indexToLoc(a).slice(),o=n[0],s=n[2],i=t.locToIndex([o,s]);n[2]=t.values[i];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}(n.bufferSync(f),v,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,y.dtype,y.values)}},iC=kE(((e,t)=>e>t?1:0)),lC=BE(Ei,iC,null,"bool"),uC={kernelName:Ei,backendName:"cpu",kernelFunc:lC},cC=kE(((e,t)=>e>=t?1:0)),dC=BE(Ti,cC,null,"bool"),pC={kernelName:Ti,backendName:"cpu",kernelFunc:dC};const hC={kernelName:Ci,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=zo(r.shape),o=r.shape[r.shape.length-1],s=qE({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),i=VN(s,!0,n),l=qE({inputs:{x:i},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),l}},fC=hE(Mi,(e=>Number.isFinite(e)?1:0),"bool"),mC={kernelName:Mi,backendName:"cpu",kernelFunc:fC},gC=hE(Oi,(e=>Math.abs(e)===1/0?1:0),"bool"),vC={kernelName:Oi,backendName:"cpu",kernelFunc:gC},yC=hE(Ri,(e=>Number.isNaN(e)?1:0),"bool"),bC={kernelName:Ri,backendName:"cpu",kernelFunc:yC},wC=kE(((e,t)=>e<t?1:0)),kC=BE(Fi,wC,null,"bool"),SC={kernelName:Fi,backendName:"cpu",kernelFunc:kC},xC=kE(((e,t)=>e<=t?1:0)),_C=BE(Pi,xC,null,"bool"),IC={kernelName:Pi,backendName:"cpu",kernelFunc:_C};const EC={kernelName:Li,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:o}=n,s=function(e,t,n){const r=(t-e)/(n-1),a=es(n,"float32");a[0]=e;for(let o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}(r,a,o);return t.makeTensorInfo([s.length],"float32",s)}},TC=pE((e=>Math.log(e))),NC=fE(zi,TC),CC={kernelName:zi,backendName:"cpu",kernelFunc:NC},AC=hE(Bi,(e=>Math.log1p(e))),MC={kernelName:Bi,backendName:"cpu",kernelFunc:AC},OC=kE(((e,t)=>e&&t)),RC=BE(Wi,OC,null,"bool"),DC={kernelName:Wi,backendName:"cpu",kernelFunc:RC},FC=hE(Ui,(e=>e?0:1),"bool"),PC={kernelName:Ui,backendName:"cpu",kernelFunc:FC},LC=kE(((e,t)=>e||t)),zC=BE(ji,LC,null,"bool"),BC={kernelName:ji,backendName:"cpu",kernelFunc:zC};const WC={kernelName:Hi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=r;Pk(a,"LRN");const u=a.shape[3],c=u-1,d=n.data.get(a.dataId).values,p=zo(a.shape),h=new Float32Array(p);function f(e){const t=e%u;let n=e-t+Math.max(0,t-o);const r=e-t+Math.min(t+o,c);let a=0;for(;n<=r;n++){const e=d[n];a+=e*e}return a}for(let m=0;m<p;m++){const e=f(m),t=d[m]*Math.pow(s+i*e,-l);h[m]=t}return n.makeTensorInfo(a.shape,a.dtype,h)}};const UC={kernelName:Vi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:u,beta:c}=r;Pk(s,"LRNGrad");const d=zo(s.shape),p=s.shape[3],h=n.data.get(s.dataId).values,f=n.data.get(a.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(d),v=d;for(let y=0;y<v;y++){const e=y%p,t=y-e+Math.max(0,e-i),n=y-e+Math.min(p,e+i+1);let r=0;for(let a=t;a<n;a++)r+=Math.pow(f[a],2);r=u*r+l;for(let a=t;a<n;a++){let e=-2*u*c*f[a]*m[y]/r;y===a&&(e+=Math.pow(r,-c)),e*=h[y],g[a]+=e}}return n.makeTensorInfo(s.shape,a.dtype,g)}};function jC(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:o,keepDims:s}=r,i=n;let l=a.shape;const u=l.length,c=Ho(o,l);let d=c;const p=Mf(d,u);let h=i.data.get(a.dataId).values;if(null!=p){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[p[t]];h=nT(h,l,a.dtype,p,e),d=Rf(d.length,u),l=e}Pk(a,"max"),Af("max",d,u);const[f,m]=Nf(l,d),g=function(e,t,n,r){const a=Vo(r,zo(n));for(let o=0;o<a.length;++o){const n=o*t;let r=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>r)&&(r=t)}a[o]=r}return a}(h,zo(m),f,a.dtype),v=i.write(g,f,a.dtype);let y=f;if(s){y=Cf(f,c)}return{dataId:v,shape:y,dtype:a.dtype}}const HC={kernelName:qi,backendName:"cpu",kernelFunc:jC},VC=kE(((e,t)=>Math.max(e,t))),qC=BE(Gi,VC),GC={kernelName:Gi,backendName:"cpu",kernelFunc:qC};const KC={kernelName:Ki,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Pk(a,"maxPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=r;Fo(Nh(s,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")));const u=yh(a.shape,o,s,1,i,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&Bo(u.inShape,u.outShape))c=vE({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Qo(a.shape),r=wT(e,a.shape,a.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const $C={kernelName:Yi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r;Pk(a,"maxPool3d");const c=bh(a.shape,o,s,1,i,l,u),d=ST(n.data.get(a.dataId).values,a.shape,a.dtype,Qo(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const YC={kernelName:Qi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r;Pk([a,o],"maxPool3DGrad");const c=bh(o.shape,s,i,1,l,u),d=function(e,t){const n=Hd(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,i=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let v=0;v<t.outDepth;++v){const y=v*r-p;let b=y;for(;b<0;)b+=s;const w=Math.min(t.inDepth,u+y);for(let r=0;r<t.outHeight;++r){const u=r*a-h;let p=u;for(;p<0;)p+=i;const k=Math.min(t.inHeight,c+u);for(let a=0;a<t.outWidth;++a){const h=a*o-f;let S=h;for(;S<0;)S+=l;const x=Math.min(t.inWidth,d+h);let _=Number.NEGATIVE_INFINITY,I=-1;for(let t=b;t<w;t+=s){const n=t-y;for(let r=p;r<k;r+=i){const a=r-u;for(let o=S;o<x;o+=l){const s=o-h,i=e.get(m,t,r,o,g);i>=_&&(_=i,I=n*c*d+a*c+s)}}}n.set(I,m,v,r,a,g)}}}return n}(n.bufferSync(o),c),p=c.strideDepth,h=c.strideHeight,f=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,v=c.dilationWidth,y=c.effectiveFilterDepth,b=c.effectiveFilterHeight,w=c.effectiveFilterWidth,k=y-1-c.padInfo.front,S=w-1-c.padInfo.left,x=b-1-c.padInfo.top,_=Hd(o.shape,"float32"),I=n.bufferSync(a);for(let E=0;E<c.batchSize;++E)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-k,o=n-x,s=r-S;let i=0;for(let t=0;t<y;t+=m){const n=(a+t)/p;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let r=0;r<b;r+=g){const a=(o+r)/h;if(!(a<0||a>=c.outHeight||Math.floor(a)!==a))for(let o=0;o<w;o+=v){const l=(s+o)/f;if(l<0||l>=c.outWidth||Math.floor(l)!==l)continue;const u=y*b*w-1-d.get(E,n,a,l,e)===t*b*w+r*w+o?1:0;if(0===u)continue;i+=I.get(E,n,a,l,e)*u}}}_.set(i,E,t,n,r,e)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};const QC={kernelName:$i,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o,output:s}=t,i=o;Pk([o,s],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=yh(i.shape,l,u,1,c,d),h=n.data.get(i.dataId).values,f=Hd(p.outShape,i.dtype,kT(h,i.shape,i.dtype,p).values),m=p.strideHeight,g=p.strideWidth,v=p.dilationHeight,y=p.dilationWidth,b=p.effectiveFilterHeight,w=p.effectiveFilterWidth,k=w-1-p.padInfo.left,S=b-1-p.padInfo.top,x=Hd(i.shape,"float32"),_=n.data.get(a.dataId).values,I=Hd(a.shape,"float32",_);for(let E=0;E<p.batchSize;++E)for(let e=0;e<p.inChannels;++e)for(let t=0;t<p.inHeight;++t)for(let n=0;n<p.inWidth;++n){const r=t-S,a=n-k;let o=0;for(let t=0;t<b;t+=v){const n=(r+t)/m;if(!(n<0||n>=p.outHeight||Math.floor(n)!==n))for(let r=0;r<w;r+=y){const s=(a+r)/g;if(s<0||s>=p.outWidth||Math.floor(s)!==s)continue;const i=b*w-1-f.get(E,n,s,e)===t*w+r?1:0;if(0===i)continue;o+=I.get(E,n,s,e)*i}}x.set(o,E,t,n,e)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const XC={kernelName:Xi,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:o,strides:s,pad:i,includeBatchInIndex:l}=n,u=r;Pk(a,"MaxPoolWithArgmax");const c=u.data.get(a.dataId).values,d=yh(a.shape,o,s,[1,1],i),[p,h]=function(e,t,n,r,a){const o=wT(e,0,n,Qo(t),a,"max"),s=kT(e,t,n,a,!0,r);return[o.values,s.values]}(c,a.shape,a.dtype,l,d),f=u.write(p,d.outShape,a.dtype),m=u.write(h,d.outShape,a.dtype);return[{dataId:f,shape:d.outShape,dtype:a.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const JC={kernelName:Ji,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r,i=Ho(o,a.shape),l=zo(Nf(a.shape,i)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const d=LE({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});u.push(d);const p=zN({inputs:{a:d,b:c},backend:n});u.push(p);const h=wN({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:s}});return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const ZC={kernelName:Zi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;Pk(a,"min");const i=Ho(o,a.shape);let l=i;const u=Mf(l,a.shape.length);let c=a;null!=u&&(c=rT({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Rf(l.length,a.shape.length)),Af("min",l,c.shape.length);const[d,p]=Nf(c.shape,l),h=zo(p),f=es(zo(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<f.length;++v){const e=v*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[v]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(s){const e=qE({inputs:{x:g},backend:n,attrs:{shape:Cf(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}},eA=kE(((e,t)=>Math.min(e,t))),tA=BE(el,eA),nA={kernelName:el,backendName:"cpu",kernelFunc:tA};const rA={kernelName:tl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:o,mode:s}=r;Pk(a,"mirrorPad");const i=o.map(((e,t)=>e[0]+a.shape[t]+e[1])),l=o.map((e=>e[0])),u=o.map(((e,t)=>e[0]+a.shape[t])),c="reflect"===s?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,h=Qo(a.shape),f=zo(i),m=i.length,g=Qo(i),v=Vo(a.dtype,f);for(let y=0;y<f;y++){let e=as(y,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-c:e[n]>=u[n]&&(e[n]=2*(u[n]-1)-e[n]+c);e=e.map(((e,t)=>e-l[t]));const t=rs(e,p,h);v[y]=d[t]}return{dataId:n.write(v,i,a.dtype),shape:i,dtype:a.dtype}}},aA=kE(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),oA=BE(nl,aA),sA={kernelName:nl,backendName:"cpu",kernelFunc:oA};function iA(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:o}=r,s=a.shape.length;let i=o;if(-1===i&&(i=s-1),i!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(i));const l=Ho([i],a.shape),u=jC({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=Cf(u.shape,l),d=qE({inputs:{x:u},backend:n,attrs:{shape:c}}),p=jN({inputs:{a:a,b:d},backend:n}),h=AN({inputs:{x:p},backend:n}),f=wN({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=qE({inputs:{x:f},backend:n,attrs:{shape:c}}),g=zN({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const lA={kernelName:$l,backendName:"cpu",kernelFunc:iA};const uA={kernelName:rl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:o,seed:s,normalized:i}=r;Pk(a,"multinomial");const l=i?a:iA({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,p=[u,o],h=es(zo(p),"int32");for(let f=0;f<u;++f){const e=f*c,t=new Float32Array(c-1);t[0]=d[e];for(let a=1;a<t.length;++a)t[a]=t[a-1]+d[e+a];const n=$m.alea(s.toString()),r=f*o;for(let a=0;a<o;++a){const e=n();h[r+a]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[r+a]=n;break}}}return i||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",h)}};const cA={kernelName:ol,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;Pk(r,"neg");const a=n.data.get(r.dataId).values,[o,s]=function(e,t,n){const r=Ku(-1,n);return gN([],t,r,e,n)}(a,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,o)}},dA=Mv;const pA={kernelName:il,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=r;Pk(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:d}=dA(u,c,s,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},hA=Ov;const fA={kernelName:ll,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:u}=r;Pk(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:p,validOutputs:h}=hA(c,d,s,i,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},mA=Rv;const gA={kernelName:ul,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=r;Pk(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,p=s,h=i,f=l,m=u,{selectedIndices:g,selectedScores:v}=mA(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},vA=kE(((e,t)=>e!==t?1:0)),yA=BE(sl,vA,null,"bool"),bA={kernelName:sl,backendName:"cpu",kernelFunc:yA};const wA={kernelName:dl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:o,depth:s,onValue:i,offValue:l}=r;Pk(a,"oneHot");const u=zo(a.shape),c=new Float32Array(u*s);c.fill(l);const d=n.data.get(a.dataId).values;for(let p=0;p<u;++p)d[p]>=0&&d[p]<s&&(c[p*s+d[p]]=i);return n.makeTensorInfo([...a.shape,s],o,c)}};function kA(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=FE({inputs:{input:r},backend:n}),t=kA({inputs:{x:e},backend:n}),a=UT({inputs:{input:r},backend:n}),o=kA({inputs:{x:a},backend:n}),s=OE({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),s}return $N({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const SA={kernelName:vu,backendName:"cpu",kernelFunc:kA};const xA={kernelName:cl,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=FE({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),o=UT({inputs:{input:a},backend:r}),s=kA({inputs:{x:o},backend:r}),i=OE({inputs:{real:n,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),i}return $N({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function _A(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return ON({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{Po(o,e.shape,"All tensors passed to stack must have matching shapes"),Fo(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],l=t.map((e=>{const t=ON({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t})),u=HT({inputs:l,backend:n,attrs:{axis:a}});return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const IA={kernelName:pl,backendName:"cpu",kernelFunc:_A};const EA={kernelName:hl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:o,constantValue:s}=r;Pk(a,"pad");const i=o.map(((e,t)=>e[0]+a.shape[t]+e[1])),l=o.map((e=>e[0])),u=n.data.get(a.dataId).values,c=zo(a.shape),d=a.shape.length,p=Qo(a.shape),h=zo(i),f=i.length,m=Qo(i),g=Vo(a.dtype,h);0!==s&&g.fill(s);for(let v=0;v<c;v++){const e=as(v,d,p).map(((e,t)=>e+l[t]));g[rs(e,f,m)]=u[v]}return{dataId:n.write(g,i,a.dtype),shape:i,dtype:a.dtype}}},TA=kE(((e,t)=>Math.pow(e,t))),NA=BE(fl,TA),CA={kernelName:fl,backendName:"cpu",kernelFunc:NA};const AA={kernelName:gl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;Pk(a,"prod");const i=a.shape.length,l=Ho(o,a.shape),u=Mf(l,i);let c=l,d=a;const p=[];null!=u&&(d=rT({inputs:{x:a},backend:n,attrs:{perm:u}}),p.push(d),c=Rf(c.length,i));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=function(e,t,n,r){const[a,o]=Nf(e,r),s=wc(t,"int32"),i=es(zo(a),s),l=zo(o);for(let u=0;u<i.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];i[u]=t}return{outVals:i,outShape:a,outDtype:s}}(d.shape,d.dtype,h,c);let v=m;return s&&(v=Cf(m,l)),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(v,g,f)}};function MA(e,t,n,r){const a=[];let o=0;const s=t.length-1+n.length,i=new Array(s).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)i[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],s=e[u]+1;for(let e=0;e<n.length;++e){const a=n[e],o=e+t.length-1;if(o>=0){const e=i[o],t=e[e.length-1]-a[r];for(let n=r;n<s;++n)i[o].push(a[n+1]+t)}r=a[r],s=a[s]}s!==r&&(a.push([r,s]),o+=s-r)}return{outSplits:i,valueSlices:a,numValues:o}}function OA(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function RA(e,t,n,r,a){const o=t.slice();o[0]=a;const s=qo(n,zo(o)),i=e.length;return function(e,t,n,r,a,o){const s=OA(t,2)[1],i=OA(o,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)a[l*i+n]=e[t*s+n];++l}}(e,t,r,0===i?0:i/t[0],s,o),[s,o]}function DA(e,t,n,r,a,o,s,i){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const a=as(r,t.length,Qo(t)).join(",");throw new Error("indices[".concat(a,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(o,s,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=MA(o,s,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=qo("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(u),h=RA(n,r,a,c,d);return[p,h[0],h[1]]}const FA={kernelName:vl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:o,indices:s}=t,{outputRaggedRank:i}=r,l=a.map((e=>n.data.get(e.dataId).values)),u=a.map((e=>e.shape)),c=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,[p,h,f]=DA(l,u,c,o.shape,o.dtype,d,s.shape),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,o.dtype,h);return m.concat([g])}},PA=2147483647;const LA={kernelName:yl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:o}=t,s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=function(e,t,n,r,a,o,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const i=0===t.length,l=0===a.length,u=0===s.length,c=[];i||c.push(t[0]),l||c.push(a[0]),u||c.push(s[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===c.length?1:c[0],p=qo("int32",d+1);p[0]=0;for(let m=0;m<d;++m){const t=i?e[0]:e[m],n=l?r[0]:r[m],a=u?o[0]:o[m];if(0===a)throw new Error("Requires delta != 0");let s;if(a>0&&n<t||a<0&&n>t)s=0;else if(s=Math.ceil(Math.abs((n-t)/a)),s>PA)throw new Error("Requires ((limit - start) / delta) <= ".concat(PA));p[m+1]=p[m]+s}const h=qo(n,p[d]);let f=0;for(let m=0;m<d;++m){const t=p[m+1]-p[m];let n=i?e[0]:e[m];const r=u?o[0]:o[m];for(let e=0;e<t;++e)h[f++]=n,n+=r}return[p,h]}(s,r.shape,r.dtype,i,a.shape,l,o.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};var zA=_y;class BA{constructor(e,t,n,r,a,o,s,i,l,u){var c;this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=a,this.defaultValue=o,this.defaultValueShape=s,this.rowPartitionValues=i,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=function(e){const t={FIRST_DIM_SIZE:_y.FIRST_DIM_SIZE,VALUE_ROWIDS:_y.VALUE_ROWIDS,ROW_LENGTHS:_y.ROW_LENGTHS,ROW_SPLITS:_y.ROW_SPLITS,ROW_LIMITS:_y.ROW_LIMITS,ROW_STARTS:_y.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}(u),this.raggedRank=0===(c=this.rowPartitionTypes).length?0:c[0]===_y.FIRST_DIM_SIZE?c.length-1:c.length}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===zA.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===zA.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case zA.VALUE_ROWIDS:return BA.getMaxWidthValueRowID(t);case zA.ROW_SPLITS:return BA.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(zA[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],a=0;for(let o=1;o<t;++o){const t=e[o];t!==r&&(r=t,a=Math.max(o-n,a),n=o)}return Math.max(t-n,a)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return UA(e,n)}calculateOutputSize(e){const t=this.valuesShape;!function(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(let a=0;a<Math.min(n,r-1);++a){const n=e[a],r=t[a+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(r))}}(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=function(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(let a=1;a<n.length;++a){const o=n[a],s=r[r.length-n.length+a],i=r[s];if(o>=0)if(i>=0){if(i!==o)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(o," but shape[").concat(a+e,"] = ").concat(i))}else r[s]=o}return r}(this.raggedRank,n,t),a=r;a[0]<0&&(a[0]=e);for(let o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),a=[];let o=0;for(let s=0;s<r;++s,o+=t)a.push(o);for(let s=r;s<e;++s)a.push(-1);return Fo(a.length===e,(()=>"Final length of result must be equal to firstDimension.")),a}calculateOutputIndexRowSplit(e,t,n,r){const a=e.length,o=[];for(let s=0;s<a-1;++s){const a=e[s+1]-e[s];let i=Math.min(r,a),l=t[s];-1===l&&(i=0);for(let e=0;e<i;++e)o.push(l),l+=n;for(let e=0;e<a-i;++e)o.push(-1)}if(a>0&&o.length!==e[a-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,t,n,r){const a=e.length,o=[];if(0===a)return[];let s=0,i=e[0];if(i>=t.length)throw new Error("Got currentValueRowId=".concat(i,", which is not less than ").concat(t.length));let l=t[i];o.push(l);for(let u=1;u<a;++u){const a=e[u];if(a===i)l>=0&&(++s,s<r?l+=n:l=-1);else{if(s=0,i=a,a>=t.length)throw new Error("Got nextValueRowId=".concat(a," which is not less than ").concat(t.length));l=t[a]}o.push(l)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,t,n,r){const a=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case zA.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case zA.ROW_SPLITS:if(a.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error("Unsupported partition type: ".concat(zA[o]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case zA.FIRST_DIM_SIZE:return e[0];case zA.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case zA.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(zA[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let o=n.length-2;o>=0;--o)n[o]=n[o+1]*t[o+1];const r=UA(t,!1),a=qo(this.valuesDType,zo(r));if(n[0]*t[0]>0){let o=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){o=this.calculateOutputIndex(e-1,o,n[e],t[e])}this.setOutput(this.raggedRank,o,a,r)}return[r,a]}setOutput(e,t,n,r){if(0===n.length)return;const a=this.values,o=n;let s=r.slice();s=s.slice(e+1);const i=zo(s),l=t.length;let u=this.defaultValue;if(u.length!==i&&1!==u.length){const e=this.defaultValueShape;$d((()=>{const t=Oh(u,e),n=Yh(t,s);u=n.dataSync()}))}let c=0,d=0,p=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==p){if(d<p){const e=a.subarray(c*i);WA(o.subarray(d*i),e,(p-d)*i)}if(h>=l){const t=n.length;e=Math.floor(t/i)}if(e>p)if(1===this.defaultValue.length)o.subarray(p*i,e*i).fill(this.defaultValue[0]),p=e;else for(;e>p;){WA(o.slice(p*i),u,i),++p}e<0?(c=h+1,d=p):(c=h,d=p,p=d+1)}else++p}}}function WA(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function UA(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error("Dimension ".concat(r," must be >= 0"));if(r<-1)throw new Error("Dimension ".concat(r," must be >= -1"));r=-1}n.push(r)}return n}const jA={kernelName:bl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:o,defaultValue:s,rowPartitionTensors:i}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,p=i.map((e=>n.data.get(e.dataId).values)),h=i.map((e=>e.shape)),[f,m]=function(e,t,n,r,a,o,s,i,l,u){return new BA(e,t,n,r,a,o,s,i,l,u).compute()}(u,a.shape,c,o.shape,o.dtype,d,s.shape,p,h,l);return n.makeTensorInfo(f,o.dtype,m)}};const HA={kernelName:wl,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:o,step:s}=n,i=w_(r,a,s,o);return t.makeTensorInfo([i.length],o,i)}},VA=hE(Sl,(e=>1/e)),qA={kernelName:Sl,backendName:"cpu",kernelFunc:VA};const GA={kernelName:Tl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:o,halfPixelCenters:s,size:i}=r;Pk(a,"resizeBilinear");const l=Qo(a.shape),[u,c]=i,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(zo([d,u,c,f])),v=[o&&u>1?p-1:p,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c];let b=0;const w=v[0]/y[0],k=v[1]/y[1];for(let S=0;S<d;S++)for(let e=0;e<u;e++){let t;t=s?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),r=t-n,a=Math.min(p-1,Math.ceil(t)),o=S*l[0]+n*l[1],i=S*l[0]+a*l[1];for(let e=0;e<c;e++){let t;t=s?k*(e+.5)-.5:k*e;const n=Math.max(0,Math.floor(t)),a=t-n,u=Math.min(h-1,Math.ceil(t)),c=o+n*l[2],d=i+n*l[2],p=o+u*l[2],v=i+u*l[2];for(let e=0;e<f;e++){const t=m[c+e],n=m[d+e],o=t+(m[p+e]-t)*a,s=o+(n+(m[v+e]-n)*a-o)*r;g[b++]=s}}}return n.makeTensorInfo([d,u,c,f],"float32",g)}};const KA={kernelName:Nl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r;Pk([o,a],"resizeBilinearGrad");const i=Qo(a.shape),[l,u,c,d]=a.shape,[,p,h]=o.shape,f=new Float32Array(l*u*c*d),m=[s&&p>1?u-1:u,s&&h>1?c-1:c],g=[s&&p>1?p-1:p,s&&h>1?h-1:h],v=m[0]/g[0],y=m[1]/g[1],b=n.data.get(o.dataId).values;let w=0;for(let k=0;k<l;k++){const e=k*i[0];for(let t=0;t<p;t++){const n=t*v,r=Math.floor(n),a=Math.min(Math.ceil(n),u-1),o=e+r*i[1],s=e+a*i[1],l=n-r,p=1-l;for(let e=0;e<h;e++){const t=e*y,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),a=t-n,u=1-a,h=o+n*i[2],m=o+r*i[2],g=s+n*i[2],v=s+r*i[2],k=p*u,S=p*a,x=l*u,_=l*a;for(let e=0;e<d;e++){const t=b[w++];f[h+e]+=t*k,f[m+e]+=t*S,f[g+e]+=t*x,f[v+e]+=t*_}}}}return n.makeTensorInfo([l,c,u,d],"float32",f)}};const $A={kernelName:Il,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:o,halfPixelCenters:s,size:i}=r;Pk(a,"resizeNearestNeighbor");const l=Qo(a.shape),[u,c]=i,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(d*u*c*f),v=[o&&u>1?p-1:p,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c],b=v[0]/y[0],w=v[1]/y[1];let k=0;for(let S=0;S<d;S++){const e=S*l[0];for(let t=0;t<u;t++){const n=s?b*(t+.5):b*t;let r=Math.min(p-1,o?Math.round(n):Math.floor(n));s&&(r=Math.max(0,r));const a=e+r*l[1];for(let e=0;e<c;e++){const t=s?w*(e+.5):w*e;let n=Math.min(h-1,o?Math.round(t):Math.floor(t));s&&(n=Math.max(0,n));const r=a+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[k++]=t}}}}return n.makeTensorInfo([d,u,c,f],a.dtype,g)}};const YA={kernelName:El,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r;Pk([o,a],"resizeNearestNeighborGrad");const i=Qo(a.shape),l=Qo(o.shape),[u,c,d,p]=a.shape,[,h,f]=o.shape,m=new Float32Array(u*c*d*p),g=n.data.get(o.dataId).values,v=[s&&h>1?c-1:c,s&&f>1?d-1:d],y=[s&&h>1?h-1:h,s&&f>1?f-1:f],b=v[0]/y[0],w=v[1]/y[1],k=1/b,S=1/w,x=2*Math.ceil(k)+2,_=2*Math.ceil(S)+2;for(let I=0;I<u;I++){const e=I*i[0];for(let t=0;t<c;t++){const n=e+t*i[1],r=Math.floor(t*k),a=Math.floor(r-x/2);for(let o=0;o<d;o++){const r=n+o*i[2],u=Math.floor(o*S),v=Math.floor(u-_/2);for(let n=0;n<p;n++){let i=0;for(let r=0;r<x;r++){const u=r+a;if(u<0||u>=h)continue;const p=e+u*l[1],m=u*b;if(t===Math.min(c-1,s?Math.round(m):Math.floor(m)))for(let e=0;e<_;e++){const t=e+v;if(t<0||t>=f)continue;const r=p+t*l[2],a=t*w;o===Math.min(d-1,s?Math.round(a):Math.floor(a))&&(i+=g[r+n])}}m[r+n]=i}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}};const QA={kernelName:Al,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r;Pk(a,"reverse");const s=a.shape.length,i=Ho(o,a.shape);if(0===s)return vE({inputs:{x:a},backend:n});const l=new lc(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){const e=l.indexToLoc(c),t=e.slice();i.forEach((e=>t[e]=a.shape[e]-1-t[e])),l.set(u.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},XA={kernelName:wu,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:o,fillValue:s,center:i}=n,l=r,u=Vo(a.dtype,zo(a.shape)),[c,d,p,h]=a.shape,[f,m]=Iy(i,d,p),g=Math.sin(o),v=Math.cos(o),y=l.data.get(a.dataId).values;for(let b=0;b<c;b++){const e=b*p*d*h;for(let t=0;t<d;t++){const n=t*(p*h);for(let r=0;r<p;r++){const a=r*h;for(let o=0;o<h;o++){const i=[c,t,r,o],l=i[2],b=i[1];let w=(l-f)*v-(b-m)*g,k=(l-f)*g+(b-m)*v;w=Math.round(w+f),k=Math.round(k+m);let S=s;if("number"!==typeof s&&(S=3===o?255:s[o]),w>=0&&w<p&&k>=0&&k<d){S=y[e+k*(p*h)+w*h+o]}u[e+n+a+o]=S}}}}return{dataId:l.write(u,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},JA=hE(Ml,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),ZA={kernelName:Ml,backendName:"cpu",kernelFunc:JA},eM=pE((e=>1/Math.sqrt(e))),tM=fE(Ol,eM),nM={kernelName:Ol,backendName:"cpu",kernelFunc:tM};function rM(e,t,n,r,a,o,s,i,l,u){const c=[r/a,a],d=e.values,p=t.values;if(0===r)return Hd(n,t.dtype);const h=l instanceof lc?l:Hd(c,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let f=0;f<o;f++){const e=[];let o=0;for(let t=0;t<s;t++){const n=d[f*s+t];e.push(n),o+=n*i[t]}if(o<0||o>=r/a)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<a;n++)u?h.values[o*a+n]+=p[f*a+n]:h.values[o*a+n]=0===t.rank?p[0]:p[f*a+n]}return h}const aM={kernelName:Rl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:o}=t,{shape:s}=r,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Jp(0,a,s),p=rM(n.bufferSync(a),n.bufferSync(o),s,d,u,l,i,c,0,!0);return n.makeTensorInfo(s,p.dtype,p.values)}};function oM(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function sM(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}const iM={kernelName:Fl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:o}=t,{side:s}=r,i=function(e,t,n,r,a,o){const s=qo("int32",n*a);for(let i=0;i<n;++i){const n=e.slice(i*r,(i+1)*r),l=i*a;for(let e=0;e<a;++e)s[l+e]="left"===o?oM(n,t[e+l]):sM(n,t[e+l])}return s}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",i)}};const lM={kernelName:Pl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t;Pk([r,a,o],"select");const s=r.shape.length,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=wc(a.dtype,o.dtype),d=es(zo(a.shape),c);let p=0;const h=0===s||s>1||1===a.shape.length?1:zo(a.shape.slice(1));for(let f=0;f<i.length;f++)for(let e=0;e<h;e++)1===i[f]?d[p++]=l[f]:d[p++]=u[f];return n.makeTensorInfo(a.shape,c,d)}},uM=hE(Ll,(e=>e>=0?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1))),cM={kernelName:Ll,backendName:"cpu",kernelFunc:uM},dM=hE(Ul,(e=>e<0?-1:e>0?1:0)),pM={kernelName:Ul,backendName:"cpu",kernelFunc:dM},hM=hE(Bl,(e=>Math.sin(e))),fM={kernelName:Bl,backendName:"cpu",kernelFunc:hM},mM=hE(Wl,(e=>Math.sinh(e))),gM={kernelName:Wl,backendName:"cpu",kernelFunc:mM},vM=Math.log(1.1920928955078125e-7)+2,yM=hE(Hl,(e=>{const t=e>-vM,n=e<vM,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a})),bM={kernelName:Hl,backendName:"cpu",kernelFunc:yM};const wM={kernelName:Gl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:s}=r;Pk([a],"spaceToBatchND");const i=zo(o),l=[[0,0]];l.push(...s);for(let g=1+o.length;g<a.shape.length;++g)l.push([0,0]);const u=EA.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=Ey(u.shape,o,i,!1),d=Ty(c.length,o.length,!1),p=Ny(u.shape,o,i,!1),h=qE({inputs:{x:u},backend:n,attrs:{shape:c}}),f=rT({inputs:{x:h},backend:n,attrs:{perm:d}}),m=qE({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};const kM={kernelName:Yl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values[0],[d,p,h,f,m]=function(e,t,n,r,a,o,s){const i=t[0],l=o[0],u=new Array(l),c=new Array(i),d=t[1];if(0===l){if(0!==i)throw new Error(Uy(i));return[qo(n,0),[0,d],qo(a,0),u,c]}let p=!0,h=0;const f=new Array(l).fill(0);for(let g=0;g<i;++g){const t=e[g*d];if(t<0)throw new Error(jy(g,t));if(t>=l)throw new Error(Hy(g,t,l));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];u[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<i;++e)c[e]=e;return[t,[i,d],n,u,c]}{const t=f[l-1],o=qo(n,t*d),p=qo(a,t),h=new Array(l).fill(0);for(let n=0;n<i;++n){const t=e[n*d],a=h[t],s=(0===t?0:f[t-1])+a;h[t]++;for(let r=0;r<d;++r)o[s*d+r]=e[n*d+r];p[s]=r[n],c[n]=s}for(let e=0;e<l;++e)if(0===h[e]){const t=0===e?0:f[e-1];o[t*d+0]=e;for(let e=1;e<d;++e)o[t*d+e]=0;p[t]=s}return[o,[t,d],p,u,c]}}(i,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],a.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const SM={kernelName:Ql,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:o}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const s=Array.from(n.data.get(a.dataId).values),i=n.data.get(r.dataId).values,l=Array.from(n.data.get(o.dataId).values),[u,c,d]=function(e,t,n,r,a){const o=zo(r),s=t[0],i=a.length,l=[];let u=1,c=-1;for(let m=0;m<i;++m){const e=a[m];if(-1===e){if(-1!==c)throw new Error(Vy(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(qy(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(o/u);if(u*e!==o)throw new Error(Gy(r,l));l[c]=e}if(zo(l)!==o)throw new Error(Ky(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(i>0){h[i-1]=1;for(let e=i-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=qo(n,s*i);for(let m=0;m<s;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<i;++e)f[m*i+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[s,i],l]}(i,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};function xM(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const i=r.length,l=[t[0],e.length/t[0]],u=l[1],c=i>0?a[i-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=qo(n,d.reduce(((e,t)=>e*t),1));if(0===i)return c>0&&p.fill(s),[p,d];if(c<=0)throw new Error("segment ids must be >= 0");let h=0,f=1,m=0,g=a[h];for(;;){let t=0;if(f<i){if(t=a[f],g===t){++f;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=c)throw new Error($y(g,c));g>m&&p.fill(s,m*u,g*u);for(let n=h;n<f;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(Yy(n,r[n],l[0]));for(let n=0;n<u;n++)p[g*u+n]+=e[t*u+n]}if(o)for(let e=0;e<u;e++)p[g*u+e]/=f-h;if(h=f,++f,m=g+1,g=t,f>i)break}return m<c&&p.fill(s,m*u,c*u),[p,d]}const _M={kernelName:Xl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=xM(s,r.shape,r.dtype,i,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const IM={kernelName:Jl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=xM(s,r.shape,r.dtype,i,l);return n.makeTensorInfo(c,r.dtype,u)}};const EM={kernelName:Zl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:o,defaultValue:s}=t,{outputShape:i}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Jp(0,a,i),h=!1,f=n.bufferSync(a);let m;switch(o.dtype){case"bool":m=rM(f,n.bufferSync(o),i,p,c,u,l,d,Boolean(n.data.get(s.dataId).values[0]),h);break;case"float32":m=rM(f,n.bufferSync(o),i,p,c,u,l,d,n.data.get(s.dataId).values[0],h);break;case"int32":m=rM(f,n.bufferSync(o),i,p,c,u,l,d,n.data.get(s.dataId).values[0],h);break;case"string":m=rM(f,n.bufferSync(o),i,p,c,u,l,d,Xu(n.data.get(s.dataId).values[0]),h);break;default:throw new Error("Unsupported type ".concat(o.dtype))}return n.makeTensorInfo(i,m.dtype,m.values)}};const TM={kernelName:Kl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:s}=r,i=Ho(s,a.shape)[0],l=Wy(a,o,i),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map((e=>{const t=[...c];t[i]=e;const r=zk({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[i]+=e,r}))}},NM=(pE((e=>Math.sqrt(e))),hE(Vl,(e=>Math.sqrt(e)))),CM={kernelName:Vl,backendName:"cpu",kernelFunc:NM},AM={kernelName:tu,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,a=n;Pk(r,"square");const o=a.data.get(r.dataId).values,s=new Float32Array(o.length);for(let i=0;i<o.length;++i){const e=o[i];s[i]=e*e}return{dataId:a.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},MM=kE(((e,t)=>{const n=e-t;return n*n})),OM=BE(eu,MM),RM={kernelName:eu,backendName:"cpu",kernelFunc:OM},DM=pE(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)})),FM=fE(nu,DM),PM={kernelName:nu,backendName:"cpu",kernelFunc:FM},LM=hE(yu,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),zM={kernelName:yu,backendName:"cpu",kernelFunc:LM};const BM={kernelName:ru,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:o,end:s,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r;Pk(a,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:y,end:b,strides:w}=rh(a.shape,o,s,i,l,u,c,d,p);let k;if(m)k=qE({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||v){Fo(a.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(a.shape.length)));const e=Zp(y,b,w),t=zk({inputs:{x:a},backend:n,attrs:{begin:y,size:e}});k=qE({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=function(e,t,n,r){const a=Hd(e,t.dtype);for(let o=0;o<a.size;o++){const e=a.indexToLoc(o),s=new Array(e.length);for(let t=0;t<s.length;t++)s[t]=e[t]*n[t]+r[t];a.set(t.get(...s),...e)}return a}(h,n.bufferSync(a),w,y);k=n.makeTensorInfo(f,e.dtype,e.values)}return k}};const WM={kernelName:au,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:o,leftPad:s,rightPad:i,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,[f,m]=wI(p,h,a,o,s,i,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const UM={kernelName:ou,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(0!==s.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const i=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values[0],[u,c,d]=xI(i,l,a),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const jM={kernelName:su,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=II(n.data.get(o.dataId).values,a);return n.makeTensorInfo(o.shape,"int32",s)}},HM=hE(lu,(e=>Math.tan(e))),VM={kernelName:lu,backendName:"cpu",kernelFunc:HM},qM=hE(uu,(e=>Math.tanh(e)));const GM={kernelName:Dl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:o}=t,{sliceRank:s,numUpdates:i,sliceSize:l,strides:u,outputSize:c}=Jp(0,a,r.shape),d=n.bufferSync(a),p=n.bufferSync(o),h=n.bufferSync(r),f=rM(d,p,r.shape,c,l,i,s,u,h,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};const KM={kernelName:cu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:o}=r;Pk(a,"tile");const s=function(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=Hd(n,e.dtype);for(let a=0;a<r.values.length;++a){const t=r.indexToLoc(a),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const o=e.locToIndex(n);r.values[a]=e.values[o]}return r}(n.bufferSync(a),o);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},$M=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function YM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),i=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*i*(a-i)/a)*Math.sign(o-a/2);YM(e,t,Math.max(n,Math.floor(t-o*i/a+l)),Math.min(r,Math.floor(t+(a-o)*i/a+l)))}const a=e[t];let o=n,s=r;for(Do(e,n,t),$M(e[r],a)>0&&Do(e,n,r);o<s;){for(Do(e,o,s),o++,s--;$M(e[o],a)<0;)o+=1;for(;$M(e[s],a)>0;)s-=1}0===$M(e[n],a)?Do(e,n,s):(s+=1,Do(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}const QM={kernelName:du,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:o,sorted:s}=r;Pk(a,"topk");const i=n.data.get(a.dataId).values,[l,u]=function(e,t,n,r,a){const o=t[t.length-1],[s,i]=[e.length/o,o],l=Vo(n,s*r),u=Vo("int32",s*r);for(let d=0;d<s;d++){const t=d*i,n=e.subarray(t,t+i);let o=new Array(n.length);n.forEach(((e,t)=>o[t]={value:e,index:t})),r<o.length&&(YM(o,r),o=o.slice(0,r)),a&&o.sort($M);const s=d*r,c=l.subarray(s,s+r),p=u.subarray(s,s+r);for(let e=0;e<r;e++)c[e]=o[e].value,p[e]=o[e].index}const c=t.slice();return c[c.length-1]=r,[Hd(c,n,l),Hd(c,"int32",u)]}(i,a.shape,a.dtype,o,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}};const XM={kernelName:pu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:o}=t,{interpolation:s,fillMode:i,fillValue:l,outputShape:u}=n,[c,d,p,h]=a.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],v=Qo(a.shape),y=v[0],b=v[1],w=v[2],k=Qo(g),S=k[0],x=k[1],_=k[2],I=Vo(a.dtype,zo(g));I.fill(l);const E=r.data.get(a.dataId).values,T=r.data.get(o.dataId).values;for(let N=0;N<c;++N){const e=1===o.shape[0]?T:T.subarray(8*N,8*N+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<h;++r){let a;const o=e[6]*n+e[7]*t+1;if(0===o)continue;const u=(e[0]*n+e[1]*t+e[2])/o,c=(e[3]*n+e[4]*t+e[5])/o,h=JM(u,p,i),f=JM(c,d,i);switch(s){case"nearest":a=eO(E,d,p,y,b,w,N,f,h,r,l);break;case"bilinear":a=tO(E,d,p,y,b,w,N,f,h,r,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}I[N*S+t*x+n*_+r]=a}return r.makeTensorInfo(g,a.dtype,I)}return{dataId:r.write(I,g,a.dtype),shape:a.shape,dtype:a.dtype}}};function JM(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return Ro(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return Ro(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Ro(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function ZM(e,t,n,r,a,o,s,i,l,u,c){return 0<=i&&i<t&&0<=l&&l<n?e[s*r+i*a+l*o+u]:c}function eO(e,t,n,r,a,o,s,i,l,u,c){return ZM(e,t,n,r,a,o,s,Math.round(i),Math.round(l),u,c)}function tO(e,t,n,r,a,o,s,i,l,u,c){const d=Math.floor(i),p=Math.floor(l),h=d+1,f=p+1;return(h-i)*((f-l)*ZM(e,t,n,r,a,o,s,d,p,u,c)+(l-p)*ZM(e,t,n,r,a,o,s,d,f,u,c))+(i-d)*((f-l)*ZM(e,t,n,r,a,o,s,h,p,u,c)+(l-p)*ZM(e,t,n,r,a,o,s,h,f,u,c))}const nO={kernelName:fu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:o}=t;Pk(o,"unique");const s=r.data.get(o.dataId).values,{outputValues:i,outputShape:l,indices:u}=WI(s,a,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,i),r.makeTensorInfo([u.length],"int32",u)]}};const rO={kernelName:mu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:o}=r;o<0&&(o+=a.shape.length);const s=a.shape.length,i=a.shape[o],l=new Array(s-1);let u=0;for(let h=0;h<s;h++)h!==o&&(l[u++]=a.shape[h]);const c=new Array(s).fill(0),d=a.shape.slice();d[o]=1;const p=new Array(i);for(let h=0;h<p.length;h++){c[o]=h;const e=zk({inputs:{x:a},backend:n,attrs:{begin:c,size:d}});p[h]=qE({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return p}};const aO={kernelName:gu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:o}=t,{numSegments:s}=r;Pk(a,"unsortedSegmentSum");const i=[],l=[],u=a.shape.length-o.shape.length;let c=o;for(let p=0;p<u;++p){const e=ON({inputs:{input:c},backend:n,attrs:{dim:p+1}});c=e,l.push(e)}for(let p=0;p<s;++p){const e=Ku(p,"int32"),t=n.makeTensorInfo([],"int32",e),r=IN({inputs:{a:t,b:c},backend:n}),o=LE({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),s=yN({inputs:{a:o,b:a},backend:n}),u=wN({inputs:{x:s},backend:n,attrs:{axis:0,keepDims:!1}});i.push(u),l.push(t),l.push(r),l.push(o),l.push(s),l.push(u)}const d=_A({inputs:i,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},oO=[YE,QE,JE,eT,VE,tT,oT,sT,iT,lT,cT,pT,fT,vT,bT,xT,_T,IT,ET,$E,TT,NT,AT,RT,DT,zE,LT,BT,RE,WT,VT,GT,KT,$T,YT,QT,XT,ZT,tN,nN,rN,aN,oN,sN,lN,uN,cN,dN,pN,hN,fN,mN,SN,gE,xN,EN,NN,MN,RN,PN,KN,YN,QN,ZN,nC,rC,aC,oC,sC,uC,pC,yE,hC,jT,mC,vC,bC,wE,SC,IC,EC,CC,MC,DC,PC,BC,WC,UC,HC,GC,KC,$C,YC,QC,XC,JC,ZC,nA,rA,sA,uA,bN,cA,pA,fA,gA,bA,wA,xA,IA,EA,CA,_E,AA,FA,LA,jA,HA,PE,BN,qA,EE,NE,GE,GA,KA,$A,YA,QA,XA,ZA,nM,aM,iM,lM,cM,AE,pM,fM,gM,Bk,lA,bM,wM,kM,SM,_M,IM,EM,TM,CM,AM,RM,PM,zM,BM,WM,UM,jM,HN,kN,VM,{kernelName:uu,backendName:"cpu",kernelFunc:qM},GM,KM,QM,XM,aT,nO,rO,aO,SA];for(const n of oO)Au(n);const sO=new D("retryUtil");const iO=function(e,t){let n=arguments.length>3?arguments[3]:void 0;return async function(e,t,n,r){if("function"!==typeof e)throw Error("functionToRetry must be a function");return new Promise((async(a,o)=>{let s,i,l=0,u=!1,c=()=>{};for(r&&r.then((()=>{u=!0,clearTimeout(s),c()}));!u;){l++,sO.debug("".concat(e.name," attempt #").concat(l," with this vars: ").concat(JSON.stringify(t)));try{return void a(await e(...t))}catch(eq){if(i=eq,sO.debug("error on ".concat(e.name),eq),(d=eq)&&d.nonRetryable)return sO.debug("".concat(e.name," non retryable error"),eq),void o(eq);const a=n(l,t,eq);if(sO.debug("".concat(e.name," retrying in ").concat(a," ms")),!1===a||u)return void o(eq);await new Promise((e=>{c=e,s=setTimeout(c,a)}))}}var d;o(i)}))}(e,t,mt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft),n)};class lO{triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}const uO="https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/".concat("1.0.2","/model/model.json"),cO="https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/".concat("4.11.0","/");class dO extends lO{constructor(e,t){super(),this.faceModelUrl=null!==t&&void 0!==t?t:uO,this.binaryPath=null!==e&&void 0!==e?e:cO}async loadModels(){!function(){try{return!!window.WebAssembly&&(!!window.WebAssembly.compile||!!window.WebAssembly.compileStreaming)}catch(rB){return!1}}()?await this._loadCPUBackend():await this._loadWebAssemblyBackend();try{await Ac.ready(),this._model=await function(e,t){return kw(this,void 0,void 0,(function(){var n,r;return Sw(this,(function(a){if(e===zw.MediaPipeFaceDetector){if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,Yw(n)];if("mediapipe"===n.runtime)return[2,Ew(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r))}throw new Error("".concat(e," is not a supported model name."))}))}))}(zw.MediaPipeFaceDetector,{runtime:"tfjs",detectorModelUrl:this.faceModelUrl})}catch(rB){throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")}}async detectFaces(e){const t=await this._model.estimateFaces(e,{flipHorizontal:!0}),n=Date.now();return t.map((e=>{const{box:t,keypoints:r}=e,{xMin:a,yMin:o,width:s,height:i}=t,l=this._getCoordinate(r,"rightEye"),u=this._getCoordinate(r,"leftEye"),c=this._getCoordinate(r,"noseTip"),d=this._getCoordinate(r,"mouthCenter"),p=this._getCoordinate(r,"rightEarTragion"),h=this._getCoordinate(r,"leftEarTragion");return{top:o,left:a,width:s,height:i,timestampMs:n,probability:90,rightEye:l,leftEye:u,mouth:d,nose:c,rightEar:p,leftEar:h}}))}_getCoordinate(e,t){const n=e.find((e=>e.name===t));return[n.x,n.y]}async _loadWebAssemblyBackend(){try{!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(sE)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"===typeof e)aE=e;else{oE=e;const t=nE.filter((e=>null==oE[e]));if(t.length>0)throw new Error("There were no entries found for the following binaries: "+"".concat(t.join(","),". Please either call setWasmPaths with a ")+"map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.")}iE=t}(this.binaryPath),await iO((async()=>{if(!await Xd("wasm"))throw new Error("Initialization of backend wasm failed")}),[]),this.modelBackend="wasm"}catch(rB){throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')}}async _loadCPUBackend(){await Xd("cpu"),this.modelBackend="cpu"}}function pO(e,t){this.v=e,this.k=t}function hO(e){return new pO(e,0)}function fO(e){return function(){return new mO(e.apply(this,arguments))}}function mO(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,i=s instanceof pO;Promise.resolve(i?s.v:s).then((function(n){if(i){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}a(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,s){var i={key:e,arg:a,resolve:o,reject:s,next:null};n?n=n.next=i:(t=n=i,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}var gO,vO,yO,bO;mO.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},mO.prototype.next=function(e){return this._invoke("next",e)},mO.prototype.throw=function(e){return this._invoke("throw",e)},mO.prototype.return=function(e){return this._invoke("return",e)},function(e){e.HEADER="header",e.QUERY="query"}(gO||(gO={})),function(e){e.HEADER="header",e.QUERY="query"}(vO||(vO={})),function(e){e.HTTP="http",e.HTTPS="https"}(yO||(yO={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(bO||(bO={}));var wO;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(wO||(wO={}));const kO="__smithy_context";var SO,xO;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(SO||(SO={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(xO||(xO={}));class _O{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new _O(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return _O.clone(this)}}const IO={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},EO=e=>async t=>{const{request:n}=t;return _O.isInstance(n)?(n.headers=M(M({},n.headers),{},{"content-type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"}),e(M(M({},t),{},{request:n}))):e(t)},TO={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},NO=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async r=>{const{request:a}=r;return _O.isInstance(a)?e.eventStreamPayloadHandler.handle(t,r,n):t(r)})(e),IO),t.add(EO,TO)}});!function(){function e(){this.crc32=new CO}e.prototype.update=function(e){fe(e)||this.crc32.update(he(e))},e.prototype.digest=function(){return re(this,void 0,void 0,(function(){return ae(this,(function(e){return[2,(t=this.crc32.digest(),new Uint8Array([(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))];var t}))}))},e.prototype.reset=function(){this.crc32=new CO}}();var CO=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=oe(e),a=r.next();!a.done;a=r.next()){var o=a.value;this.checksum=this.checksum>>>8^AO[255&(this.checksum^o)]}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),AO=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);const MO={},OO={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),MO[n]=e,OO[e]=n}function RO(e){let t="";for(let n=0;n<e.byteLength;n++)t+=MO[e[n]];return t}class DO{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error("".concat(e," is too large (or, if negative, too small) to represent as an Int64"));const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&FO(t),new DO(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&FO(e),parseInt(RO(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function FO(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class PO{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const a of Object.keys(e)){const n=this.fromUtf8(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const s=this.fromUtf8(e.value),i=new DataView(new ArrayBuffer(3+s.byteLength));i.setUint8(0,7),i.setUint16(1,s.byteLength,!1);const l=new Uint8Array(i.buffer);return l.set(s,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(DO.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!KO.test(e.value))throw new Error("Invalid UUID received: ".concat(e.value));const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in OO))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=OO[r]}return t}(e.value.replace(/\-/g,"")),1),c}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),a=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[a]={type:zO,value:!0};break;case 1:t[a]={type:zO,value:!1};break;case 2:t[a]={type:BO,value:e.getInt8(n++)};break;case 3:t[a]={type:WO,value:e.getInt16(n,!1)},n+=2;break;case 4:t[a]={type:UO,value:e.getInt32(n,!1)},n+=4;break;case 5:t[a]={type:jO,value:new DO(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[a]={type:HO,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[a]={type:VO,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[a]={type:qO,value:new Date(new DO(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[a]={type:GO,value:"".concat(RO(s.subarray(0,4)),"-").concat(RO(s.subarray(4,6)),"-").concat(RO(s.subarray(6,8)),"-").concat(RO(s.subarray(8,10)),"-").concat(RO(s.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return t}}var LO;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(LO||(LO={}));const zO="boolean",BO="byte",WO="short",UO="integer",jO="long",HO="binary",VO="string",qO="timestamp",GO="uuid",KO=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class $O{constructor(e,t){this.headerMarshaller=new PO(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode(e){let{headers:t,body:n}=e;const r=this.headerMarshaller.format(t),a=r.byteLength+n.byteLength+16,o=new Uint8Array(a),s=new DataView(o.buffer,o.byteOffset,o.byteLength),i=new CO;return s.setUint32(0,a,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,i.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(a-4,i.update(o.subarray(8,a-4)).digest(),!1),o}decode(e){const{headers:t,body:n}=function(e){let{byteLength:t,byteOffset:n,buffer:r}=e;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");const a=new DataView(r,n,t),o=a.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");const s=a.getUint32(4,!1),i=a.getUint32(8,!1),l=a.getUint32(t-4,!1),u=(new CO).update(new Uint8Array(r,n,8));if(i!==u.digest())throw new Error("The prelude checksum specified in the message (".concat(i,") does not match the calculated CRC32 checksum (").concat(u.digest(),")"));if(u.update(new Uint8Array(r,n+8,t-12)),l!==u.digest())throw new Error("The message checksum (".concat(u.digest(),") did not match the expected value of ").concat(l));return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,o-s-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class YO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return fO((function*(){var t,n=!1,r=!1;try{for(var a,o=Ua(e.options.inputStream);n=!(a=yield hO(o.next())).done;n=!1){const t=a.value;{const n=e.options.decoder.decode(t);yield n}}}catch(eq){r=!0,t=eq}finally{try{n&&null!=o.return&&(yield hO(o.return()))}finally{if(r)throw t}}}))()}}class QO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return fO((function*(){var t,n=!1,r=!1;try{for(var a,o=Ua(e.options.messageStream);n=!(a=yield hO(o.next())).done;n=!1){const t=a.value;{const n=e.options.encoder.encode(t);yield n}}}catch(eq){r=!0,t=eq}finally{try{n&&null!=o.return&&(yield hO(o.return()))}finally{if(r)throw t}}e.options.includeEndFrame&&(yield new Uint8Array(0))}))()}}class XO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return fO((function*(){var t,n=!1,r=!1;try{for(var a,o=Ua(e.options.messageStream);n=!(a=yield hO(o.next())).done;n=!1){const t=a.value;{const n=yield hO(e.options.deserializer(t));if(void 0===n)continue;yield n}}}catch(eq){r=!0,t=eq}finally{try{n&&null!=o.return&&(yield hO(o.return()))}finally{if(r)throw t}}}))()}}class JO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return fO((function*(){var t,n=!1,r=!1;try{for(var a,o=Ua(e.options.inputStream);n=!(a=yield hO(o.next())).done;n=!1){const t=a.value;{const n=e.options.serializer(t);yield n}}}catch(eq){r=!0,t=eq}finally{try{n&&null!=o.return&&(yield hO(o.return()))}finally{if(r)throw t}}}))()}}const ZO={},eR={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),ZO[n]=e,eR[e]=n}function tR(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in eR))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=eR[r]}return t}class nR{constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new $O(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>{var t;return null!==(t=e.systemClockOffset)&&void 0!==t?t:0}}async handle(e,t){const n=t.request,{body:r,headers:a,query:o}=n;if(!(r instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const s=new TransformStream;let i;n.body=s.readable;try{i=await e(t)}catch(rB){throw n.body.cancel(),rB}const l=((e,t,n,r)=>{let a=e;const o={start(){},async transform(e,o){try{const s=new Date(Date.now()+await r()),i={":date":{type:"timestamp",value:s}},l=await t.sign({message:{body:e,headers:i},priorSignature:a},{signingDate:s});a=l.signature;const u=n.encode({headers:M(M({},i),{},{":chunk-signature":{type:"binary",value:tR(l.signature)}}),body:e});o.enqueue(u)}catch(s){o.error(s)}}};return new TransformStream(M({},o))})(((a.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||o&&o["X-Amz-Signature"]||"",await this.messageSigner(),this.eventStreamCodec,this.systemClockOffsetProvider);return r.pipeThrough(l).pipeThrough(s),i}}const rR=e=>new nR(e),aR={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0};class oR{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new oR(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return oR.clone(this)}}class sR{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const iR={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},lR=(e,t)=>({applyToStack:n=>{n.addRelativeTo(((e,t)=>n=>r=>{var a;const{request:o}=r;if(oR.isInstance(o)&&null!==(a=e.requestHandler.metadata)&&void 0!==a&&null!==(a=a.handlerProtocol)&&void 0!==a&&a.toLowerCase().includes("websocket")){var s;o.protocol="wss:",o.method="GET",o.path="".concat(o.path,"-websocket");const{headers:e}=o;delete e["content-type"],delete e["x-amz-content-sha256"];for(const n of Object.keys(e))if(0===n.indexOf(t.headerPrefix)){const r=n.replace(t.headerPrefix,"");o.query[r]=e[n]}e["x-amz-user-agent"]&&(o.query["user-agent"]=e["x-amz-user-agent"]),o.headers={host:null!==(s=e.host)&&void 0!==s?s:o.hostname}}return n(r)})(e,t),iR),n.add((e=>async t=>{const n=M({},t.input),r=await e(t),a=r.output;return n.SessionId&&null==a.SessionId&&(a.SessionId=n.SessionId),r}),aR)}}),uR=e=>"ws:"===e.protocol||"wss:"===e.protocol;class cR{constructor(e){this.signer=e.signer}presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.signer.presign(e,t)}async sign(e,t){if(oR.isInstance(e)&&uR(e)){const n=await this.signer.presign(M(M({},e),{},{body:""}),M(M({},t),{},{expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter((e=>"host"!==e)))}));return M(M({},n),{},{body:e.body})}return this.signer.sign(e,t)}}const dR=e=>!!e,pR=e=>encodeURIComponent(e).replace(/[!'()*]/g,hR),hR=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase());function fR(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=pR(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push("".concat(n,"=").concat(pR(r[e])));else{let e=n;(r||"string"===typeof r)&&(e+="=".concat(pR(r))),t.push(e)}}return t.join("&")}function mR(e){const{port:t,query:n}=e;let{protocol:r,path:a,hostname:o}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(o+=":".concat(t)),a&&"/"!==a.charAt(0)&&(a="/".concat(a));let s=n?fR(n):"";s&&"?"!==s[0]&&(s="?".concat(s));let i="";if(null!=e.username||null!=e.password){var l,u;const t=null!==(l=e.username)&&void 0!==l?l:"",n=null!==(u=e.password)&&void 0!==u?u:"";i="".concat(t,":").concat(n,"@")}let c="";return e.fragment&&(c="#".concat(e.fragment)),"".concat(r,"//").concat(i).concat(o).concat(a).concat(s).concat(c)}function gR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error("Request did not complete within ".concat(e," ms"));t.name="TimeoutError",n(t)}),e)}))}const vR={supported:void 0};class yR{static create(e){return"function"===typeof(null===e||void 0===e?void 0:e.handle)?e:new yR(e)}constructor(e){"function"===typeof e?this.configProvider=e().then((e=>e||{})):(this.config=null!==e&&void 0!==e?e:{},this.configProvider=Promise.resolve(this.config)),void 0===vR.supported&&(vR.supported=Boolean("undefined"!==typeof Request&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(e){var t;let{abortSignal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,a=!0===this.config.keepAlive,o=this.config.credentials;if(null!==n&&void 0!==n&&n.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let s=e.path;const i=fR(e.query||{});i&&(s+="?".concat(i)),e.fragment&&(s+="#".concat(e.fragment));let l="";if(null!=e.username||null!=e.password){var u,c;const t=null!==(u=e.username)&&void 0!==u?u:"",n=null!==(c=e.password)&&void 0!==c?c:"";l="".concat(t,":").concat(n,"@")}const{port:d,method:p}=e,h="".concat(e.protocol,"//").concat(l).concat(e.hostname).concat(d?":".concat(d):"").concat(s),f="GET"===p||"HEAD"===p?void 0:e.body,m={body:f,headers:new Headers(e.headers),method:p,credentials:o};null!==(t=this.config)&&void 0!==t&&t.cache&&(m.cache=this.config.cache),f&&(m.duplex="half"),"undefined"!==typeof AbortController&&(m.signal=n),vR.supported&&(m.keepalive=a),"function"===typeof this.config.requestInit&&Object.assign(m,this.config.requestInit(e));let g=()=>{};const v=new Request(h,m),y=[fetch(v).then((e=>{const t=e.headers,n={};for(const r of t.entries())n[r[0]]=r[1];return void 0!=e.body?{response:new sR({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new sR({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),gR(r)];return n&&y.push(new Promise(((e,t)=>{const r=()=>{const e=new Error("Request aborted");e.name="AbortError",t(e)};if("function"===typeof n.addEventListener){const e=n;e.addEventListener("abort",r,{once:!0}),g=()=>e.removeEventListener("abort",r)}else n.onabort=r}))),Promise.race(y).finally(g)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}}const bR={},wR=new Array(64);for(let n=0,tq="A".charCodeAt(0),nq="Z".charCodeAt(0);n+tq<=nq;n++){const e=String.fromCharCode(n+tq);bR[e]=n,wR[n]=e}for(let n=0,tq="a".charCodeAt(0),nq="z".charCodeAt(0);n+tq<=nq;n++){const e=String.fromCharCode(n+tq),t=n+26;bR[e]=t,wR[t]=e}for(let n=0;n<10;n++){bR[n.toString(10)]=n+52;const e=n.toString(10),t=n+52;bR[e]=t,wR[t]=e}bR["+"]=62,wR[62]="+",bR["/"]=63,wR[63]="/";const kR=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let a=0;a<e.length;a+=4){let t=0,n=0;for(let r=a,i=a+3;r<=i;r++)if("="!==e[r]){if(!(e[r]in bR))throw new TypeError("Invalid character ".concat(e[r]," in base64 string."));t|=bR[e[r]]<<6*(i-r),n+=6}else t>>=6;const o=a/4*3;t>>=n%8;const s=Math.floor(n/8);for(let e=0;e<s;e++){const n=8*(s-e-1);r.setUint8(o+e,(t&255<<n)>>n)}}return new Uint8Array(n)};function SR(e){let t;t="string"===typeof e?(e=>(new TextEncoder).encode(e))(e):e;const n="object"===typeof t&&"number"===typeof t.length,r="object"===typeof t&&"number"===typeof t.byteOffset&&"number"===typeof t.byteLength;if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let a="";for(let o=0;o<t.length;o+=3){let e=0,n=0;for(let a=o,s=Math.min(o+3,t.length);a<s;a++)e|=t[a]<<8*(s-a-1),n+=8;const r=Math.ceil(n/6);e<<=6*r-n;for(let t=1;t<=r;t++){const n=6*(r-t);a+=wR[(e&63<<n)>>n]}a+="==".slice(0,4-r)}return a}const xR=2e3;class _R{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yR;return"function"===typeof(null===e||void 0===e?void 0:e.handle)?e:new _R(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yR;this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.httpHandler=t,"function"===typeof e?(this.config={},this.configPromise=e().then((e=>this.config=null!==e&&void 0!==e?e:{}))):(this.config=null!==e&&void 0!==e?e:{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!uR(e))return this.httpHandler.handle(e);const t=mR(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer",this.config=await this.configPromise;const{connectionTimeout:r=xR}=this.config;await this.waitForReady(n,r);const{body:a}=e,o=IR(a),s=this.connect(n,o),i=ER(s);return{response:new sR({statusCode:200,body:i})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}removeNotUsableSockets(e){var t;this.sockets[e]=(null!==(t=this.sockets[e])&&void 0!==t?t:[]).filter((e=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(e.readyState)))}waitForReady(e,t){return new Promise(((n,r)=>{const a=setTimeout((()=>{this.removeNotUsableSockets(e.url),r({$metadata:{httpStatusCode:500}})}),t);e.onopen=()=>{clearTimeout(a),n()}}))}connect(e,t){let n,r=!1,a=()=>{},o=()=>{};e.onmessage=e=>{o({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),a(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?a(n):o({done:!0,value:void 0}))};const s={[Symbol.asyncIterator]:()=>({next:()=>new Promise(((e,t)=>{o=e,a=t}))})};return(async()=>{try{var r,a=!1,o=!1;try{for(var s,i=Ua(t);a=!(s=await i.next()).done;a=!1){const t=s.value;e.send(t)}}catch(eq){o=!0,r=eq}finally{try{a&&null!=i.return&&await i.return()}finally{if(o)throw r}}}catch(eq){n=eq}finally{e.close(1e3)}})(),s}}const IR=e=>{return e[Symbol.asyncIterator]?e:TR(e)?(t=e,{[Symbol.asyncIterator]:fO((function*(){const e=t.getReader();try{for(;;){const{done:t,value:n}=yield hO(e.read());if(t)return;yield n}}finally{e.releaseLock()}}))}):{[Symbol.asyncIterator]:fO((function*(){yield e}))};var t},ER=e=>"function"===typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})})(e):e,TR=e=>"function"===typeof ReadableStream&&e instanceof ReadableStream,NR=e=>{if("function"===typeof e)return e;const t=Promise.resolve(e);return()=>t};const CR={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},AR={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function MR(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>n=>async r=>{const{response:a}=await n(r);try{return{response:a,output:await t(a,e)}}catch(o){if(Object.defineProperty(o,"$response",{value:a}),!("$metadata"in o)){const e="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+="\n  "+e,"undefined"!==typeof o.$responseBodyText&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}})(e,n),CR),r.add(((e,t)=>(n,r)=>async a=>{var o;const s=null!==(o=r.endpointV2)&&void 0!==o&&o.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const i=await t(a.input,M(M({},e),{},{endpoint:s}));return n(M(M({},a),{},{request:i}))})(e,t),AR)}}}class OR{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new OR(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return OR.clone(this)}}function RR(e){return"base64"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8")?SR(e):(e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)})(e)}function DR(e,t){return"base64"===t?FR.mutate(kR(e)):FR.mutate((e=>(new TextEncoder).encode(e))(e))}class FR extends Uint8Array{static fromString(e){if("string"===typeof e)return DR(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8");throw new Error("Unsupported conversion from ".concat(typeof e," to Uint8ArrayBlobAdapter."))}static mutate(e){return Object.setPrototypeOf(e,FR.prototype),e}transformToString(){return RR(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8")}}const PR={},LR={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),PR[n]=e,LR[e]=n}"function"===typeof ReadableStream&&ReadableStream;function zR(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}class BR{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:r}=await this.context.endpoint();this.path=r;for(const a of this.resolvePathStack)a(this.path);return new OR({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push((t=>{this.path="".concat(null!==t&&void 0!==t&&t.endsWith("/")?t.slice(0,-1):t||"")+e})),this}p(e,t,n,r){return this.resolvePathStack.push((a=>{this.path=((e,t,n,r,a,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(a,o?t.split("/").map((e=>zR(e))).join("/"):zR(t))}return e})(a,this.input,e,t,n,r)})),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}WR=3e5;var WR;const UR=e=>void 0!==e.expiration,jR=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,HR=/(\d+\.){3}\d+/,VR=/\.\./,qR=e=>jR.test(e)&&!HR.test(e)&&!VR.test(e),GR=e=>{const[t,n,r,,,a]=e.split(":"),o="arn"===t&&e.split(":").length>=6,s=Boolean(o&&n&&r&&a);if(o&&!s)throw new Error("Invalid ARN: ".concat(e," was an invalid ARN."));return s},KR=(e,t,n)=>{const r=async()=>{var r;const a=null!==(r=n[e])&&void 0!==r?r:n[t];return"function"===typeof a?a():a};return"credentialScope"===e||"CredentialScope"===t?async()=>{var e;const t="function"===typeof n.credentials?await n.credentials():n.credentials;return null!==(e=null===t||void 0===t?void 0:t.credentialScope)&&void 0!==e?e:null===t||void 0===t?void 0:t.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{var e;const t="function"===typeof n.credentials?await n.credentials():n.credentials;return null!==(e=null===t||void 0===t?void 0:t.accountId)&&void 0!==e?e:null===t||void 0===t?void 0:t.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"===typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:a}=e;return"".concat(t,"//").concat(n).concat(r?":"+r:"").concat(a)}}return e}:r},$R=async e=>{};const YR=e=>{if("string"===typeof e)return YR(new URL(e));const{hostname:t,pathname:n,port:r,protocol:a,search:o}=e;let s;return o&&(s=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:a,path:n,query:s}},QR=e=>"object"===typeof e?"url"in e?YR(e.url):e:YR(e),XR=async(e,t,n)=>{var r;const a={},o=(null===t||void 0===t||null===(r=t.getEndpointParameterInstructions)||void 0===r?void 0:r.call(t))||{};for(const[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":a[s]=i.value;break;case"contextParams":a[s]=e[i.name];break;case"clientContextParams":case"builtInParams":a[s]=await KR(i.name,s,n)();break;case"operationContextParams":a[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return 0===Object.keys(o).length&&Object.assign(a,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=(null===e||void 0===e?void 0:e.Bucket)||"";if("string"===typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),GR(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!qR(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(a),a},JR=e=>{let{config:t,instructions:n}=e;return(e,r)=>async a=>{var o,s;t.endpoint&&function(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}(r,"ENDPOINT_OVERRIDE","N");const i=await(async(e,t,n,r)=>{if(!n.endpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await $R(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(QR(e)))}const a=await XR(e,t,n);if("function"!==typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(a,r)})(a.input,{getEndpointParameterInstructions:()=>n},M({},t),r);r.endpointV2=i,r.authSchemes=null===(o=i.properties)||void 0===o?void 0:o.authSchemes;const l=null===(s=r.authSchemes)||void 0===s?void 0:s[0];if(l){var u;r.signing_region=l.signingRegion,r.signing_service=l.signingName;const e=(e=>e[kO]||(e[kO]={}))(r),t=null===e||void 0===e||null===(u=e.selectedHttpAuthScheme)||void 0===u?void 0:u.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return e(M({},a))}},ZR={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:AR.name},eD=(e,t)=>({applyToStack:n=>{n.addRelativeTo(JR({config:e,instructions:t}),ZR)}}),tD=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const r of t)n.push(r);return n},nD=(e,t)=>"".concat(e||"anonymous").concat(t&&t.length>0?" (a.k.a. ".concat(t.join(","),")"):""),rD=()=>{let e=[],t=[],n=!1;const r=new Set,a=n=>{var r;return e.forEach((e=>{n.add(e.middleware,M({},e))})),t.forEach((e=>{n.addRelativeTo(e.middleware,M({},e))})),null===(r=n.identifyOnResolve)||void 0===r||r.call(n,i.identifyOnResolve()),n},o=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t},s=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=[],a=[],s={};e.forEach((e=>{const t=M(M({},e),{},{before:[],after:[]});for(const n of tD(t.name,t.aliases))s[n]=t;r.push(t)})),t.forEach((e=>{const t=M(M({},e),{},{before:[],after:[]});for(const n of tD(t.name,t.aliases))s[n]=t;a.push(t)})),a.forEach((e=>{if(e.toMiddleware){const t=s[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ")+"".concat(nD(e.name,e.aliases)," ")+"middleware ".concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const i=(l=r,l.sort(((e,t)=>aD[t.step]-aD[e.step]||oD[t.priority||"normal"]-oD[e.priority||"normal"]))).map(o).reduce(((e,t)=>(e.push(...t),e)),[]);var l;return i},i={add:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{name:a,override:o,aliases:s}=n,i=M({step:"initialize",priority:"normal",middleware:t},n),l=tD(a,s);if(l.length>0){if(l.some((e=>r.has(e)))){if(!o)throw new Error("Duplicate middleware name '".concat(nD(a,s),"'"));for(const t of l){const n=e.findIndex((e=>{var n;return e.name===t||(null===(n=e.aliases)||void 0===n?void 0:n.some((e=>e===t)))}));if(-1===n)continue;const r=e[n];if(r.step!==i.step||i.priority!==r.priority)throw new Error('"'.concat(nD(r.name,r.aliases),'" middleware with ')+"".concat(r.priority," priority in ").concat(r.step," step cannot ")+'be overridden by "'.concat(nD(a,s),'" middleware with ')+"".concat(i.priority," priority in ").concat(i.step," step."));e.splice(n,1)}}for(const e of l)r.add(e)}e.push(i)},addRelativeTo:(e,n)=>{const{name:a,override:o,aliases:s}=n,i=M({middleware:e},n),l=tD(a,s);if(l.length>0){if(l.some((e=>r.has(e)))){if(!o)throw new Error("Duplicate middleware name '".concat(nD(a,s),"'"));for(const e of l){const n=t.findIndex((t=>{var n;return t.name===e||(null===(n=t.aliases)||void 0===n?void 0:n.some((t=>t===e)))}));if(-1===n)continue;const r=t[n];if(r.toMiddleware!==i.toMiddleware||r.relation!==i.relation)throw new Error('"'.concat(nD(r.name,r.aliases),'" middleware ')+"".concat(r.relation,' "').concat(r.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(nD(a,s),'" middleware ').concat(i.relation," ")+'"'.concat(i.toMiddleware,'" middleware.'));t.splice(n,1)}}for(const e of l)r.add(e)}t.push(i)},clone:()=>a(rD()),use:e=>{e.applyToStack(i)},remove:n=>"string"===typeof n?(n=>{let a=!1;const o=e=>{const t=tD(e.name,e.aliases);if(t.includes(n)){a=!0;for(const e of t)r.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),a})(n):(n=>{let a=!1;const o=e=>{if(e.middleware===n){a=!0;for(const t of tD(e.name,e.aliases))r.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),a})(n),removeByTag:n=>{let a=!1;const o=e=>{const{tags:t,name:o,aliases:s}=e;if(t&&t.includes(n)){const e=tD(o,s);for(const t of e)r.delete(t);return a=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),a},concat:e=>{var t,r;const o=a(rD());return o.use(e),o.identifyOnResolve(n||o.identifyOnResolve()||null!==(t=null===(r=e.identifyOnResolve)||void 0===r?void 0:r.call(e))&&void 0!==t&&t),o},applyToStack:a,identify:()=>s(!0).map((e=>{var t;const n=null!==(t=e.step)&&void 0!==t?t:e.relation+" "+e.toMiddleware;return nD(e.name,e.aliases)+" - "+n})),identifyOnResolve:e=>("boolean"===typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of s().map((e=>e.middleware)).reverse())e=n(e,t);return n&&console.log(i.identify()),e}};return i},aD={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},oD={high:3,normal:2,low:1};class sD{constructor(e){this.config=e,this.middlewareStack=rD()}send(e,t,n){const r="function"!==typeof t?t:void 0,a="function"===typeof t?t:n;let o;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?o=t.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!a)return o(e).then((e=>e.output));o(e).then((e=>a(null,e.output)),(e=>a(e))).catch((()=>{}))}destroy(){var e,t;null===(e=this.config)||void 0===e||null===(e=e.requestHandler)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),delete this.handlers}}class iD{constructor(){this.middlewareStack=rD()}static classBuilder(){return new lD}resolveMiddlewareWithContext(e,t,n,r){let{middlewareFn:a,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:c,CommandCtor:d}=r;for(const g of a.bind(this)(d,e,t,n))this.middlewareStack.use(g);const p=e.concat(this.middlewareStack),{logger:h}=t,f=M({logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:l,[kO]:M({commandInstance:this},u)},c),{requestHandler:m}=t;return p.resolve((e=>m.handle(e.request,n||{})),f)}}class lD{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._smithyContext=M({service:e,operation:t},n),this}c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends iD{static getEndpointParameterInstructions(){return e._ep}constructor(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let[a]=n;super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=null!==a&&void 0!==a?a:{},e._init(this)}resolveMiddleware(n,r,a){return this.resolveMiddlewareWithContext(n,r,a,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const uD=e=>{if(null!==e&&void 0!==e){if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&kD.warn(wD("Expected number but observed string: ".concat(e))),t}if("number"===typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},cD=Math.ceil(2**127*(2-2**-23)),dD=e=>{const t=uD(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>cD)throw new TypeError("Expected 32-bit float, got ".concat(e));return t},pD=e=>{if(null!==e&&void 0!==e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}},hD=e=>fD(e,32),fD=(e,t)=>{const n=pD(e);if(void 0!==n&&mD(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},mD=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},gD=e=>{if(null!==e&&void 0!==e){if("string"===typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return kD.warn(wD("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},vD=e=>{if(null===e||void 0===e)return;const t=(e=>{if(null===e||void 0===e)return;if("object"===typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))})(e),n=Object.entries(t).filter((e=>{let[,t]=e;return null!=t})).map((e=>{let[t]=e;return t}));if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError("Unions must have exactly one non-null member. Keys ".concat(n," were not null."));return t},yD=e=>"string"==typeof e?bD(e):dD(e),bD=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},wD=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),kD={warn:console.warn};class SD extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,SD.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const xD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(t).filter((e=>{let[,t]=e;return void 0!==t})).forEach((t=>{let[n,r]=t;void 0!=e[n]&&""!==e[n]||(e[n]=r)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},_D=e=>{var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ID=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},ED=e=>{const t=[];for(const n in bO){const r=bO[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},TD=e=>M(M({},ED(e)),(e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}})(e)),ND=function(e){return Object.assign(new String(e),{deserializeJSON:()=>JSON.parse(String(e)),toString:()=>String(e),toJSON:()=>String(e)})};ND.from=e=>e&&"object"===typeof e&&(e instanceof ND||"deserializeJSON"in e)?e:"string"===typeof e||Object.getPrototypeOf(e)===String.prototype?ND(String(e)):ND(JSON.stringify(e)),ND.fromObject=ND.from;class CD{trace(){}debug(){}info(){}warn(){}error(){}}function AD(e,t,n){let r,a,o;if("undefined"===typeof t&&"undefined"===typeof n)r={},o=e;else{if(r=e,"function"===typeof t)return a=t,o=n,OD(r,a,o);o=t}for(const s of Object.keys(o))Array.isArray(o[s])?RD(r,null,o,s):r[s]=o[s];return r}const MD=(e,t)=>{const n={};for(const r in t)RD(n,e,t,r);return n},OD=(e,t,n)=>AD(e,Object.entries(n).reduce(((e,n)=>{let[r,a]=n;return Array.isArray(a)?e[r]=a:e[r]="function"===typeof a?[t,a()]:[t,a],e}),{})),RD=(e,t,n,r)=>{if(null!==t){let a=n[r];"function"===typeof a&&(a=[,a]);const[o=DD,s=FD,i=r]=a;return void(("function"===typeof o&&o(t[i])||"function"!==typeof o&&o)&&(e[r]=s(t[i])))}let[a,o]=n[r];if("function"===typeof o){let t;const n=void 0===a&&null!=(t=o()),s="function"===typeof a&&!!a(void 0)||"function"!==typeof a&&!!a;n?e[r]=t:s&&(e[r]=o())}else{const t=void 0===a&&null!=o,n="function"===typeof a&&!!a(o)||"function"!==typeof a&&!!a;(t||n)&&(e[r]=o)}},DD=e=>null!=e,FD=e=>e,PD=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},LD=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e)).map(LD);if("object"===typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=LD(e[n]));return t}return e},zD={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class BD extends SD{constructor(e){super(e),Object.setPrototypeOf(this,BD.prototype)}}class WD extends BD{constructor(e){super(M({name:"AccessDeniedException",$fault:"client"},e)),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,WD.prototype),this.Message=e.Message,this.Code=e.Code}}var UD;!function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):t._(e.$unknown[0],e.$unknown[1])}(UD||(UD={}));class jD extends BD{constructor(e){super(M({name:"InternalServerException",$fault:"server"},e)),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,jD.prototype),this.Message=e.Message,this.Code=e.Code}}var HD,VD,qD;!function(e){e.visit=(e,t)=>void 0!==e.VideoEvent?t.VideoEvent(e.VideoEvent):void 0!==e.ClientSessionInformationEvent?t.ClientSessionInformationEvent(e.ClientSessionInformationEvent):t._(e.$unknown[0],e.$unknown[1])}(HD||(HD={})),function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):t._(e.$unknown[0],e.$unknown[1])}(VD||(VD={}));class GD extends BD{constructor(e){super(M({name:"ServiceQuotaExceededException",$fault:"client"},e)),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,GD.prototype),this.Message=e.Message,this.Code=e.Code}}class KD extends BD{constructor(e){super(M({name:"ServiceUnavailableException",$fault:"server"},e)),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,KD.prototype),this.Message=e.Message,this.Code=e.Code}}class $D extends BD{constructor(e){super(M({name:"ThrottlingException",$fault:"client"},e)),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,$D.prototype),this.Message=e.Message,this.Code=e.Code}}class YD extends BD{constructor(e){super(M({name:"ValidationException",$fault:"client"},e)),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,YD.prototype),this.Message=e.Message,this.Code=e.Code}}!function(e){e.visit=(e,t)=>void 0!==e.ServerSessionInformationEvent?t.ServerSessionInformationEvent(e.ServerSessionInformationEvent):void 0!==e.DisconnectionEvent?t.DisconnectionEvent(e.DisconnectionEvent):void 0!==e.ValidationException?t.ValidationException(e.ValidationException):void 0!==e.InternalServerException?t.InternalServerException(e.InternalServerException):void 0!==e.ThrottlingException?t.ThrottlingException(e.ThrottlingException):void 0!==e.ServiceQuotaExceededException?t.ServiceQuotaExceededException(e.ServiceQuotaExceededException):void 0!==e.ServiceUnavailableException?t.ServiceUnavailableException(e.ServiceUnavailableException):t._(e.$unknown[0],e.$unknown[1])}(qD||(qD={}));class QD extends BD{constructor(e){super(M({name:"SessionNotFoundException",$fault:"client"},e)),this.name="SessionNotFoundException",this.$fault="client",Object.setPrototypeOf(this,QD.prototype),this.Message=e.Message,this.Code=e.Code}}const XD=e=>M(M({},e),e.LivenessRequestStream&&{LivenessRequestStream:"STREAMING_CONTENT"}),JD=e=>M(M({},e),e.LivenessResponseStream&&{LivenessResponseStream:"STREAMING_CONTENT"}),ZD=(e,t)=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;if(e instanceof Uint8Array)return FR.mutate(e);if(!e)return FR.mutate(new Uint8Array);const n=t.streamCollector(e);return FR.mutate(await n)}(e,t).then((e=>t.utf8Encoder(e))),eF=(e,t)=>ZD(e,t).then((e=>{if(e.length)try{return JSON.parse(e)}catch(rB){throw"SyntaxError"===(null===rB||void 0===rB?void 0:rB.name)&&Object.defineProperty(rB,"$responseBodyText",{value:e}),rB}return{}})),tF=async(e,t)=>{var n;const r=await eF(e,t);return r.message=null!==(n=r.message)&&void 0!==n?n:r.Message,r},nF=async(e,t)=>{const n=function(e,t){return new BR(e,t)}(e,t),r=AD({},LF,{"content-type":"application/json",[HF]:e[BF],[qF]:e[UF],[VF]:e[WF],[jF]:e[zF]});let a;return n.bp("/start-face-liveness-session"),void 0!==e.LivenessRequestStream&&(a=fF(e.LivenessRequestStream,t)),n.m("POST").h(r).b(a),n.build()},rF=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return aF(e,t);const n=AD({$metadata:PF(e),[BF]:[,e.headers[HF]]}),r=e.body;return n.LivenessResponseStream=vF(r,t),n},aF=async(e,t)=>{const n=M(M({},e),{},{body:await tF(e.body,t)}),r=((e,t)=>{const n=e=>{let t=e;return"number"===typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(a=e.headers,o="x-amzn-errortype",Object.keys(a).find((e=>e.toLowerCase()===o.toLowerCase())));var a,o;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0})(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.rekognitionstreaming#AccessDeniedException":throw await iF(n,t);case"InternalServerException":case"com.amazonaws.rekognitionstreaming#InternalServerException":throw await lF(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":throw await uF(n,t);case"ServiceUnavailableException":case"com.amazonaws.rekognitionstreaming#ServiceUnavailableException":throw await cF(n,t);case"SessionNotFoundException":case"com.amazonaws.rekognitionstreaming#SessionNotFoundException":throw await dF(n,t);case"ThrottlingException":case"com.amazonaws.rekognitionstreaming#ThrottlingException":throw await pF(n,t);case"ValidationException":case"com.amazonaws.rekognitionstreaming#ValidationException":throw await hF(n,t);default:const a=n.body;return oF({output:e,parsedBody:a,errorCode:r})}},oF=(sF=BD,e=>{let{output:t,parsedBody:n,errorCode:r}=e;(e=>{let{output:t,parsedBody:n,exceptionCtor:r,errorCode:a}=e;const o=_D(t),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:(null===n||void 0===n?void 0:n.code)||(null===n||void 0===n?void 0:n.Code)||a||s||"UnknownError",$fault:"client",$metadata:o});throw xD(i,n)})({output:t,parsedBody:n,exceptionCtor:sF,errorCode:r})});var sF;const iF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new WD(M({$metadata:PF(e)},n));return xD(o,e.body)},lF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new jD(M({$metadata:PF(e)},n));return xD(o,e.body)},uF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new GD(M({$metadata:PF(e)},n));return xD(o,e.body)},cF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new KD(M({$metadata:PF(e)},n));return xD(o,e.body)},dF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new QD(M({$metadata:PF(e)},n));return xD(o,e.body)},pF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new $D(M({$metadata:PF(e)},n));return xD(o,e.body)},hF=async(e,t)=>{const n=AD({}),r=e.body,a=MD(r,{Code:gD,Message:gD});Object.assign(n,a);const o=new YD(M({$metadata:PF(e)},n));return xD(o,e.body)},fF=(e,t)=>t.eventStreamMarshaller.serialize(e,(e=>HD.visit(e,{VideoEvent:e=>gF(e,t),ClientSessionInformationEvent:e=>mF(e,t),_:e=>e}))),mF=(e,t)=>{let n=new Uint8Array;return n=EF(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"ClientSessionInformationEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},gF=(e,t)=>{let n=new Uint8Array;return n=AF(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"VideoEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},vF=(e,t)=>t.eventStreamMarshaller.deserialize(e,(async n=>null!=n.ServerSessionInformationEvent?{ServerSessionInformationEvent:await wF(n.ServerSessionInformationEvent,t)}:null!=n.DisconnectionEvent?{DisconnectionEvent:await yF(n.DisconnectionEvent,t)}:null!=n.ValidationException?{ValidationException:await _F(n.ValidationException,t)}:null!=n.InternalServerException?{InternalServerException:await bF(n.InternalServerException,t)}:null!=n.ThrottlingException?{ThrottlingException:await xF(n.ThrottlingException,t)}:null!=n.ServiceQuotaExceededException?{ServiceQuotaExceededException:await kF(n.ServiceQuotaExceededException,t)}:null!=n.ServiceUnavailableException?{ServiceUnavailableException:await SF(n.ServiceUnavailableException,t)}:{$unknown:e})),yF=async(e,t)=>{const n={},r=await eF(e.body,t);return Object.assign(n,LD(r)),n},bF=async(e,t)=>{const n=M(M({},e),{},{body:await eF(e.body,t)});return lF(n,t)},wF=async(e,t)=>{const n={},r=await eF(e.body,t);return Object.assign(n,DF(r,t)),n},kF=async(e,t)=>{const n=M(M({},e),{},{body:await eF(e.body,t)});return uF(n,t)},SF=async(e,t)=>{const n=M(M({},e),{},{body:await eF(e.body,t)});return cF(n,t)},xF=async(e,t)=>{const n=M(M({},e),{},{body:await eF(e.body,t)});return pF(n,t)},_F=async(e,t)=>{const n=M(M({},e),{},{body:await eF(e.body,t)});return hF(n,t)},IF=(e,t)=>MD(e,{Height:PD,Left:PD,Top:PD,Width:PD}),EF=(e,t)=>MD(e,{Challenge:e=>((e,t)=>UD.visit(e,{FaceMovementAndLightChallenge:e=>({FaceMovementAndLightChallenge:TF(e,t)}),_:(e,t)=>({name:t})}))(e,t)}),TF=(e,t)=>MD(e,{ChallengeId:[],ColorDisplayed:LD,InitialFace:e=>NF(e,t),TargetFace:e=>CF(e,t),VideoEndTimestamp:[],VideoStartTimestamp:[]}),NF=(e,t)=>MD(e,{BoundingBox:e=>IF(e),InitialFaceDetectedTimestamp:[]}),CF=(e,t)=>MD(e,{BoundingBox:e=>IF(e),FaceDetectedInTargetPositionEndTimestamp:[],FaceDetectedInTargetPositionStartTimestamp:[]}),AF=(e,t)=>MD(e,{TimestampMillis:[],VideoChunk:t.base64Encoder}),MF=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>(e=>MD(e,{DownscrollDuration:yD,FlatDisplayDuration:yD,FreshnessColor:LD}))(e)));return n},OF=(e,t)=>MD(e,{ChallengeConfig:e=>(e=>MD(e,{BlazeFaceDetectionThreshold:yD,FaceDistanceThreshold:yD,FaceDistanceThresholdMax:yD,FaceDistanceThresholdMin:yD,FaceIouHeightThreshold:yD,FaceIouWidthThreshold:yD,OvalFitTimeout:hD,OvalHeightWidthRatio:yD,OvalIouHeightThreshold:yD,OvalIouThreshold:yD,OvalIouWidthThreshold:yD}))(e),ColorSequences:e=>MF(e),LightChallengeType:gD,OvalParameters:e=>RF(e,t)}),RF=(e,t)=>MD(e,{CenterX:yD,CenterY:yD,Height:yD,Width:yD}),DF=(e,t)=>MD(e,{SessionInformation:e=>FF(e,t)}),FF=(e,t)=>MD(e,{Challenge:e=>((e,t)=>null!=e.FaceMovementAndLightChallenge?{FaceMovementAndLightChallenge:OF(e.FaceMovementAndLightChallenge,t)}:{$unknown:Object.entries(e)[0]})((e=>{if(null!=e)return"object"===typeof e&&"__type"in e&&delete e.__type,vD(e)})(e),t)}),PF=e=>{var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},LF=e=>void 0!==e&&null!==e&&""!==e&&(!Object.getOwnPropertyNames(e).includes("length")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes("size")||0!=e.size),zF="ChallengeVersions",BF="SessionId",WF="VideoHeight",UF="VideoWidth",jF="x-amz-rekognition-streaming-liveness-challenge-versions",HF="x-amz-rekognition-streaming-liveness-session-id",VF="x-amz-rekognition-streaming-liveness-video-height",qF="x-amz-rekognition-streaming-liveness-video-width";class GF extends(iD.classBuilder().ep(M({},zD)).m((function(e,t,n,r){return[MR(n,this.serialize,this.deserialize),eD(n,e.getEndpointParameterInstructions()),NO(n),lR(n,{headerPrefix:"x-amz-rekognition-streaming-liveness-"})]})).s("RekognitionStreamingService","StartFaceLivenessSession",{eventStream:{input:!0,output:!0}}).n("RekognitionStreamingClient","StartFaceLivenessSessionCommand").f(XD,JD).ser(nF).de(rF).build()){}function KF(){return/Android|iPhone|iPad/i.test(navigator.userAgent)||/Macintosh/i.test(navigator.userAgent)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>1}function $F(){return window.matchMedia("(orientation: landscape)")}function YF(){const e=/Chrome\/125\.[0-9]+\.[0-9]+\.([0-9]+)/i.exec(navigator.userAgent);if(!e)return!1;const t=e[1];return/Android/i.test(navigator.userAgent)&&/Chrome\/125/i.test(navigator.userAgent)&&parseInt(t)<146}class QF{constructor(e){if("undefined"===typeof MediaRecorder)throw Error("MediaRecorder is not supported by this browser");this._stream=e,this._chunks=[],this._recorder=new MediaRecorder(e,{bitsPerSecond:1e6,mimeType:YF()?"video/x-matroska;codecs=vp8":void 0}),this._setupCallbacks()}getState(){return this._recorder.state}start(e){this.clearRecordedData(),this.recordingStartApiTimestamp=Date.now(),this._recorder.start(e)}async stop(){return"recording"===this.getState()&&this._recorder.stop(),this._recorderStopped}pause(){this._recorder.pause()}clearRecordedData(){this._chunks=[]}dispatch(e){this._recorder.dispatchEvent(e)}getVideoChunkSize(){return this._chunks.length}_setupCallbacks(){this.videoStream=new ReadableStream({start:e=>{this._recorder&&(this._recorder.ondataavailable=t=>{t.data&&t.data.size>0&&(0===this._chunks.length&&(this.firstChunkTimestamp=Date.now()),this._chunks.push(t.data),e.enqueue(t.data))},this._recorder.addEventListener("clientSesssionInfo",(t=>{e.enqueue(t.data.clientInfo)})),this._recorder.addEventListener("stopVideo",(()=>{e.enqueue("stopVideo")})),this._recorder.addEventListener("endStream",(()=>{e.close()})),this._recorder.addEventListener("endStreamWithCode",(t=>{e.enqueue({type:"endStreamWithCode",code:t.data.code})})))}}),this.recorderStarted=new Promise((e=>{this._recorder.onstart=()=>{this.recorderStartTimestamp=Date.now(),e()}})),this._recorderStopped=new Promise((e=>{this._recorder.onstop=()=>{this.recorderEndTimestamp=Date.now(),e()}})),this._recorder.onerror=()=>{"stopped"!==this.getState()&&this.stop()}}}class XF{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new XF(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return XF.clone(this)}}const JF={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ZF=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!XF.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:a=""}=e.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=":".concat(r.port)),r.headers.host=e}return t(n)})(e),JF)}}),eP=["$metadata"],tP={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},nP=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{try{var r;const a=await e(n),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:c}=l,d=null!==u&&void 0!==u?u:t.inputFilterSensitiveLog,p=null!==c&&void 0!==c?c:t.outputFilterSensitiveLog,h=a.output,{$metadata:f}=h,m=Bn(h,eP);return null===i||void 0===i||null===(r=i.info)||void 0===r||r.call(i,{clientName:o,commandName:s,input:d(n.input),output:p(m),metadata:f}),a}catch(o){var a;const{clientName:e,commandName:r,logger:s,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:l}=i,u=null!==l&&void 0!==l?l:t.inputFilterSensitiveLog;throw null===s||void 0===s||null===(a=s.error)||void 0===a||a.call(s,{clientName:e,commandName:r,input:u(n.input),error:o,metadata:o.$metadata}),o}}),tP)}});class rP{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new rP(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return rP.clone(this)}}const aP="X-Amzn-Trace-Id",oP={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},sP=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!rP.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(aP))return t(n);const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}._X_AMZN_TRACE_ID,o=e=>"string"===typeof e&&e.length>0;return o({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.AWS_LAMBDA_FUNCTION_NAME)&&o(a)&&(r.headers[aP]=a),t(M(M({},n),{},{request:r}))})(e),oP)}});Error;const iP=(e,t,n)=>{let r,a,o,s=!1;const i=async()=>{a||(a=e());try{r=await a,o=!0,s=!1}finally{a=void 0}return r};return void 0===t?async e=>((!o||null!==e&&void 0!==e&&e.forceRefresh)&&(r=await i()),r):async e=>((!o||null!==e&&void 0!==e&&e.forceRefresh)&&(r=await i()),s?r:n&&!n(r)?(s=!0,r):t(r)?(await i(),r):r)},lP={},uP={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),lP[n]=e,uP[e]=n}function cP(e){let t="";for(let n=0;n<e.byteLength;n++)t+=lP[e[n]];return t}const dP=e=>(new TextEncoder).encode(e),pP=e=>"string"===typeof e?dP(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),hP="X-Amz-Date",fP="X-Amz-Signature",mP="X-Amz-Security-Token",gP="authorization",vP=hP.toLowerCase(),yP=[gP,vP,"date"],bP=fP.toLowerCase(),wP="x-amz-content-sha256",kP=mP.toLowerCase(),SP={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},xP=/^proxy-/,_P=/^sec-/,IP="AWS4-HMAC-SHA256",EP="AWS4-HMAC-SHA256-PAYLOAD",TP="aws4_request",NP={},CP=[],AP=(e,t,n)=>"".concat(e,"/").concat(t,"/").concat(n,"/").concat(TP),MP=(e,t,n)=>{const r=new e(t);return r.update(pP(n)),r.digest()},OP=(e,t,n)=>{let{headers:r}=e;const a={};for(const o of Object.keys(r).sort()){if(void 0==r[o])continue;const e=o.toLowerCase();(e in SP||null!==t&&void 0!==t&&t.has(e)||xP.test(e)||_P.test(e))&&(!n||n&&!n.has(e))||(a[e]=r[o].trim().replace(/\s+/g," "))}return a},RP=async(e,t)=>{let{headers:n,body:r}=e;for(const o of Object.keys(n))if(o.toLowerCase()===wP)return n[o];if(void 0==r)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"===typeof r||ArrayBuffer.isView(r)||(a=r,"function"===typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a))){const e=new t;return e.update(pP(r)),cP(await e.digest())}var a;return"UNSIGNED-PAYLOAD"};class DP{format(e){const t=[];for(const a of Object.keys(e)){const n=dP(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const s=dP(e.value),i=new DataView(new ArrayBuffer(3+s.byteLength));i.setUint8(0,7),i.setUint16(1,s.byteLength,!1);const l=new Uint8Array(i.buffer);return l.set(s,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(LP.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!PP.test(e.value))throw new Error("Invalid UUID received: ".concat(e.value));const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in uP))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=uP[r]}return t}(e.value.replace(/\-/g,"")),1),c}}}var FP;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(FP||(FP={}));const PP=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class LP{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error("".concat(e," is too large (or, if negative, too small) to represent as an Int64"));const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&zP(t),new LP(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&zP(e),parseInt(cP(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function zP(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class BP{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new BP(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return BP.clone(this)}}class WP{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const UP=e=>{e=BP.clone(e);for(const t of Object.keys(e.headers))yP.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},jP=e=>"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class HP{constructor(e){let{applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:s=!0}=e;this.headerFormatter=new DP,this.service=a,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=NR(r),this.credentialProvider=NR(n)}async presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:a,unhoistableHeaders:o,signableHeaders:s,hoistableHeaders:i,signingRegion:l,signingService:u}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const d=null!==l&&void 0!==l?l:await this.regionProvider(),{longDate:p,shortDate:h}=VP(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const f=AP(h,d,null!==u&&void 0!==u?u:this.service),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{headers:n,query:r={}}=BP.clone(e);for(const s of Object.keys(n)){var a,o;const e=s.toLowerCase();("x-amz-"===e.slice(0,6)&&(null===(a=t.unhoistableHeaders)||void 0===a||!a.has(e))||null!==(o=t.hoistableHeaders)&&void 0!==o&&o.has(e))&&(r[s]=n[s],delete n[s])}return M(M({},e),{},{headers:n,query:r})}(UP(e),{unhoistableHeaders:o,hoistableHeaders:i});c.sessionToken&&(m.query[mP]=c.sessionToken),m.query["X-Amz-Algorithm"]=IP,m.query["X-Amz-Credential"]="".concat(c.accessKeyId,"/").concat(f),m.query[hP]=p,m.query["X-Amz-Expires"]=r.toString(10);const g=OP(m,a,s);return m.query["X-Amz-SignedHeaders"]=qP(g),m.query[fP]=await this.getSignature(p,f,this.getSigningKey(c,d,h,u),this.createCanonicalRequest(m,g,await RP(e,this.sha256))),m}async sign(e,t){return"string"===typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent(e,t){let{headers:n,payload:r}=e,{signingDate:a=new Date,priorSignature:o,signingRegion:s,signingService:i}=t;const l=null!==s&&void 0!==s?s:await this.regionProvider(),{shortDate:u,longDate:c}=VP(a),d=AP(u,l,null!==i&&void 0!==i?i:this.service),p=await RP({headers:{},body:r},this.sha256),h=new this.sha256;h.update(n);const f=cP(await h.digest()),m=[EP,c,d,o,f,p].join("\n");return this.signString(m,{signingDate:a,signingRegion:l,signingService:i})}async signMessage(e,t){let{signingDate:n=new Date,signingRegion:r,signingService:a}=t;return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e){let{signingDate:t=new Date,signingRegion:n,signingService:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await this.credentialProvider();this.validateResolvedCredentials(a);const o=null!==n&&void 0!==n?n:await this.regionProvider(),{shortDate:s}=VP(t),i=new this.sha256(await this.getSigningKey(a,o,s,r));return i.update(pP(e)),cP(await i.digest())}async signRequest(e){let{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:a,signingService:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=await this.credentialProvider();this.validateResolvedCredentials(s);const i=null!==a&&void 0!==a?a:await this.regionProvider(),l=UP(e),{longDate:u,shortDate:c}=VP(t),d=AP(c,i,null!==o&&void 0!==o?o:this.service);l.headers[vP]=u,s.sessionToken&&(l.headers[kP]=s.sessionToken);const p=await RP(l,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(wP,l.headers)&&this.applyChecksum&&(l.headers[wP]=p);const h=OP(l,r,n),f=await this.getSignature(u,d,this.getSigningKey(s,i,c,o),this.createCanonicalRequest(l,h,p));return l.headers[gP]="".concat(IP," ")+"Credential=".concat(s.accessKeyId,"/").concat(d,", ")+"SignedHeaders=".concat(qP(h),", ")+"Signature=".concat(f),l}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat((e=>{let{query:t={}}=e;const n=[],r={};for(const a of Object.keys(t)){if(a.toLowerCase()===bP)continue;const e=pR(a);n.push(e);const o=t[a];"string"===typeof o?r[e]="".concat(e,"=").concat(pR(o)):Array.isArray(o)&&(r[e]=o.slice(0).reduce(((t,n)=>t.concat(["".concat(e,"=").concat(pR(n))])),[]).sort().join("&"))}return n.sort().map((e=>r[e])).filter((e=>e)).join("&")})(e),"\n").concat(r.map((e=>"".concat(e,":").concat(t[e]))).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)}async createStringToSign(e,t,n){const r=new this.sha256;r.update(pP(n));const a=await r.digest();return"".concat(IP,"\n").concat(e,"\n").concat(t,"\n").concat(cP(a))}getCanonicalPath(e){let{path:t}=e;if(this.uriEscapePath){const e=[];for(const r of t.split("/"))0!==(null===r||void 0===r?void 0:r.length)&&"."!==r&&(".."===r?e.pop():e.push(r));const n="".concat(null!==t&&void 0!==t&&t.startsWith("/")?"/":"").concat(e.join("/")).concat(e.length>0&&null!==t&&void 0!==t&&t.endsWith("/")?"/":"");return pR(n).replace(/%2F/g,"/")}return t}async getSignature(e,t,n,r){const a=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(pP(a)),cP(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,a)=>{const o=await MP(e,t.secretAccessKey,t.accessKeyId),s="".concat(n,":").concat(r,":").concat(a,":").concat(cP(o),":").concat(t.sessionToken);if(s in NP)return NP[s];for(CP.push(s);CP.length>50;)delete NP[CP.shift()];let i="AWS4".concat(t.secretAccessKey);for(const l of[n,r,a,TP])i=await MP(e,i,l);return NP[s]=i})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!==typeof e||"string"!==typeof e.accessKeyId||"string"!==typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const VP=e=>{const t=(e=>jP(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},qP=e=>Object.keys(e).sort().join(";"),GP=e=>"function"===typeof e?iP(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):NR(e),KP=e=>new Date(Date.now()+e),$P=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(KP(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},YP=e=>{var t,n,r;return WP.isInstance(e)?null!==(t=null===(n=e.headers)||void 0===n?void 0:n.date)&&void 0!==t?t:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},QP={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},XP=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){var a,o,s,i;if(!BP.isInstance(r.request))return t(r);let l,u;const c=null===(a=n.endpointV2)||void 0===a||null===(a=a.properties)||void 0===a||null===(a=a.authSchemes)||void 0===a?void 0:a[0],d=null===(o=n.endpointV2)||void 0===o||null===(o=o.properties)||void 0===o||null===(o=o.authSchemes)||void 0===o?void 0:o[1];if("sigv4a"===(null===c||void 0===c?void 0:c.name)&&d){u=await e.signer(l=c);const t=u;(()=>{if("function"===typeof(null===t||void 0===t?void 0:t.getSigv4aSigner)){var e;if("node"!==(null===t||void 0===t||null===(e=t.signerOptions)||void 0===e?void 0:e.runtime))return!1;try{return t.getSigv4aSigner(),!0}catch(rB){}}return!1})()||(u=await e.signer(l=d))}else u=await e.signer(l=c);let p;const h="sigv4a"===(null===(s=l)||void 0===s?void 0:s.name)?null===(i=l)||void 0===i||null===(i=i.signingRegionSet)||void 0===i?void 0:i.join(","):void 0,f={signingDate:KP(e.systemClockOffset),signingRegion:h||n.signing_region,signingService:n.signing_service};if(n.s3ExpressIdentity){const e=u;if(p=await e.signWithCredentials(r.request,n.s3ExpressIdentity,f),p.headers["X-Amz-Security-Token"]||p.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else p=await u.sign(r.request,f);const m=await t(M(M({},r),{},{request:p})).catch((t=>{var n;const r=null!==(n=t.ServerTime)&&void 0!==n?n:YP(t.$response);throw r&&(e.systemClockOffset=$P(r,e.systemClockOffset)),t})),g=YP(m.response);return g&&(e.systemClockOffset=$P(g,e.systemClockOffset)),m})(e),QP)}});const JP=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ZP=e=>JP.test(e)||e.startsWith("[")&&e.endsWith("]"),eL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),tL=function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return eL.test(e);const t=e.split(".");for(const n of t)if(!tL(n))return!1;return!0},nL={},rL="endpoints";function aL(e){return"object"!==typeof e||null==e?e:"ref"in e?"$".concat(aL(e.ref)):"fn"in e?"".concat(e.fn,"(").concat((e.argv||[]).map(aL).join(", "),")"):JSON.stringify(e,null,2)}class oL extends Error{constructor(e){super(e),this.name="EndpointError"}}const sL=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new oL("Path: '".concat(e,"' does not end with ']'"));const a=r.slice(t+1,-1);if(Number.isNaN(parseInt(a)))throw new oL("Invalid array index: '".concat(a,"' in path: '").concat(e,"'"));0!==t&&n.push(r.slice(0,t)),n.push(a)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!==typeof n)throw new oL("Index '".concat(r,"' in '").concat(t,"' not found in '").concat(JSON.stringify(e),"'"));return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),iL={[yO.HTTP]:80,[yO.HTTPS]:443},lL={booleanEquals:(e,t)=>e===t,getAttr:sL,isSet:e=>null!=e,isValidHostLabel:tL,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"===typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:a="",query:o={}}=e,s=new URL("".concat(r,"//").concat(t).concat(n?":".concat(n):"").concat(a));return s.search=Object.entries(o).map((e=>{let[t,n]=e;return"".concat(t,"=").concat(n)})).join("&"),s}return new URL(e)}catch(t){return null}})();if(!t)return console.error("Unable to parse ".concat(JSON.stringify(e)," as a whatwg URL.")),null;const n=t.href,{host:r,hostname:a,pathname:o,protocol:s,search:i}=t;if(i)return null;const l=s.slice(0,-1);if(!Object.values(yO).includes(l))return null;const u=ZP(a),c=n.includes("".concat(r,":").concat(iL[l]))||"string"===typeof e&&e.includes("".concat(r,":").concat(iL[l]));return{scheme:l,authority:"".concat(r).concat(c?":".concat(iL[l]):""),path:o,normalizedPath:o.endsWith("/")?o:"".concat(o,"/"),isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase())))},uL=(e,t)=>{const n=[],r=M(M({},t.endpointParams),t.referenceRecord);let a=0;for(;a<e.length;){const t=e.indexOf("{",a);if(-1===t){n.push(e.slice(a));break}n.push(e.slice(a,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),a=o+2);const s=e.substring(t+1,o);if(s.includes("#")){const[e,t]=s.split("#");n.push(sL(r[e],t))}else n.push(r[s]);a=o+1}return n.join("")},cL=(e,t,n)=>{if("string"===typeof e)return uL(e,n);if(e.fn)return dL(e,n);if(e.ref)return((e,t)=>{let{ref:n}=e;return M(M({},t.endpointParams),t.referenceRecord)[n]})(e,n);throw new oL("'".concat(t,"': ").concat(String(e)," is not a string, function or reference."))},dL=(e,t)=>{let{fn:n,argv:r}=e;const a=r.map((e=>["boolean","number"].includes(typeof e)?e:cL(e,"arg",t))),o=n.split(".");return o[0]in nL&&null!=o[1]?nL[o[0]][o[1]](...a):lL[n](...a)},pL=["assign"],hL=(e,t)=>{var n,r;let{assign:a}=e,o=Bn(e,pL);if(a&&a in t.referenceRecord)throw new oL("'".concat(a,"' is already defined in Reference Record."));const s=dL(o,t);return null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,"".concat(rL," evaluateCondition: ").concat(aL(o)," = ").concat(aL(s))),M({result:""===s||!!s},null!=a&&{toAssign:{name:a,value:s}})},fL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n={};for(const s of e){const{result:e,toAssign:i}=hL(s,M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),n)}));if(!e)return{result:e};var r,a,o;if(i)n[i.name]=i.value,null===(r=t.logger)||void 0===r||null===(a=(o=r).debug)||void 0===a||a.call(o,"".concat(rL," assign: ").concat(i.name," := ").concat(aL(i.value)))}return{result:!0,referenceRecord:n}},mL=(e,t)=>Object.entries(e).reduce(((e,n)=>{let[r,a]=n;return M(M({},e),{},{[r]:a.map((e=>{const n=cL(e,"Header value entry",t);if("string"!==typeof n)throw new oL("Header '".concat(r,"' value '").concat(n,"' is not a string"));return n}))})}),{}),gL=(e,t)=>{if(Array.isArray(e))return e.map((e=>gL(e,t)));switch(typeof e){case"string":return uL(e,t);case"object":if(null===e)throw new oL("Unexpected endpoint property: ".concat(e));return vL(e,t);case"boolean":return e;default:throw new oL("Unexpected endpoint property type: ".concat(typeof e))}},vL=(e,t)=>Object.entries(e).reduce(((e,n)=>{let[r,a]=n;return M(M({},e),{},{[r]:gL(a,t)})}),{}),yL=(e,t)=>{const n=cL(e,"Endpoint URL",t);if("string"===typeof n)try{return new URL(n)}catch(r){throw console.error("Failed to construct URL with ".concat(n),r),r}throw new oL("Endpoint URL must be a string, got ".concat(typeof n))},bL=(e,t)=>{var n,r;const{conditions:a,endpoint:o}=e,{result:s,referenceRecord:i}=fL(a,t);if(!s)return;const l=M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),i)}),{url:u,properties:c,headers:d}=o;return null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,"".concat(rL," Resolving endpoint from template: ").concat(aL(o))),M(M(M({},void 0!=d&&{headers:mL(d,l)}),void 0!=c&&{properties:vL(c,l)}),{},{url:yL(u,l)})},wL=(e,t)=>{const{conditions:n,error:r}=e,{result:a,referenceRecord:o}=fL(n,t);if(a)throw new oL(cL(r,"Error",M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),o)})))},kL=(e,t)=>{const{conditions:n,rules:r}=e,{result:a,referenceRecord:o}=fL(n,t);if(a)return SL(r,M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),o)}))},SL=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=bL(n,t);if(e)return e}else if("error"===n.type)wL(n,t);else{if("tree"!==n.type)throw new oL("Unknown endpoint rule: ".concat(n));{const e=kL(n,t);if(e)return e}}throw new oL("Rules evaluation failed")},xL=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(const t of e.split("."))if(!xL(t))return!1;return!0}return!!tL(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!ZP(e)))};let _L=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}'),IL="";const EL={isVirtualHostableS3Bucket:xL,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,a,o,s,...i]=t;return"arn"!==n||""===r||""===a||""===i[0]?null:{partition:r,service:a,region:o,accountId:s,resourceId:i[0].includes("/")?i[0].split("/"):i}},partition:e=>{const{partitions:t}=_L;for(const r of t){const{regions:t,outputs:n}=r;for(const[r,a]of Object.entries(t))if(r===e)return M(M({},n),a)}for(const r of t){const{regionRegex:t,outputs:n}=r;if(new RegExp(t).test(e))return M({},n)}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return M({},n.outputs)}};nL.aws=EL;class TL{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new TL(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return TL.clone(this)}}const NL="user-agent",CL="x-amz-user-agent",AL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ML=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,OL=e=>(t,n)=>async r=>{var a,o;const{request:s}=r;if(!TL.isInstance(s))return t(r);const{headers:i}=s,l=(null===n||void 0===n||null===(a=n.userAgent)||void 0===a?void 0:a.map(RL))||[],u=(await e.defaultUserAgentProvider()).map(RL),c=(null===e||void 0===e||null===(o=e.customUserAgent)||void 0===o?void 0:o.map(RL))||[],d=(IL?[IL]:[]).concat([...u,...l,...c]).join(" "),p=[...u.filter((e=>e.startsWith("aws-sdk-"))),...c].join(" ");return"browser"!==e.runtime?(p&&(i[CL]=i[CL]?"".concat(i[NL]," ").concat(p):p),i[NL]=d):i[CL]=d,t(M(M({},r),{},{request:s}))},RL=e=>{var t;const n=e[0].split("/").map((e=>e.replace(AL,"-"))).join("/"),r=null===(t=e[1])||void 0===t?void 0:t.replace(ML,"-"),a=n.indexOf("/"),o=n.substring(0,a);let s=n.substring(a+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return"".concat(e,"/").concat(t);default:return"".concat(e,"#").concat(t)}}),"")},DL={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var FL;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(FL||(FL={}));const PL=e=>"string"===typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),LL=e=>PL(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;class zL{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new zL(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return zL.clone(this)}}const BL="content-length";const WL={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},UL=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(zL.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(BL))try{const t=n(e);r.headers=M(M({},r.headers),{},{[BL]:String(t)})}catch(a){}}return e(M(M({},t),{},{request:r}))}),WL)}});var jL;!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(jL||(jL={}));const HL=jL.STANDARD,VL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],qL=["TimeoutError","RequestTimeout","RequestTimeoutException"],GL=[500,502,503,504],KL=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],$L=e=>{var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||VL.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},YL=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=>{var t;return null===(t=e.$metadata)||void 0===t?void 0:t.clockSkewCorrected})(e)||qL.includes(e.name)||KL.includes((null===e||void 0===e?void 0:e.code)||"")||GL.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)||void 0!==e.cause&&n<=10&&YL(e.cause,n+1)};class QL{constructor(e){var t,n,r,a,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null===e||void 0===e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null===e||void 0===e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null===e||void 0===e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(a=null===e||void 0===e?void 0:e.scaleConstant)&&void 0!==a?a:.4,this.smooth=null!==(o=null===e||void 0===e?void 0:e.smooth)&&void 0!==o?o:.8;const s=this.getCurrentTimeInSeconds();this.lastThrottleTime=s,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>QL.setTimeoutFn(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),$L(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}QL.setTimeoutFn=setTimeout;const XL=100,JL=2e4,ZL="amz-sdk-invocation-id",ez="amz-sdk-request",tz=e=>{let{retryDelay:t,retryCount:n,retryCost:r}=e;return{getRetryCount:()=>n,getRetryDelay:()=>Math.min(JL,t),getRetryCost:()=>r}};class nz{constructor(e){this.maxAttempts=e,this.mode=jL.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=XL;return{computeNextBackoffDelay:t=>Math.floor(Math.min(JL,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"===typeof e?e:async()=>e}async acquireInitialRetryToken(e){return tz({retryDelay:XL,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:XL);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,tz({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){var t;this.capacity=Math.max(500,this.capacity+(null!==(t=e.getRetryCost())&&void 0!==t?t:1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of ".concat(3)),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class rz{constructor(e,t){this.maxAttemptsProvider=e,this.mode=jL.ADAPTIVE;const{rateLimiter:n}=null!==t&&void 0!==t?t:{};this.rateLimiter=null!==n&&void 0!==n?n:new QL,this.standardRetryStrategy=new nz(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class az{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new az(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return az.clone(this)}}class oz{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const sz={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let iz;const lz=new Uint8Array(16);function uz(){if(!iz&&(iz="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!iz))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return iz(lz)}const cz=[];for(let n=0;n<256;++n)cz.push((n+256).toString(16).slice(1));function dz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return cz[e[t+0]]+cz[e[t+1]]+cz[e[t+2]]+cz[e[t+3]]+"-"+cz[e[t+4]]+cz[e[t+5]]+"-"+cz[e[t+6]]+cz[e[t+7]]+"-"+cz[e[t+8]]+cz[e[t+9]]+"-"+cz[e[t+10]]+cz[e[t+11]]+cz[e[t+12]]+cz[e[t+13]]+cz[e[t+14]]+cz[e[t+15]]}const pz=function(e,t,n){if(sz.randomUUID&&!t&&!e)return sz.randomUUID();const r=(e=e||{}).random||(e.rng||uz)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return dz(r)},hz=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"===typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e));const fz=e=>(null===e||void 0===e?void 0:e.body)instanceof ReadableStream,mz=e=>"undefined"!==typeof e.acquireInitialRetryToken&&"undefined"!==typeof e.refreshRetryTokenForRetry&&"undefined"!==typeof e.recordSuccess,gz=e=>{const t={error:e,errorType:vz(e)},n=wz(e.$response);return n&&(t.retryAfterHint=n),t},vz=e=>$L(e)?"THROTTLING":YL(e)?"TRANSIENT":(e=>{var t;if(void 0!==(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!YL(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",yz={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},bz=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let a=await e.retryStrategy();const o=await e.maxAttempts();var s;if(!mz(a))return null!==(s=a)&&void 0!==s&&s.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(t,r);{let e=await a.acquireInitialRetryToken(n.partition_id),s=new Error,u=0,c=0;const{request:d}=r,p=az.isInstance(d);for(p&&(d.headers[ZL]=pz());;)try{p&&(d.headers[ez]="attempt=".concat(u+1,"; max=").concat(o));const{response:n,output:s}=await t(r);return a.recordSuccess(e),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=c,{response:n,output:s}}catch(rB){const r=gz(rB);var i;if(s=hz(rB),p&&fz(d))throw null===(i=n.logger instanceof CD?console:n.logger)||void 0===i||i.warn("An error was encountered in a non-retryable streaming request."),s;try{e=await a.refreshRetryTokenForRetry(e,r)}catch(l){throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=c,s}u=e.getRetryCount();const o=e.getRetryDelay();c+=o,await new Promise((e=>setTimeout(e,o)))}}})(e),yz)}}),wz=e=>{if(!oz.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);if(!Number.isNaN(r))return new Date(1e3*r);return new Date(n)},kz="3.621.0";var Sz={name:"SHA-256"},xz={name:"HMAC",hash:Sz},_z=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const Iz={};function Ez(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:Iz}var Tz=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!fe(e)){var t=he(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return Ez().crypto.subtle.sign(xz,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):fe(this.toHash)?Promise.resolve(_z):Promise.resolve().then((function(){return Ez().crypto.subtle.digest(Sz,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){Ez().crypto.subtle.importKey("raw",he(e.secret),xz,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}(),Nz=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Cz(e){return e&&Nz.every((function(t){return"function"===typeof e[t]}))}var Az=function(){function e(e){!function(e){return!(!function(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}(e)||"object"!==typeof e.crypto.subtle)&&Cz(e.crypto.subtle)}(Ez())?this.hash=new me(e):this.hash=new Tz(e)}return e.prototype.update=function(e,t){this.hash.update(he(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Mz=n(5),Oz=n.n(Mz);const Rz=e=>{let{serviceId:t,clientVersion:n}=e;return async()=>{var e,r,a,o,s,i,l;const u="undefined"!==typeof window&&null!==(e=window)&&void 0!==e&&null!==(e=e.navigator)&&void 0!==e&&e.userAgent?Oz().parse(window.navigator.userAgent):void 0,c=[["aws-sdk-js",n],["ua","2.0"],["os/".concat((null===u||void 0===u||null===(r=u.os)||void 0===r?void 0:r.name)||"other"),null===u||void 0===u||null===(a=u.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(o=null===u||void 0===u||null===(s=u.browser)||void 0===s?void 0:s.name)&&void 0!==o?o:"unknown","_").concat(null!==(i=null===u||void 0===u||null===(l=u.browser)||void 0===l?void 0:l.version)&&void 0!==i?i:"unknown")]];return t&&c.push(["api/".concat(t),n]),c}};function Dz(e,t){return async function(n){const{value:r}=n.headers[":message-type"];if("error"===r){const e=new Error(n.headers[":error-message"].value||"UnknownError");throw e.name=n.headers[":error-code"].value,e}if("exception"===r){const r=n.headers[":exception-type"].value,a={[r]:n},o=await e(a);if(o.$unknown){const e=new Error(t(n.body));throw e.name=r,e}throw o[r]}if("event"===r){const t={[n.headers[":event-type"].value]:n},r=await e(t);if(r.$unknown)return;return r}throw Error("Unrecognizable event type: ".concat(n.headers[":event-type"].value))}}class Fz{constructor(e){let{utf8Encoder:t,utf8Decoder:n}=e;this.eventStreamCodec=new $O(t,n),this.utfEncoder=t}deserialize(e,t){const n=function(e){let t=0,n=0,r=null,a=null;const o=e=>{if("number"!==typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,r=new Uint8Array(e),new DataView(r.buffer).setUint32(0,e,!1)},s=function(){var s=fO((function*(){const s=e[Symbol.asyncIterator]();for(;;){const{value:e,done:i}=yield hO(s.next());if(i){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield r)}const l=e.length;let u=0;for(;u<l;){if(!r){const t=l-u;a||(a=new Uint8Array(4));const r=Math.min(4-n,t);if(a.set(e.slice(u,u+r),n),n+=r,u+=r,n<4)break;o(new DataView(a.buffer).getUint32(0,!1)),a=null}const s=Math.min(t-n,l-u);r.set(e.slice(u,u+s),n),n+=s,u+=s,t&&t===n&&(yield r,r=null,t=0,n=0)}}}));return function(){return s.apply(this,arguments)}}();return{[Symbol.asyncIterator]:s}}(e);return new XO({messageStream:new YO({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Dz(t,this.utfEncoder)})}serialize(e,t){return new QO({messageStream:new JO({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}class Pz{constructor(e){let{utf8Encoder:t,utf8Decoder:n}=e;this.universalMarshaller=new Fz({utf8Decoder:n,utf8Encoder:t})}deserialize(e,t){const n=Lz(e)?(r=e,{[Symbol.asyncIterator]:fO((function*(){const e=r.getReader();try{for(;;){const{done:t,value:n}=yield hO(e.read());if(t)return;yield n}}finally{e.releaseLock()}}))}):e;var r;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"===typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})})(n):n}}const Lz=e=>"function"===typeof ReadableStream&&e instanceof ReadableStream,zz=e=>new Pz(e);class Bz{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}function Wz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error("Request did not complete within ".concat(e," ms"));t.name="TimeoutError",n(t)}),e)}))}const Uz={supported:void 0};class jz{static create(e){return"function"===typeof(null===e||void 0===e?void 0:e.handle)?e:new jz(e)}constructor(e){"function"===typeof e?this.configProvider=e().then((e=>e||{})):(this.config=null!==e&&void 0!==e?e:{},this.configProvider=Promise.resolve(this.config)),void 0===Uz.supported&&(Uz.supported=Boolean("undefined"!==typeof Request&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(e){var t;let{abortSignal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,a=!0===this.config.keepAlive,o=this.config.credentials;if(null!==n&&void 0!==n&&n.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let s=e.path;const i=fR(e.query||{});i&&(s+="?".concat(i)),e.fragment&&(s+="#".concat(e.fragment));let l="";if(null!=e.username||null!=e.password){var u,c;const t=null!==(u=e.username)&&void 0!==u?u:"",n=null!==(c=e.password)&&void 0!==c?c:"";l="".concat(t,":").concat(n,"@")}const{port:d,method:p}=e,h="".concat(e.protocol,"//").concat(l).concat(e.hostname).concat(d?":".concat(d):"").concat(s),f="GET"===p||"HEAD"===p?void 0:e.body,m={body:f,headers:new Headers(e.headers),method:p,credentials:o};null!==(t=this.config)&&void 0!==t&&t.cache&&(m.cache=this.config.cache),f&&(m.duplex="half"),"undefined"!==typeof AbortController&&(m.signal=n),Uz.supported&&(m.keepalive=a),"function"===typeof this.config.requestInit&&Object.assign(m,this.config.requestInit(e));let g=()=>{};const v=new Request(h,m),y=[fetch(v).then((e=>{const t=e.headers,n={};for(const r of t.entries())n[r[0]]=r[1];return void 0!=e.body?{response:new Bz({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new Bz({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),Wz(r)];return n&&y.push(new Promise(((e,t)=>{const r=()=>{const e=new Error("Request aborted");e.name="AbortError",t(e)};if("function"===typeof n.addEventListener){const e=n;e.addEventListener("abort",r,{once:!0}),g=()=>e.removeEventListener("abort",r)}else n.onabort=r}))),Promise.race(y).finally(g)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}}const Hz=e=>"function"===typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));const a=null!==(e=r.result)&&void 0!==e?e:"",o=a.indexOf(","),s=o>-1?o+1:a.length;t(a.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)}))}(e),n=kR(t);return new Uint8Array(n)}(e):async function(e){const t=[],n=e.getReader();let r=!1,a=0;for(;!r;){const{done:e,value:o}=await n.read();o&&(t.push(o),a+=o.length),r=e}const o=new Uint8Array(a);let s=0;for(const i of t)o.set(i,s),s+=i.length;return o}(e);const Vz=e=>()=>Promise.reject(e),qz="function"==typeof TextEncoder?new TextEncoder:null,Gz=e=>{if("string"===typeof e){if(qz)return qz.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"===typeof e.byteLength)return e.byteLength;if("number"===typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},Kz=e=>(new TextEncoder).encode(e),$z=e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},Yz="required",Qz="fn",Xz="argv",Jz="ref",Zz="isSet",eB="tree",tB="error",nB="endpoint",rB="PartitionResult",aB={[Yz]:!1,type:"String"},oB={[Yz]:!0,default:!1,type:"Boolean"},sB={[Jz]:"Endpoint"},iB={[Qz]:"booleanEquals",[Xz]:[{[Jz]:"UseFIPS"},!0]},lB={[Qz]:"booleanEquals",[Xz]:[{[Jz]:"UseDualStack"},!0]},uB={},cB={[Qz]:"booleanEquals",[Xz]:[!0,{[Qz]:"getAttr",[Xz]:[{[Jz]:rB},"supportsFIPS"]}]},dB={[Qz]:"booleanEquals",[Xz]:[!0,{[Qz]:"getAttr",[Xz]:[{[Jz]:rB},"supportsDualStack"]}]},pB=[iB],hB=[lB],fB=[{[Jz]:"Region"}],mB={version:"1.0",parameters:{Region:aB,UseDualStack:oB,UseFIPS:oB,Endpoint:aB},rules:[{conditions:[{[Qz]:Zz,[Xz]:[sB]}],type:eB,rules:[{conditions:pB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:tB},{type:eB,rules:[{conditions:hB,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:tB},{endpoint:{url:sB,properties:uB,headers:uB},type:nB}]}]},{type:eB,rules:[{conditions:[{[Qz]:Zz,[Xz]:fB}],type:eB,rules:[{conditions:[{[Qz]:"aws.partition",[Xz]:fB,assign:rB}],type:eB,rules:[{conditions:[iB,lB],type:eB,rules:[{conditions:[cB,dB],type:eB,rules:[{type:eB,rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:uB,headers:uB},type:nB}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:tB}]},{conditions:pB,type:eB,rules:[{conditions:[cB],type:eB,rules:[{type:eB,rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dnsSuffix}",properties:uB,headers:uB},type:nB}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:tB}]},{conditions:hB,type:eB,rules:[{conditions:[dB],type:eB,rules:[{type:eB,rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:uB,headers:uB},type:nB}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:tB}]},{type:eB,rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dnsSuffix}",properties:uB,headers:uB},type:nB}]}]}]},{error:"Invalid Configuration: Missing Region",type:tB}]}]},gB=function(e){return((e,t)=>{var n,r,a,o;const{endpointParams:s,logger:i}=t,{parameters:l,rules:u}=e;null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,"".concat(rL," Initial EndpointParams: ").concat(aL(s)));const c=Object.entries(l).filter((e=>{let[,t]=e;return null!=t.default})).map((e=>{let[t,n]=e;return[t,n.default]}));if(c.length>0)for(const[f,m]of c){var d;s[f]=null!==(d=s[f])&&void 0!==d?d:m}const p=Object.entries(l).filter((e=>{let[,t]=e;return t.required})).map((e=>{let[t]=e;return t}));for(const f of p)if(null==s[f])throw new oL("Missing required parameter: '".concat(f,"'"));const h=SL(u,{endpointParams:s,logger:i,referenceRecord:{}});return null===(a=t.logger)||void 0===a||null===(o=a.debug)||void 0===o||o.call(a,"".concat(rL," Resolved endpoint: ").concat(aL(h))),h})(mB,{endpointParams:e,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})};nL.aws=EL;const vB=["in-region","cross-region","mobile","standard","legacy"],yB=()=>{var e,t;const n="undefined"!==typeof window&&null!==(e=window)&&void 0!==e&&null!==(e=e.navigator)&&void 0!==e&&e.userAgent?Oz().parse(window.navigator.userAgent):void 0,r=null===n||void 0===n||null===(t=n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},bB=e=>{var t,n,r,a,o,s,i,l,u,c,d,p,h;const f=function(){let{defaultsMode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iP((async()=>{const t="function"===typeof e?await e():e;switch(null===t||void 0===t?void 0:t.toLowerCase()){case"auto":return Promise.resolve(yB()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(null===t||void 0===t?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(vB.join(", "),", got ").concat(t))}}))}(e),m=()=>f().then(ID),g=(e=>{var t,n,r,a,o,s,i,l,u,c;return{apiVersion:"2022-05-30",base64Decoder:null!==(t=null===e||void 0===e?void 0:e.base64Decoder)&&void 0!==t?t:kR,base64Encoder:null!==(n=null===e||void 0===e?void 0:e.base64Encoder)&&void 0!==n?n:SR,disableHostPrefix:null!==(r=null===e||void 0===e?void 0:e.disableHostPrefix)&&void 0!==r&&r,endpointProvider:null!==(a=null===e||void 0===e?void 0:e.endpointProvider)&&void 0!==a?a:gB,extensions:null!==(o=null===e||void 0===e?void 0:e.extensions)&&void 0!==o?o:[],logger:null!==(s=null===e||void 0===e?void 0:e.logger)&&void 0!==s?s:new CD,serviceId:null!==(i=null===e||void 0===e?void 0:e.serviceId)&&void 0!==i?i:"RekognitionStreaming",urlParser:null!==(l=null===e||void 0===e?void 0:e.urlParser)&&void 0!==l?l:YR,utf8Decoder:null!==(u=null===e||void 0===e?void 0:e.utf8Decoder)&&void 0!==u?u:Kz,utf8Encoder:null!==(c=null===e||void 0===e?void 0:e.utf8Encoder)&&void 0!==c?c:$z}})(e);return M(M(M({},g),e),{},{runtime:"browser",defaultsMode:f,bodyLengthChecker:null!==(t=null===e||void 0===e?void 0:e.bodyLengthChecker)&&void 0!==t?t:Gz,credentialDefaultProvider:null!==(n=null===e||void 0===e?void 0:e.credentialDefaultProvider)&&void 0!==n?n:e=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:null!==(r=null===e||void 0===e?void 0:e.defaultUserAgentProvider)&&void 0!==r?r:Rz({serviceId:g.serviceId,clientVersion:kz}),eventStreamPayloadHandlerProvider:null!==(a=null===e||void 0===e?void 0:e.eventStreamPayloadHandlerProvider)&&void 0!==a?a:rR,eventStreamSerdeProvider:null!==(o=null===e||void 0===e?void 0:e.eventStreamSerdeProvider)&&void 0!==o?o:zz,maxAttempts:null!==(s=null===e||void 0===e?void 0:e.maxAttempts)&&void 0!==s?s:3,region:null!==(i=null===e||void 0===e?void 0:e.region)&&void 0!==i?i:Vz("Region is missing"),requestHandler:_R.create(null!==(l=null===e||void 0===e?void 0:e.requestHandler)&&void 0!==l?l:m,jz.create(m)),retryMode:null!==(u=null===e||void 0===e?void 0:e.retryMode)&&void 0!==u?u:async()=>(await m()).retryMode||HL,sha256:null!==(c=null===e||void 0===e?void 0:e.sha256)&&void 0!==c?c:Az,streamCollector:null!==(d=null===e||void 0===e?void 0:e.streamCollector)&&void 0!==d?d:Hz,useDualstackEndpoint:null!==(p=null===e||void 0===e?void 0:e.useDualstackEndpoint)&&void 0!==p?p:()=>Promise.resolve(false),useFipsEndpoint:null!==(h=null===e||void 0===e?void 0:e.useFipsEndpoint)&&void 0!==h?h:()=>Promise.resolve(false)})},wB=(e,t)=>{const n=M(M(M({},(e=>{let t=async()=>{if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const t=e.region;return"string"===typeof t?t:t()};return{setRegion(e){t=e},region:()=>t}})(e)),TD(e)),(e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,n){t.updateHttpClientConfig(e,n)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}})(e));return t.forEach((e=>e.configure(n))),M(M(M(M({},e),{region:n.region()}),M(M({},(e=>{const t={};return e.checksumAlgorithms().forEach((e=>{t[e.algorithmId()]=e.checksumConstructor()})),t})(r=n)),(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t})(r))),{httpHandler:n.httpHandler()});var r};class kB extends sD{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r]=t;const a=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return M(M({},e),{},{region:async()=>{if("string"===typeof t)return LL(t);const e=await t();return LL(e)},useFipsEndpoint:async()=>{const e="string"===typeof t?t:await t();return!!PL(e)||("function"!==typeof n?Promise.resolve(!!n):n())}})})((e=>{var t,n;return M(M({},e),{},{useDualstackEndpoint:null!==(t=e.useDualstackEndpoint)&&void 0!==t&&t,useFipsEndpoint:null!==(n=e.useFipsEndpoint)&&void 0!==n&&n,defaultSigningName:"rekognition"})})(bB(r||{}))),o=(e=>{var t,n,r;const a=null===(t=e.tls)||void 0===t||t,{endpoint:o}=e,s=null!=o?async()=>QR(await NR(o)()):void 0,i=!!o,l=M(M({},e),{},{endpoint:s,tls:a,isCustomEndpoint:i,useDualstackEndpoint:NR(null!==(n=e.useDualstackEndpoint)&&void 0!==n&&n),useFipsEndpoint:NR(null!==(r=e.useFipsEndpoint)&&void 0!==r&&r)});let u;return l.serviceConfiguredEndpoint=async()=>(e.serviceId&&!u&&(u=$R(e.serviceId)),u),l})(a),s=(e=>{const t=e.credentials?GP(e.credentials):e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e})),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:a}=e;let o;return o=e.signer?NR(e.signer):e.regionInfoProvider?()=>NR(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((r=>{let[o,s]=r;const{signingRegion:i,signingService:l}=o;e.signingRegion=e.signingRegion||i||s,e.signingName=e.signingName||l||e.serviceId;const u=M(M({},e),{},{credentials:t,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:n});return new(e.signerConstructor||HP)(u)})):async r=>{var o;const s="sigv4a"===(null===(o=r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await NR(e.region)(),properties:{}},r))||void 0===o?void 0:o.name),i=r.signingRegion,l=r.signingName;let u;s?u=e.signingRegion||i:(e.signingRegion=e.signingRegion||i,u=e.signingRegion),e.signingName=e.signingName||l||e.serviceId;const c=M(M({},e),{},{credentials:t,region:u,service:e.signingName,sha256:a,uriEscapePath:n});return new(e.signerConstructor||HP)(c)},M(M({},e),{},{systemClockOffset:r,signingEscapePath:n,credentials:t,signer:o})})(o),i=function(e){const t=e.signer,n=e.signer,r=e.eventStreamPayloadHandlerProvider(M(M({},e),{},{messageSigner:n}));return M(M({},e),{},{eventSigner:t,eventStreamPayloadHandler:r})}(s),l=(e=>M(M({},e),{},{signer:async t=>{const n=await e.signer(t);if(dR(n))return new cR({signer:n});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}}))(i),u=function(e){return M(M({},e),{},{customUserAgent:"string"===typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(l),c=(e=>{var t;const{retryStrategy:n}=e,r=NR(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return M(M({},e),{},{maxAttempts:r,retryStrategy:async()=>n||(await NR(e.retryMode)()===jL.ADAPTIVE?new rz(r):new nz(r))})})(u),d=(e=>M(M({},e),{},{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(c),p=wB(d,(null===r||void 0===r?void 0:r.extensions)||[]);var h;super(p),this.config=p,this.middlewareStack.use(ZF(this.config)),this.middlewareStack.use(nP(this.config)),this.middlewareStack.use(sP(this.config)),this.middlewareStack.use(XP(this.config)),this.middlewareStack.use((h=this.config,{applyToStack:e=>{e.add(OL(h),DL)}})),this.middlewareStack.use(bz(this.config)),this.middlewareStack.use(UL(this.config))}destroy(){super.destroy()}}const SB="ui-react-liveness/".concat("3.2.0");n(2465);const xB={},_B={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),xB[n]=e,_B[e]=n}var IB;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(IB||(IB={}));Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;var EB,TB,NB,CB;!function(e){e.HEADER="header",e.QUERY="query"}(EB||(EB={})),function(e){e.HEADER="header",e.QUERY="query"}(TB||(TB={})),function(e){e.HTTP="http",e.HTTPS="https"}(NB||(NB={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(CB||(CB={}));var AB,MB,OB;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(AB||(AB={})),function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(MB||(MB={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(OB||(OB={}));class RB{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const DB=e=>encodeURIComponent(e).replace(/[!'()*]/g,FB),FB=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase());function PB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error("Request did not complete within ".concat(e," ms"));t.name="TimeoutError",n(t)}),e)}))}const LB=Boolean("undefined"!==typeof Request&&"keepalive"in new Request("https://[::1]"));class zB{static create(e){return"function"===typeof(null===e||void 0===e?void 0:e.handle)?e:new zB(e)}constructor(e){"function"===typeof e?this.configProvider=e().then((e=>e||{})):(this.config=null!==e&&void 0!==e?e:{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e){let{abortSignal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,r=!0===this.config.keepAlive;if(null!==t&&void 0!==t&&t.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let a=e.path;const o=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=DB(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push("".concat(n,"=").concat(DB(r[e])));else{let e=n;(r||"string"===typeof r)&&(e+="=".concat(DB(r))),t.push(e)}}return t.join("&")}(e.query||{});o&&(a+="?".concat(o)),e.fragment&&(a+="#".concat(e.fragment));let s="";if(null!=e.username||null!=e.password){var i,l;const t=null!==(i=e.username)&&void 0!==i?i:"",n=null!==(l=e.password)&&void 0!==l?l:"";s="".concat(t,":").concat(n,"@")}const{port:u,method:c}=e,d="".concat(e.protocol,"//").concat(s).concat(e.hostname).concat(u?":".concat(u):"").concat(a),p={body:"GET"===c||"HEAD"===c?void 0:e.body,headers:new Headers(e.headers),method:c};"undefined"!==typeof AbortController&&(p.signal=t),LB&&(p.keepalive=r);const h=new Request(d,p),f=[fetch(h).then((e=>{const t=e.headers,n={};for(const r of t.entries())n[r[0]]=r[1];return void 0!=e.body?{response:new RB({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new RB({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),PB(n)];return t&&f.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(f)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}}const BB={},WB=new Array(64);for(let n=0,tq="A".charCodeAt(0),nq="Z".charCodeAt(0);n+tq<=nq;n++){const e=String.fromCharCode(n+tq);BB[e]=n,WB[n]=e}for(let n=0,tq="a".charCodeAt(0),nq="z".charCodeAt(0);n+tq<=nq;n++){const e=String.fromCharCode(n+tq),t=n+26;BB[e]=t,WB[t]=e}for(let n=0;n<10;n++){BB[n.toString(10)]=n+52;const e=n.toString(10),t=n+52;BB[e]=t,WB[t]=e}BB["+"]=62,WB[62]="+",BB["/"]=63,WB[63]="/";const UB=2e3,jB="Websocket connection timeout",HB=e=>{return e[Symbol.asyncIterator]?e:(n=e,"function"===typeof ReadableStream&&n instanceof ReadableStream?(t=e,{[Symbol.asyncIterator]:fO((function*(){const e=t.getReader();try{for(;;){const{done:t,value:n}=yield hO(e.read());if(t)return;yield n}}finally{e.releaseLock()}}))}):{[Symbol.asyncIterator]:fO((function*(){yield e}))});var t,n},VB=e=>"function"===typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})})(e):e;class qB{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zB;this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.utf8decoder=new TextDecoder,this.httpHandler=t,"function"===typeof e?(this.config={},this.configPromise=e().then((e=>this.config=null!==e&&void 0!==e?e:{}))):(this.config=null!==e&&void 0!==e?e:{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!(e=>"ws:"===e.protocol||"wss:"===e.protocol)(e))return this.httpHandler.handle(e);const t=mR(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer";const{connectionTimeout:r=UB}=await this.configPromise;await this.waitForReady(n,r);const{body:a}=e,o=HB(a),s=this.connect(n,o),i=VB(s);return{response:new RB({statusCode:200,body:i})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then((n=>M(M({},n),{},{[e]:t})))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}removeNotUsableSockets(e){var t;this.sockets[e]=(null!==(t=this.sockets[e])&&void 0!==t?t:[]).filter((e=>!(e.readyState===WebSocket.CLOSING||e.readyState===WebSocket.CLOSED)))}waitForReady(e,t){return new Promise(((n,r)=>{const a=setTimeout((()=>{this.removeNotUsableSockets(e.url),r(new Error(jB))}),t);e.onopen=()=>{clearTimeout(a),n()}}))}connect(e,t){let n,r=!1,a=()=>{},o=()=>{};e.onmessage=e=>{o({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),a(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?a(n):o({done:!0,value:void 0}))};const s={[Symbol.asyncIterator]:()=>({next:()=>new Promise(((e,t)=>{o=e,a=t}))})};return(async()=>{try{var r,a=!1,o=!1;try{for(var s,i=Ua(t);a=!(s=await i.next()).done;a=!1){const t=s.value;{const n=this.utf8decoder.decode(t);if(n.includes("closeCode")){const t=n.match(/"closeCode":([0-9]*)/);if(t){const n=t[1];e.close(parseInt(n))}continue}e.send(t)}}}catch(eq){o=!0,r=eq}finally{try{a&&null!=i.return&&await i.return()}finally{if(o)throw r}}}catch(eq){eq instanceof Error&&(n=eq)}finally{e.close(uo)}})(),s}}n(5774);const GB={},KB={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),GB[n]=e,KB[e]=n}function $B(e){let t="";for(let n=0;n<e.byteLength;n++)t+=GB[e[n]];return t}class YB{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error("".concat(e," is too large (or, if negative, too small) to represent as an Int64"));const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&QB(t),new YB(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&QB(e),parseInt($B(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function QB(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class XB{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const a of Object.keys(e)){const n=this.fromUtf8(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const s=this.fromUtf8(e.value),i=new DataView(new ArrayBuffer(3+s.byteLength));i.setUint8(0,7),i.setUint16(1,s.byteLength,!1);const l=new Uint8Array(i.buffer);return l.set(s,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(YB.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!lW.test(e.value))throw new Error("Invalid UUID received: ".concat(e.value));const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in KB))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=KB[r]}return t}(e.value.replace(/\-/g,"")),1),c}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),a=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[a]={type:ZB,value:!0};break;case 1:t[a]={type:ZB,value:!1};break;case 2:t[a]={type:eW,value:e.getInt8(n++)};break;case 3:t[a]={type:tW,value:e.getInt16(n,!1)},n+=2;break;case 4:t[a]={type:nW,value:e.getInt32(n,!1)},n+=4;break;case 5:t[a]={type:rW,value:new YB(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[a]={type:aW,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[a]={type:oW,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[a]={type:sW,value:new Date(new YB(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[a]={type:iW,value:"".concat($B(s.subarray(0,4)),"-").concat($B(s.subarray(4,6)),"-").concat($B(s.subarray(6,8)),"-").concat($B(s.subarray(8,10)),"-").concat($B(s.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return t}}var JB;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(JB||(JB={}));const ZB="boolean",eW="byte",tW="short",nW="integer",rW="long",aW="binary",oW="string",sW="timestamp",iW="uuid",lW=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;var uW,cW,dW,pW;!function(e){e.HEADER="header",e.QUERY="query"}(uW||(uW={})),function(e){e.HEADER="header",e.QUERY="query"}(cW||(cW={})),function(e){e.HTTP="http",e.HTTPS="https"}(dW||(dW={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(pW||(pW={}));var hW,fW,mW;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(hW||(hW={})),function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(fW||(fW={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(mW||(mW={}));const gW=e=>{if("function"===typeof e)return e;const t=Promise.resolve(e);return()=>t},vW=e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},yW=e=>"string"===typeof e?de(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),bW="X-Amz-Date",wW="X-Amz-Signature",kW="X-Amz-Security-Token",SW="authorization",xW=bW.toLowerCase(),_W=[SW,xW,"date"],IW=wW.toLowerCase(),EW="x-amz-content-sha256",TW=kW.toLowerCase(),NW={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},CW=/^proxy-/,AW=/^sec-/,MW="AWS4-HMAC-SHA256",OW="AWS4-HMAC-SHA256-PAYLOAD",RW="aws4_request",DW={},FW=[],PW=(e,t,n)=>"".concat(e,"/").concat(t,"/").concat(n,"/").concat(RW),LW=(e,t,n)=>{const r=new e(t);return r.update(yW(n)),r.digest()},zW=(e,t,n)=>{let{headers:r}=e;const a={};for(const o of Object.keys(r).sort()){if(void 0==r[o])continue;const e=o.toLowerCase();(e in NW||null!==t&&void 0!==t&&t.has(e)||CW.test(e)||AW.test(e))&&(!n||n&&!n.has(e))||(a[e]=r[o].trim().replace(/\s+/g," "))}return a},BW=e=>encodeURIComponent(e).replace(/[!'()*]/g,WW),WW=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()),UW=async(e,t)=>{let{headers:n,body:r}=e;for(const o of Object.keys(n))if(o.toLowerCase()===EW)return n[o];if(void 0==r)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"===typeof r||ArrayBuffer.isView(r)||(a=r,"function"===typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a))){const e=new t;return e.update(yW(r)),$B(await e.digest())}var a;return"UNSIGNED-PAYLOAD"},jW=["headers","query"],HW=e=>{let{headers:t,query:n}=e;return M(M({},Bn(e,jW)),{},{headers:M({},t),query:n?VW(n):void 0})},VW=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return M(M({},t),{},{[n]:Array.isArray(r)?[...r]:r})}),{}),qW=e=>{e="function"===typeof e.clone?e.clone():HW(e);for(const t of Object.keys(e.headers))_W.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},GW=e=>"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class KW{constructor(e){let{applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:s=!0}=e;this.headerMarshaller=new XB(vW,de),this.service=a,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=gW(r),this.credentialProvider=gW(n)}async presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:a,unhoistableHeaders:o,signableHeaders:s,signingRegion:i,signingService:l}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);const c=null!==i&&void 0!==i?i:await this.regionProvider(),{longDate:d,shortDate:p}=$W(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const h=PW(p,c,null!==l&&void 0!==l?l:this.service),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{headers:n,query:r={}}="function"===typeof e.clone?e.clone():HW(e);for(const o of Object.keys(n)){var a;const e=o.toLowerCase();"x-amz-"!==e.slice(0,6)||null!==(a=t.unhoistableHeaders)&&void 0!==a&&a.has(e)||(r[o]=n[o],delete n[o])}return M(M({},e),{},{headers:n,query:r})}(qW(e),{unhoistableHeaders:o});u.sessionToken&&(f.query[kW]=u.sessionToken),f.query["X-Amz-Algorithm"]=MW,f.query["X-Amz-Credential"]="".concat(u.accessKeyId,"/").concat(h),f.query[bW]=d,f.query["X-Amz-Expires"]=r.toString(10);const m=zW(f,a,s);return f.query["X-Amz-SignedHeaders"]=YW(m),f.query[wW]=await this.getSignature(d,h,this.getSigningKey(u,c,p,l),this.createCanonicalRequest(f,m,await UW(e,this.sha256))),f}async sign(e,t){return"string"===typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent(e,t){let{headers:n,payload:r}=e,{signingDate:a=new Date,priorSignature:o,signingRegion:s,signingService:i}=t;const l=null!==s&&void 0!==s?s:await this.regionProvider(),{shortDate:u,longDate:c}=$W(a),d=PW(u,l,null!==i&&void 0!==i?i:this.service),p=await UW({headers:{},body:r},this.sha256),h=new this.sha256;h.update(n);const f=$B(await h.digest()),m=[OW,c,d,o,f,p].join("\n");return this.signString(m,{signingDate:a,signingRegion:l,signingService:i})}async signMessage(e,t){let{signingDate:n=new Date,signingRegion:r,signingService:a}=t;return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e){let{signingDate:t=new Date,signingRegion:n,signingService:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await this.credentialProvider();this.validateResolvedCredentials(a);const o=null!==n&&void 0!==n?n:await this.regionProvider(),{shortDate:s}=$W(t),i=new this.sha256(await this.getSigningKey(a,o,s,r));return i.update(yW(e)),$B(await i.digest())}async signRequest(e){let{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:a,signingService:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=await this.credentialProvider();this.validateResolvedCredentials(s);const i=null!==a&&void 0!==a?a:await this.regionProvider(),l=qW(e),{longDate:u,shortDate:c}=$W(t),d=PW(c,i,null!==o&&void 0!==o?o:this.service);l.headers[xW]=u,s.sessionToken&&(l.headers[TW]=s.sessionToken);const p=await UW(l,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(EW,l.headers)&&this.applyChecksum&&(l.headers[EW]=p);const h=zW(l,r,n),f=await this.getSignature(u,d,this.getSigningKey(s,i,c,o),this.createCanonicalRequest(l,h,p));return l.headers[SW]="".concat(MW," ")+"Credential=".concat(s.accessKeyId,"/").concat(d,", ")+"SignedHeaders=".concat(YW(h),", ")+"Signature=".concat(f),l}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat((e=>{let{query:t={}}=e;const n=[],r={};for(const a of Object.keys(t).sort()){if(a.toLowerCase()===IW)continue;n.push(a);const e=t[a];"string"===typeof e?r[a]="".concat(BW(a),"=").concat(BW(e)):Array.isArray(e)&&(r[a]=e.slice(0).reduce(((e,t)=>e.concat(["".concat(BW(a),"=").concat(BW(t))])),[]).sort().join("&"))}return n.map((e=>r[e])).filter((e=>e)).join("&")})(e),"\n").concat(r.map((e=>"".concat(e,":").concat(t[e]))).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)}async createStringToSign(e,t,n){const r=new this.sha256;r.update(yW(n));const a=await r.digest();return"".concat(MW,"\n").concat(e,"\n").concat(t,"\n").concat($B(a))}getCanonicalPath(e){let{path:t}=e;if(this.uriEscapePath){const e=[];for(const r of t.split("/"))0!==(null===r||void 0===r?void 0:r.length)&&"."!==r&&(".."===r?e.pop():e.push(r));const n="".concat(null!==t&&void 0!==t&&t.startsWith("/")?"/":"").concat(e.join("/")).concat(e.length>0&&null!==t&&void 0!==t&&t.endsWith("/")?"/":"");return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(e,t,n,r){const a=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(yW(a)),$B(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,a)=>{const o=await LW(e,t.secretAccessKey,t.accessKeyId),s="".concat(n,":").concat(r,":").concat(a,":").concat($B(o),":").concat(t.sessionToken);if(s in DW)return DW[s];for(FW.push(s);FW.length>50;)delete DW[FW.shift()];let i="AWS4".concat(t.secretAccessKey);for(const l of[n,r,a,RW])i=await LW(e,i,l);return DW[s]=i})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!==typeof e||"string"!==typeof e.accessKeyId||"string"!==typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const $W=e=>{const t=(e=>GW(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},YW=e=>Object.keys(e).sort().join(";");class QW extends KW{presign(e,t){return super.presign(e,M(M({},t),{},{expiresIn:299,unsignableHeaders:new Set(Object.keys(e.headers).filter((e=>"host"!==e)))}))}}const XW="".concat(Yt()," ").concat(SB);async function JW(e){let{credentialsProvider:t,endpointOverride:n,region:r,systemClockOffset:a}=e;const o=await async function(e){const t=(e=>"function"===typeof e)(e);if(t)return e;if(e&&!t)throw new Error("Invalid credentialsProvider");try{const e=(await Wn()).credentials;if(null!==(n=e)&&void 0!==n&&n.accessKeyId&&null!==n&&void 0!==n&&n.secretAccessKey)return e;throw new Error("Missing credentials")}catch(rB){const{message:t}=rB;throw new Error("Invalid credentials: ".concat(t))}var n}(t),s={credentials:o,customUserAgent:XW,region:r,requestHandler:new qB({connectionTimeout:1e4}),signerConstructor:QW,systemClockOffset:a};return n&&(s.endpointProvider=()=>({url:new URL(n)})),new kB(s)}function ZW(e){return void 0!==e.Challenge}function eU(e){return void 0!==e.code}class tU{constructor(e){let{sessionId:t,region:n,stream:r,videoEl:a,credentialProvider:o,endpointOverride:s,systemClockOffset:i}=e;this.sessionId=t,this.region=n,this.stream=r,this.videoEl=a,this.videoRecorder=new QF(r),this.credentialProvider=o,this.endpointOverride=s,this.systemClockOffset=i,this.initPromise=this.init()}async getResponseStream(){return await this.initPromise,this.responseStream}startRecordingLivenessVideo(){this.videoRecorder.start(1e3)}sendClientInfo(e){this.videoRecorder.dispatch(new MessageEvent("clientSesssionInfo",{data:{clientInfo:e}}))}async stopVideo(){await this.videoRecorder.stop()}dispatchStopVideoEvent(){this.videoRecorder.dispatch(new Event("stopVideo"))}async endStreamWithCode(e){"recording"===this.videoRecorder.getState()&&await this.stopVideo(),this.videoRecorder.dispatch(new MessageEvent("endStreamWithCode",{data:{code:e}}))}async init(){this._client=await JW({credentialsProvider:this.credentialProvider,endpointOverride:this.endpointOverride,region:this.region,systemClockOffset:this.systemClockOffset}),this.responseStream=await this.startLivenessVideoConnection()}getAsyncGeneratorFromReadableStream(e){const t=this;return this._reader=e.getReader(),fO((function*(){for(;;){const{done:e,value:n}=yield hO(t._reader.read());if(e)return;if("stopVideo"===n)yield{VideoEvent:{VideoChunk:new Uint8Array([]),TimestampMillis:Date.now()}};else if(void 0!==n.arrayBuffer){const e=yield hO(n.arrayBuffer()),t=new Uint8Array(e);t.length>0&&(yield{VideoEvent:{VideoChunk:t,TimestampMillis:Date.now()}})}else ZW(n)?yield{ClientSessionInformationEvent:{Challenge:n.Challenge}}:eU(n)&&(yield{VideoEvent:{VideoChunk:new Uint8Array([]),TimestampMillis:{closeCode:n.code}}})}}))}async startLivenessVideoConnection(){var e,t;const n=this.getAsyncGeneratorFromReadableStream(this.videoRecorder.videoStream)(),r=this.stream.getTracks()[0].getSettings();return(await this._client.send(new GF({ChallengeVersions:"FaceMovementAndLightChallenge_1.0.0",SessionId:this.sessionId,LivenessRequestStream:n,VideoWidth:(null!==(e=r.width)&&void 0!==e?e:this.videoEl.width).toString(),VideoHeight:(null!==(t=r.height)&&void 0!==t?t:this.videoEl.height).toString()}))).LivenessResponseStream}}var nU;!function(e){e.SCROLLING="SCROLLING",e.FLAT="FLAT"}(nU||(nU={}));class rU{constructor(e,t){this.context=e,this.freshnessColorsSequence=t,this.isFirstTick=!0}async displayColorTick(){return new Promise(((e,t)=>{setTimeout((()=>{this.displayNextColorTick(e,t)}),Math.min(10))}))}init(){this.stageIndex=0,this.currColorIndex=0,this.currColorSequence=this.freshnessColorsSequence[0],this.prevColorSequence=this.freshnessColorsSequence[0],this.stage=nU.FLAT,this.timeLastFlatOrScrollChange=Date.now(),this.timeLastFaceMatchChecked=Date.now()}displayNextColorTick(e,t){const{freshnessColorEl:n}=this.context.freshnessColorAssociatedParams,{ovalDetails:r,scaleFactor:a}=this.context.ovalAssociatedParams,{videoEl:o}=this.context.videoAssociatedParams,s=Date.now();this.isFirstTick&&(this.init(),this.isFirstTick=!1,this.sendColorStartTime({tickStartTime:s,currColor:this.currColorSequence.color,prevColor:this.currColorSequence.color,currColorIndex:this.stageIndex}));let i=s-this.timeLastFlatOrScrollChange;if(n.style.display="block",(this.stage===nU.FLAT&&i>=this.currColorSequence.flatDisplayDuration||this.stage===nU.SCROLLING&&i>=this.currColorSequence.downscrollDuration)&&(this.incrementStageIndex(s),i=0),this.currColorIndex<this.freshnessColorsSequence.length){const t=i/(this.stage===nU.SCROLLING?this.currColorSequence.downscrollDuration:this.currColorSequence.flatDisplayDuration);!function(e){let{overlayCanvas:t,prevColor:n,nextColor:r,videoEl:a,ovalDetails:o,heightFraction:s,scaleFactor:i}=e;const{x:l,y:u}=a.getBoundingClientRect(),{flippedCenterX:c,centerY:d,width:p,height:h}=o,f=c*i+l,m=d*i+u,g=t.width,v=t.height,y=t.getContext("2d");if(!y)throw new Error("Cannot find Overlay Canvas.");y.canvas.width=window.innerWidth,y.canvas.height=window.innerHeight,y.clearRect(0,0,g,v),Io({ctx:y,prevColor:n,nextColor:r,fraction:s}),y.save(),y.beginPath(),y.rect(0,0,g,v),y.clip(),y.clearRect(0,0,g,v),y.globalAlpha=.9,Io({ctx:y,prevColor:n,nextColor:r,fraction:s}),y.beginPath(),y.ellipse(f,m,p*i/2,h*i/2,0,0,2*Math.PI),y.strokeStyle="white",y.lineWidth=8,y.stroke(),y.clip(),y.clearRect(0,0,g,v),y.globalAlpha=.75,Io({ctx:y,prevColor:n,nextColor:r,fraction:s}),y.restore()}({overlayCanvas:n,prevColor:this.prevColorSequence.color,nextColor:this.currColorSequence.color,videoEl:o,ovalDetails:r,heightFraction:t,scaleFactor:a}),e(!1)}else n.style.display="none",e(!0)}incrementStageIndex(e){if(this.stageIndex+=1,this.prevColorSequence=this.freshnessColorsSequence[this.currColorIndex],this.stage===nU.FLAT)this.currColorIndex+=1,this.stage=nU.SCROLLING;else if(this.stage===nU.SCROLLING){this.freshnessColorsSequence[this.currColorIndex].flatDisplayDuration>0?this.stage=nU.FLAT:(this.stage=nU.SCROLLING,this.currColorIndex+=1)}this.currColorSequence=this.freshnessColorsSequence[this.currColorIndex],this.timeLastFlatOrScrollChange=Date.now(),this.currColorSequence&&this.sendColorStartTime({tickStartTime:e,currColor:this.currColorSequence.color,prevColor:this.prevColorSequence.color,currColorIndex:this.stageIndex})}sendColorStartTime(e){let{tickStartTime:t,currColor:n,prevColor:r,currColorIndex:a}=e;const{livenessStreamProvider:o,challengeId:s}=this.context;o.sendClientInfo({Challenge:{FaceMovementAndLightChallenge:{ChallengeId:s,ColorDisplayed:{CurrentColor:{RGB:To(n)},PreviousColor:{RGB:To(r)},SequenceNumber:a,CurrentColorStartTimestamp:t}}}})}}const aU=e=>{const{message:t}=e;return t.includes(jB)},oU=e=>!(null===e||void 0===e||!e.DisconnectionEvent),sU=e=>!(null===e||void 0===e||!e.ValidationException),iU=e=>!(null===e||void 0===e||!e.InternalServerException),lU=e=>!(null===e||void 0===e||!e.ThrottlingException),uU=e=>!(null===e||void 0===e||!e.ServiceQuotaExceededException),cU={width:{min:320,ideal:640},height:{min:240,ideal:480},frameRate:{min:15,ideal:30,max:30},facingMode:"user"},dU="AmplifyLivenessCameraId";let pU;const hU=async e=>{try{const i=await pU;var t,n=!1,r=!1;try{for(var a,o=Ua(i);n=!(a=await o.next()).done;n=!1){const t=a.value;null!==(s=t)&&void 0!==s&&s.ServerSessionInformationEvent?e({type:"SET_SESSION_INFO",data:{sessionInfo:t.ServerSessionInformationEvent.SessionInformation}}):oU(t)?e({type:"DISCONNECT_EVENT"}):sU(t)?e({type:"SERVER_ERROR",data:{error:M({},t.ValidationException)}}):iU(t)?e({type:"SERVER_ERROR",data:{error:M({},t.InternalServerException)}}):lU(t)?e({type:"SERVER_ERROR",data:{error:M({},t.ThrottlingException)}}):uU(t)&&e({type:"SERVER_ERROR",data:{error:M({},t.ServiceQuotaExceededException)}})}}catch(eq){r=!0,t=eq}finally{try{n&&null!=o.return&&await o.return()}finally{if(r)throw t}}}catch(i){(e=>{const{message:t,name:n}=e;return"InvalidSignatureException"===n&&t.includes("valid region")})(i)?e({type:"SERVER_ERROR",data:{error:new Error("Invalid region in FaceLivenessDetector or credentials are scoped to the wrong region.")}}):i instanceof Error&&e({type:aU(i)?"CONNECTION_TIMEOUT":"SERVER_ERROR",data:{error:i}})}var s};function fU(e){localStorage.setItem(dU,e)}const mU=(gU={id:"livenessMachine",initial:"cameraCheck",predictableActionArguments:!0,context:{challengeId:Ha(),maxFailedAttempts:0,failedAttempts:0,componentProps:void 0,serverSessionInformation:void 0,videoAssociatedParams:{videoConstraints:cU,selectableDevices:[]},ovalAssociatedParams:void 0,faceMatchAssociatedParams:{illuminationState:void 0,faceMatchState:void 0,faceMatchPercentage:25,currentDetectedFace:void 0,startFace:void 0,endFace:void 0},freshnessColorAssociatedParams:{freshnessColorEl:void 0,freshnessColors:[],freshnessColorsComplete:!1,freshnessColorDisplay:void 0},errorState:void 0,livenessStreamProvider:void 0,responseStreamActorRef:void 0,shouldDisconnect:!1,faceMatchStateBeforeStart:void 0,isFaceFarEnoughBeforeRecording:void 0,isRecordingStopped:!1},on:{CANCEL:"userCancel",TIMEOUT:{target:"retryableTimeout",actions:"updateErrorStateForTimeout"},SET_SESSION_INFO:{internal:!0,actions:"updateSessionInfo"},DISCONNECT_EVENT:{internal:!0,actions:"updateShouldDisconnect"},SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails"},UPDATE_DEVICE_AND_STREAM:{actions:"updateDeviceAndStream"},SERVER_ERROR:{target:"error",actions:"updateErrorStateForServer"},CONNECTION_TIMEOUT:{target:"error",actions:"updateErrorStateForConnectionTimeout"},RUNTIME_ERROR:{target:"error",actions:"updateErrorStateForRuntime"},MOBILE_LANDSCAPE_WARNING:{target:"mobileLandscapeWarning",actions:"updateErrorStateForServer"}},states:{cameraCheck:{entry:"resetErrorState",invoke:{src:"checkVirtualCameraAndGetStream",onDone:{target:"waitForDOMAndCameraDetails",actions:"updateVideoMediaStream"},onError:{target:"permissionDenied"}}},waitForDOMAndCameraDetails:{after:{0:{target:"start",cond:"hasDOMAndCameraDetails"},10:{target:"waitForDOMAndCameraDetails"}}},start:{entry:["drawStaticOval","initializeFaceDetector"],always:[{target:"detectFaceBeforeStart",cond:"shouldSkipStartScreen"}],on:{BEGIN:"detectFaceBeforeStart"}},detectFaceBeforeStart:{invoke:{src:"detectFace",onDone:{target:"checkFaceDetectedBeforeStart",actions:"updateFaceMatchBeforeStartDetails"}}},checkFaceDetectedBeforeStart:{after:{0:{target:"detectFaceDistanceBeforeRecording",cond:"hasSingleFaceBeforeStart"},100:{target:"detectFaceBeforeStart"}}},detectFaceDistanceBeforeRecording:{invoke:{src:"detectFaceDistance",onDone:{target:"checkFaceDistanceBeforeRecording",actions:"updateFaceDistanceBeforeRecording"}}},checkFaceDistanceBeforeRecording:{after:{0:{target:"initializeLivenessStream",cond:"hasEnoughFaceDistanceBeforeRecording"},100:{target:"detectFaceDistanceBeforeRecording"}}},initializeLivenessStream:{invoke:{src:"openLivenessStreamConnection",onDone:{target:"notRecording",actions:["updateLivenessStreamProvider","spawnResponseStreamActor"]}}},notRecording:{initial:"waitForSessionInfo",states:{waitForSessionInfo:{after:{0:{target:"#livenessMachine.recording",cond:"hasServerSessionInfo"},100:{target:"waitForSessionInfo"}}}}},recording:{entry:["clearErrorState","startRecording","sendTimeoutAfterOvalDrawingDelay"],initial:"ovalDrawing",states:{ovalDrawing:{invoke:{src:"detectInitialFaceAndDrawOval",onDone:{target:"checkFaceDetected",actions:["updateOvalAndFaceDetailsPostDraw","sendTimeoutAfterOvalMatchDelay"]},onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},checkFaceDetected:{after:{0:{target:"cancelOvalDrawingTimeout",cond:"hasSingleFace"},100:{target:"ovalDrawing"}}},cancelOvalDrawingTimeout:{entry:["cancelOvalDrawingTimeout","sendTimeoutAfterRecordingDelay"],after:{0:{target:"checkRecordingStarted"}}},checkRecordingStarted:{after:{0:{target:"ovalMatching",cond:"hasRecordingStarted",actions:"updateRecordingStartTimestampMs"},100:{target:"checkRecordingStarted"}}},ovalMatching:{entry:"cancelRecordingTimeout",invoke:{src:"detectFaceAndMatchOval",onDone:{target:"checkMatch",actions:"updateFaceDetailsPostMatch"}}},checkMatch:{after:{0:{target:"delayBeforeFlash",cond:"hasFaceMatchedInOval",actions:["setFaceMatchTimeAndStartFace","updateEndFaceMatch","setupFlashFreshnessColors","cancelOvalMatchTimeout","cancelOvalDrawingTimeout"]},1:{target:"ovalMatching"}}},delayBeforeFlash:{after:{1e3:"flashFreshnessColors"}},flashFreshnessColors:{invoke:{src:"flashColors",onDone:[{target:"success",cond:"hasFreshnessColorShown"},{target:"flashFreshnessColors",actions:"updateFreshnessDetails"}]}},success:{entry:"stopRecording",type:"final"}},onDone:"uploading"},uploading:{initial:"pending",states:{pending:{entry:["pauseVideoStream"],invoke:{src:"stopVideo",onDone:"waitForDisconnectEvent",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},waitForDisconnectEvent:{after:{0:{target:"getLivenessResult",cond:"getShouldDisconnect"},100:{target:"waitForDisconnectEvent"}}},getLivenessResult:{entry:["freezeStream"],invoke:{src:"getLiveness",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForServer"}}}}},retryableTimeout:{entry:"updateFailedAttempts",always:[{target:"timeout",cond:"shouldTimeoutOnFailedAttempts"},{target:"notRecording"}]},permissionDenied:{entry:"callUserPermissionDeniedCallback",on:{RETRY_CAMERA_CHECK:"cameraCheck"}},mobileLandscapeWarning:{entry:"callMobileLandscapeWarningCallback",always:{target:"error"}},timeout:{entry:["cleanUpResources","callUserTimeoutCallback","freezeStream"]},error:{entry:["cleanUpResources","callErrorCallback","cancelOvalDrawingTimeout","cancelOvalMatchTimeout","cancelRecordingTimeout","freezeStream"]},userCancel:{entry:["cleanUpResources","callUserCancelCallback","resetContext"],always:{target:"cameraCheck"}}}},vU={actions:{spawnResponseStreamActor:Za({responseStreamActorRef:()=>Da(hU)}),updateFailedAttempts:Za({failedAttempts:e=>e.failedAttempts+1}),updateVideoMediaStream:Za({videoAssociatedParams:(e,t)=>{var n,r,a;return M(M({},e.videoAssociatedParams),{},{videoMediaStream:null===(n=t.data)||void 0===n?void 0:n.stream,selectedDeviceId:null===(r=t.data)||void 0===r?void 0:r.selectedDeviceId,selectableDevices:null===(a=t.data)||void 0===a?void 0:a.selectableDevices})}}),initializeFaceDetector:Za({ovalAssociatedParams:e=>{const{componentProps:t}=e,{faceModelUrl:n,binaryPath:r}=t.config,a=new dO(r,n);return a.triggerModelLoading(),M(M({},e.ovalAssociatedParams),{},{faceDetector:a})}}),updateLivenessStreamProvider:Za({livenessStreamProvider:(e,t)=>{var n;return null===(n=t.data)||void 0===n?void 0:n.livenessStreamProvider}}),setDOMAndCameraDetails:Za({videoAssociatedParams:(e,t)=>{var n,r,a;return M(M({},e.videoAssociatedParams),{},{videoEl:null===(n=t.data)||void 0===n?void 0:n.videoEl,canvasEl:null===(r=t.data)||void 0===r?void 0:r.canvasEl,isMobile:null===(a=t.data)||void 0===a?void 0:a.isMobile})},freshnessColorAssociatedParams:(e,t)=>{var n;return M(M({},e.freshnessColorAssociatedParams),{},{freshnessColorEl:null===(n=t.data)||void 0===n?void 0:n.freshnessColorEl})}}),updateDeviceAndStream:Za({videoAssociatedParams:(e,t)=>{var n,r,a;return fU(null===(n=t.data)||void 0===n?void 0:n.newDeviceId),M(M({},e.videoAssociatedParams),{},{selectedDeviceId:null===(r=t.data)||void 0===r?void 0:r.newDeviceId,videoMediaStream:null===(a=t.data)||void 0===a?void 0:a.newStream})}}),drawStaticOval:e=>{const{canvasEl:t,videoEl:n,videoMediaStream:r}=e.videoAssociatedParams;ko(t,n,r)},updateRecordingStartTimestampMs:Za({videoAssociatedParams:e=>{const{challengeId:t,videoAssociatedParams:n,ovalAssociatedParams:r,livenessStreamProvider:a}=e,{recordingStartApiTimestamp:o,recorderStartTimestamp:s}=a.videoRecorder,{videoMediaStream:i}=n,{initialFace:l}=r,u=Math.round(.73*(s-o)+o),{width:c,height:d}=i.getTracks()[0].getSettings(),p=c-l.left-l.width;return e.livenessStreamProvider.sendClientInfo({Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,VideoStartTimestamp:u,InitialFace:{InitialFaceDetectedTimestamp:l.timestampMs,BoundingBox:Co({deviceHeight:d,deviceWidth:c,height:l.height,width:l.width,top:l.top,left:p})}}}}),M(M({},e.videoAssociatedParams),{},{recordingStartTimestampMs:u})}}),startRecording:Za({videoAssociatedParams:e=>{if(!e.serverSessionInformation)throw new Error("Session information was not received from response stream");return e.livenessStreamProvider.videoRecorder&&"recording"!==e.livenessStreamProvider.videoRecorder.getState()&&e.livenessStreamProvider.startRecordingLivenessVideo(),M({},e.videoAssociatedParams)}}),stopRecording:()=>{},updateFaceMatchBeforeStartDetails:Za({faceMatchStateBeforeStart:(e,t)=>t.data.faceMatchState}),updateFaceDistanceBeforeRecording:Za({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording}),updateFaceDistanceWhileLoading:Za({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording,errorState:(e,t)=>{var n;return null===(n=t.data)||void 0===n?void 0:n.error}}),updateOvalAndFaceDetailsPostDraw:Za({ovalAssociatedParams:(e,t)=>M(M({},e.ovalAssociatedParams),{},{initialFace:t.data.initialFace,ovalDetails:t.data.ovalDetails,scaleFactor:t.data.scaleFactor}),faceMatchAssociatedParams:(e,t)=>M(M({},e.faceMatchAssociatedParams),{},{faceMatchState:t.data.faceMatchState,illuminationState:t.data.illuminationState})}),updateFaceDetailsPostMatch:Za({faceMatchAssociatedParams:(e,t)=>M(M({},e.faceMatchAssociatedParams),{},{faceMatchState:t.data.faceMatchState,faceMatchPercentage:t.data.faceMatchPercentage,illuminationState:t.data.illuminationState,currentDetectedFace:t.data.detectedFace})}),updateEndFaceMatch:Za({faceMatchAssociatedParams:e=>M(M({},e.faceMatchAssociatedParams),{},{endFace:e.faceMatchAssociatedParams.currentDetectedFace})}),setFaceMatchTimeAndStartFace:Za({faceMatchAssociatedParams:e=>M(M({},e.faceMatchAssociatedParams),{},{startFace:void 0===e.faceMatchAssociatedParams.startFace?e.faceMatchAssociatedParams.currentDetectedFace:e.faceMatchAssociatedParams.startFace})}),resetErrorState:Za({errorState:e=>{}}),updateErrorStateForConnectionTimeout:Za({errorState:e=>eo}),updateErrorStateForTimeout:Za({errorState:(e,t)=>{var n;return(null===(n=t.data)||void 0===n?void 0:n.errorState)||to},errorMessage:(e,t)=>{var n;return null===(n=t.data)||void 0===n?void 0:n.message}}),updateErrorStateForRuntime:Za({errorState:(e,t)=>{var n;return(null===(n=t.data)||void 0===n?void 0:n.errorState)||no}}),updateErrorStateForServer:Za({errorState:e=>ro}),clearErrorState:Za({errorState:e=>{}}),updateSessionInfo:Za({serverSessionInformation:(e,t)=>t.data.sessionInfo}),updateShouldDisconnect:Za({shouldDisconnect:()=>!0}),updateFreshnessDetails:Za({freshnessColorAssociatedParams:(e,t)=>M(M({},e.freshnessColorAssociatedParams),{},{freshnessColorsComplete:t.data.freshnessColorsComplete})}),setupFlashFreshnessColors:Za({freshnessColorAssociatedParams:e=>{const{serverSessionInformation:t}=e,n=function(e){var t;return(null!==(t=e.Challenge.FaceMovementAndLightChallenge.ColorSequences)&&void 0!==t?t:[]).map((e=>{let{FreshnessColor:t,DownscrollDuration:n,FlatDisplayDuration:r}=e;const a=t.RGB,o="rgb(".concat(a[0],",").concat(a[1],",").concat(a[2],")");return"undefined"!==typeof o&&"undefined"!==typeof n&&"undefined"!==typeof r?{color:o,downscrollDuration:n,flatDisplayDuration:r}:void 0})).filter(Eo)}(t),r=new rU(e,n);return M(M({},e.freshnessColorAssociatedParams),{},{freshnessColorDisplay:r})}}),sendTimeoutAfterOvalDrawingDelay:ia({type:"RUNTIME_ERROR",data:{message:"Client failed to draw oval."}},{delay:5e3,id:"ovalDrawingTimeout"}),cancelOvalDrawingTimeout:la("ovalDrawingTimeout"),sendTimeoutAfterRecordingDelay:ia({type:"RUNTIME_ERROR",data:{message:"Client failed to start recording."}},{delay:5e3,id:"recordingTimeout"}),cancelRecordingTimeout:la("recordingTimeout"),sendTimeoutAfterOvalMatchDelay:ia({type:"TIMEOUT",data:{message:"Client timed out waiting for face to match oval."}},{delay:e=>{var t,n;return null!==(t=null===(n=e.serverSessionInformation)||void 0===n||null===(n=n.Challenge)||void 0===n||null===(n=n.FaceMovementAndLightChallenge)||void 0===n||null===(n=n.ChallengeConfig)||void 0===n?void 0:n.OvalFitTimeout)&&void 0!==t?t:7e3},id:"ovalMatchTimeout"}),cancelOvalMatchTimeout:la("ovalMatchTimeout"),callUserPermissionDeniedCallback:Za({errorState:(e,t)=>{var n,r;let a;a=t.data.message.includes("15 fps")?ao:oo;const o=t.data.message||t.data.Message,s={state:a,error:new Error(o)};return null===(n=(r=e.componentProps).onError)||void 0===n||n.call(r,s),a}}),callMobileLandscapeWarningCallback:Za({errorState:()=>io}),callUserCancelCallback:e=>{var t,n;null===(t=(n=e.componentProps).onUserCancel)||void 0===t||t.call(n)},callUserTimeoutCallback:e=>{var t,n,r;const a=new Error(null!==(t=e.errorMessage)&&void 0!==t?t:"Client Timeout");a.name=e.errorState;const o={state:e.errorState,error:a};null===(n=(r=e.componentProps).onError)||void 0===n||n.call(r,o)},callErrorCallback:(e,t)=>{var n,r,a;const o={state:e.errorState,error:(null===(n=t.data)||void 0===n?void 0:n.error)||t.data};null===(r=(a=e.componentProps).onError)||void 0===r||r.call(a,o)},cleanUpResources:e=>{var t;const{freshnessColorEl:n}=e.freshnessColorAssociatedParams;n&&(n.style.display="none");let r=co;e.errorState===to?r=po:e.errorState===no?r=fo:e.errorState===so||e.errorState===lo?r=mo:void 0===e.errorState&&(r=ho),null===(t=e.livenessStreamProvider)||void 0===t||t.endStreamWithCode(r)},freezeStream:e=>{const{videoMediaStream:t,videoEl:n}=e.videoAssociatedParams;e.isRecordingStopped=!0,null===n||void 0===n||n.pause(),null===t||void 0===t||t.getTracks().forEach((function(e){e.stop()}))},pauseVideoStream:e=>{const{videoEl:t}=e.videoAssociatedParams;e.isRecordingStopped=!0,t.pause()},resetContext:Za({challengeId:Ha(),maxFailedAttempts:0,failedAttempts:0,componentProps:e=>e.componentProps,serverSessionInformation:e=>{},videoAssociatedParams:e=>({videoConstraints:cU}),ovalAssociatedParams:e=>{},errorState:e=>{},livenessStreamProvider:e=>{},responseStreamActorRef:e=>{},shouldDisconnect:!1,faceMatchStateBeforeStart:e=>{},isFaceFarEnoughBeforeRecording:e=>{},isRecordingStopped:!1})},guards:{shouldTimeoutOnFailedAttempts:e=>e.failedAttempts>=e.maxFailedAttempts,hasFaceMatchedInOval:e=>e.faceMatchAssociatedParams.faceMatchState===Ja.MATCHED,hasSingleFace:e=>e.faceMatchAssociatedParams.faceMatchState===Ja.FACE_IDENTIFIED,hasSingleFaceBeforeStart:e=>e.faceMatchStateBeforeStart===Ja.FACE_IDENTIFIED,hasEnoughFaceDistanceBeforeRecording:e=>e.isFaceFarEnoughBeforeRecording,hasNotEnoughFaceDistanceBeforeRecording:e=>!e.isFaceFarEnoughBeforeRecording,hasFreshnessColorShown:e=>e.freshnessColorAssociatedParams.freshnessColorsComplete,hasServerSessionInfo:e=>void 0!==e.serverSessionInformation,hasDOMAndCameraDetails:e=>void 0!==e.videoAssociatedParams.videoEl&&void 0!==e.videoAssociatedParams.canvasEl&&void 0!==e.freshnessColorAssociatedParams.freshnessColorEl,getShouldDisconnect:e=>!!e.shouldDisconnect,hasRecordingStarted:e=>void 0!==e.livenessStreamProvider.videoRecorder.firstChunkTimestamp,shouldSkipStartScreen:e=>{var t;return!(null===(t=e.componentProps)||void 0===t||!t.disableStartScreen)}},services:{async checkVirtualCameraAndGetStream(e){const{videoConstraints:t}=e.videoAssociatedParams,n=localStorage.getItem(dU),r=await navigator.mediaDevices.getUserMedia({video:M(M({},t),n?{deviceId:n}:{}),audio:!1}),a=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)).filter((e=>!function(e){return e.label.toLowerCase().includes("virtual")}(e)));if(!a.length)throw new Error("No real video devices found");const o=r.getTracks().filter((e=>e.getSettings().frameRate>=15));if(o.length<1)throw new Error("No camera found with more than 15 fps");const s=o[0].getSettings().deviceId,i=a.some((e=>e.deviceId===s)),l=i?s:a[0].deviceId;let u=r;return i||(u=await navigator.mediaDevices.getUserMedia({video:M(M({},t),{},{deviceId:{exact:l}}),audio:!1})),fU(l),{stream:u,selectedDeviceId:s,selectableDevices:a}},async openLivenessStreamConnection(e){const{config:t}=e.componentProps,{credentialProvider:n,endpointOverride:r,systemClockOffset:a}=t,o=new tU({sessionId:e.componentProps.sessionId,region:e.componentProps.region,systemClockOffset:a,stream:e.videoAssociatedParams.videoMediaStream,videoEl:e.videoAssociatedParams.videoEl,credentialProvider:n,endpointOverride:r});return pU=o.getResponseStream(),{livenessStreamProvider:o}},async detectFace(e){const{videoEl:t}=e.videoAssociatedParams,{faceDetector:n}=e.ovalAssociatedParams;try{await n.modelLoadingPromise}catch(eq){console.log({err:eq})}const r=await async function(e,t){let n;switch((await e.detectFaces(t)).length){case 0:n=Ja.CANT_IDENTIFY;break;case 1:n=Ja.FACE_IDENTIFIED;break;default:n=Ja.TOO_MANY}return n}(n,t);return{faceMatchState:r}},async detectFaceDistance(e){const{isFaceFarEnoughBeforeRecording:t}=e,{videoEl:n,videoMediaStream:r,isMobile:a}=e.videoAssociatedParams,{faceDetector:o}=e.ovalAssociatedParams,{width:s,height:i}=r.getTracks()[0].getSettings(),l=bo({width:s,height:i}),{isDistanceBelowThreshold:u}=await No({faceDetector:o,videoEl:n,ovalDetails:l,reduceThreshold:t,isMobile:a});return{isFaceFarEnoughBeforeRecording:u}},async detectFaceDistanceWhileLoading(e){const{isFaceFarEnoughBeforeRecording:t}=e,{videoEl:n,videoMediaStream:r,isMobile:a}=e.videoAssociatedParams,{faceDetector:o}=e.ovalAssociatedParams,{width:s,height:i}=r.getTracks()[0].getSettings(),l=bo({width:s,height:i}),{isDistanceBelowThreshold:u,error:c}=await No({faceDetector:o,isMobile:a,ovalDetails:l,videoEl:n,reduceThreshold:t});return{isFaceFarEnoughBeforeRecording:u,error:c}},async detectInitialFaceAndDrawOval(e){const{serverSessionInformation:t,livenessStreamProvider:n}=e,{videoEl:r,canvasEl:a,isMobile:o}=e.videoAssociatedParams,{faceDetector:s}=e.ovalAssociatedParams;try{await s.modelLoadingPromise,await n.videoRecorder.recorderStarted}catch(eq){console.log({err:eq})}const i=await s.detectFaces(r);let l,u,c;switch(i.length){case 0:u=Ja.CANT_IDENTIFY,c=_o(r);break;case 1:u=Ja.FACE_IDENTIFIED,l=i[0];break;default:u=Ja.TOO_MANY}if(!l)return{faceMatchState:u,illuminationState:c};const{width:d,height:p}=r.getBoundingClientRect();o?(a.width=window.innerWidth,a.height=window.innerHeight):(a.width=d,a.height=p);const h=d/r.videoWidth,f=function(e){var t;let{sessionInformation:n,videoWidth:r}=e;const a=null===n||void 0===n||null===(t=n.Challenge)||void 0===t||null===(t=t.FaceMovementAndLightChallenge)||void 0===t?void 0:t.OvalParameters;if(!a||!a.CenterX||!a.CenterY||!a.Width||!a.Height)throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:r-a.CenterX,centerX:a.CenterX,centerY:a.CenterY,width:a.Width,height:a.Height}}({sessionInformation:t,videoWidth:r.width}),m=xo(l,f,r.videoHeight);return l.top=m.top,l.left=m.left,l.height=m.bottom-m.top,l.width=m.right-m.left,wo({canvas:a,oval:f,scaleFactor:h,videoEl:r}),{faceMatchState:u,ovalDetails:f,scaleFactor:h,initialFace:l}},async detectFaceAndMatchOval(e){const{serverSessionInformation:t}=e,{videoEl:n}=e.videoAssociatedParams,{faceDetector:r,ovalDetails:a,initialFace:o}=e.ovalAssociatedParams,s=await r.detectFaces(n);let i,l,u,c=0;const d=xo(o,a,n.videoHeight),{ovalBoundingBox:p}=vo(a),h=yo(d,p);switch(s.length){case 0:i=Ja.CANT_IDENTIFY,u=_o(n);break;case 1:{l=s[0];const{faceMatchState:e,faceMatchPercentage:r}=function(e){var t;let n,{face:r,ovalDetails:a,initialFaceIntersection:o,sessionInformation:s,frameHeight:i}=e;const l=null===s||void 0===s||null===(t=s.Challenge)||void 0===t||null===(t=t.FaceMovementAndLightChallenge)||void 0===t?void 0:t.ChallengeConfig;if(!l||!l.OvalIouThreshold||!l.OvalIouHeightThreshold||!l.OvalIouWidthThreshold||!l.FaceIouHeightThreshold||!l.FaceIouWidthThreshold)throw new Error("Challenge information not returned from session information.");const{OvalIouThreshold:u,FaceIouHeightThreshold:c,FaceIouWidthThreshold:d}=l,p=xo(r,a,i),h=p.left,f=p.right,m=p.top,g=p.bottom,{ovalBoundingBox:v,minOvalX:y,minOvalY:b,maxOvalX:w,maxOvalY:k}=vo(a),S=yo(p,v),x=u,_=a.width*d,I=a.height*c,E=100*Math.max(Math.min(1,.75*(S-o)/(x-o)+.25),0),T=y>h&&w>f,N=h>y&&f>w,C=b-m>I||g-k>I||y-h>_&&f-w>_;return n=S>x?Ja.MATCHED:T||N?Ja.OFF_CENTER:C?Ja.MATCHED:Ja.TOO_FAR,{faceMatchState:n,faceMatchPercentage:E}}({face:l,ovalDetails:a,initialFaceIntersection:h,sessionInformation:t,frameHeight:n.videoHeight});i=e,c=r;break}default:i=Ja.TOO_MANY}return{faceMatchState:i,faceMatchPercentage:c,illuminationState:u,detectedFace:l}},async flashColors(e){const{freshnessColorsComplete:t,freshnessColorDisplay:n}=e.freshnessColorAssociatedParams;if(!t)return{freshnessColorsComplete:await n.displayColorTick()}},async stopVideo(e){const{challengeId:t,livenessStreamProvider:n}=e,{videoMediaStream:r}=e.videoAssociatedParams,{initialFace:a,ovalDetails:o}=e.ovalAssociatedParams,{startFace:s,endFace:i}=e.faceMatchAssociatedParams,{width:l,height:u}=r.getTracks()[0].getSettings(),c=l-a.left-a.width;await n.stopVideo();const d={Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,InitialFace:{InitialFaceDetectedTimestamp:a.timestampMs,BoundingBox:Co({deviceHeight:u,deviceWidth:l,height:a.height,width:a.width,top:a.top,left:c})},TargetFace:{FaceDetectedInTargetPositionStartTimestamp:s.timestampMs,FaceDetectedInTargetPositionEndTimestamp:i.timestampMs,BoundingBox:Co({deviceHeight:u,deviceWidth:l,height:o.height,width:o.width,top:o.centerY-o.height/2,left:o.centerX-o.width/2})},VideoEndTimestamp:n.videoRecorder.recorderEndTimestamp}}};if(0===n.videoRecorder.getVideoChunkSize())throw new Error("Video chunks not recorded successfully.");n.sendClientInfo(d),n.dispatchStopVideoEvent()},async getLiveness(e){const{onAnalysisComplete:t}=e.componentProps;await t()}}},new Qa(gU,vU));var gU,vU,yU=n(940);function bU(e){return null!=e&&!Array.isArray(e)&&"object"===typeof e}function wU(e){return"string"===typeof e||"object"===typeof e&&"[object String]"===Object.prototype.toString.call(e)}function kU(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function SU(e){return"function"===typeof e}const xU=(e,t)=>t?"".concat(e,"--").concat(t):"",_U=(e,t,n)=>n?"".concat(e,"--").concat(t):"";const IU=/\{([^}]+)\}/g;function EU(e){const t=new RegExp(IU);if("string"===typeof e)return t.test(e);if("object"===typeof e){let t=!1;for(const n in e)if(kU(e,n)){if(EU(e[n])){t=!0;break}}return t}return!1}const TU="amplify";function NU(e){return Object.entries(e).map((e=>{let[t,n]=e;const r=OU(n)?n.toString():MU({value:n});return"".concat(yU(t),":").concat(r,"; ")})).join(" ")}function CU(e){let{path:t=[]}=e;return"".concat(yU([TU,...t].join(" ")))}const AU=["offsetX","offsetY","blurRadius","spreadRadius","color"];function MU(e){const{value:t}=e;return wU(t)?DU(t):RU(t)?AU.map((n=>DU(RU(e)?e[n]:t[n]))).join(" "):t}function OU(e){return bU(e)&&kU(e,"value")}function RU(e){return bU(e)&&kU(e,"offsetX")}function DU(e){if(!e)return"";if(EU(e)){const t=e.replace(/\{|\}/g,"").replace(".value","").split(".");return"var(--".concat(CU({path:t}),")")}return e}const FU=e=>{let{token:t,path:n}=e;const r="--".concat(CU({path:n})),{value:a}=t,o=MU(t);return{name:r,original:a,path:n,value:o,toString:()=>"var(".concat(r,")")}};function PU(e){let{tokens:t,path:n=[],setupToken:r}=e;if(kU(t,"value"))return r({token:t,path:n});const a={};for(const o in t)if(kU(t,o)){const e=t[o],s=bU(e)?e:{value:e};a[o]=PU({tokens:s,path:n.concat(o),setupToken:r})}return a}function LU(e,t){for(var n in t=t||[],e)kU(e,n)&&(bU(e[n])&&"value"in e[n]?t.push(e[n]):bU(e[n])&&LU(e[n],t));return t}function zU(e,t,n){if(null==e)return{};var r,a,o,s,i,l,u=e[0]||{},c=1,d=e.length;for(n=n||[],"object"!==typeof u&&(u={});c<d;c++)if(null!=(i=e[c]))for(s in i)if(kU(i,s)&&"__proto__"!==s&&(r=u[s],u!==(o=i[s])))if(o&&(bU(o)||(a=Array.isArray(o)))){a?(a=!1,l=r&&Array.isArray(r)?r:[]):l=r&&bU(r)?r:{};var p=n.slice(0);p.push(s),u[s]=zU([l,o],t,p)}else void 0!==o&&(null!=r&&"function"==typeof t&&t({target:u,copy:i,path:n,key:s}),u[s]=o);return u}const BU={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},WU=(Object.keys(BU),{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}}),UU={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.primary.80.value}"},hover:{value:"{colors.primary.90.value}"},focus:{value:"{colors.primary.100.value}"},active:{value:"{colors.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.10.value}"},warning:{value:"{colors.orange.10.value}"},error:{value:"{colors.red.10.value}"},success:{value:"{colors.green.10.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.primary.100.value}"},focus:{value:"{colors.primary.100.value}"},error:{value:"{colors.red.80.value}"},info:{value:"{colors.blue.80.value}"},success:{value:"{colors.green.80.value}"},warning:{value:"{colors.orange.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{5:{value:"hsla(0, 0%, 0%, 0.05)"},10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},jU={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},HU={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},VU={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},qU={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},GU={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},KU={short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},$U={tokens:{components:{accordion:{backgroundColor:{value:"{colors.background.primary.value}"},item:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small.value}"},trigger:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"inherit"},gap:{value:"{space.small.value}"},justifyContent:{value:"space-between"},paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},_hover:{color:{value:"inherit"},backgroundColor:{value:"{colors.overlay.5.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},content:{color:{value:"inherit"},paddingInline:{value:"{space.small.value}"},paddingBlockEnd:{value:"{space.small.value}"},paddingBlockStart:{value:"{space.xxxs.value}"}},icon:{color:{value:"{colors.font.tertiary.value}"},transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}}},aiConversation:{message:{backgroundColor:{value:"{colors.background.secondary.value}"},borderRadius:{value:"{radii.large.value}"},gap:{value:"{space.small.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.small.value}"},user:{backgroundColor:{value:"{colors.background.secondary.value}"}},assistant:{backgroundColor:{value:"{colors.primary.10.value}"}},sender:{gap:{value:"{space.small.value}"},username:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"{fontWeights.bold.value}"}},timestamp:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"inherit"}}},body:{gap:{value:"{space.xs.value}"}},actions:{gap:{value:"{space.xs.value}"}}},form:{gap:{value:"{space.small.value}"},padding:{value:"{space.small.value}"}},attachment:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},fontSize:{value:"{fontSizes.small.value}"},paddingBlock:{value:"{space.xxxs.value}"},paddingInline:{value:"{space.xs.value}"},gap:{value:"{space.xs.value}"},list:{paddingBlockStart:{value:"{space.xs.value}"},gap:{value:"{space.xxs.value}"}},name:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},size:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},remove:{padding:{value:"{space.xxs.value}"}},image:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}}}},alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},avatar:{color:{value:"{colors.font.tertiary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},width:{value:"{fontSizes.xxl.value}"},height:{value:"{fontSizes.xxl.value}"},backgroundColor:{value:"{colors.background.tertiary}"},borderRadius:{value:"100%"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"{colors.border.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"{colors.border.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"{colors.border.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"{colors.border.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},width:{value:"{fontSizes.xl.value}"},height:{value:"{fontSizes.xl.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},breadcrumbs:{flexDirection:{value:"row"},flexWrap:{value:"wrap"},gap:{value:"0"},color:{value:"{colors.font.tertiary}"},item:{flexDirection:{value:"row"},color:{value:"inherit"},fontSize:{value:"inherit"},alignItems:{value:"center"},lineHeight:{value:"1"}},separator:{color:{value:"inherit"},fontSize:{value:"inherit"},paddingInline:{value:"{space.xxs}"}},link:{color:{value:"{components.link.color}"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"},paddingInline:{value:"{space.xs}"},paddingBlock:{value:"{space.xxs}"},current:{color:{value:"inherit"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"}}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.primary.20.value}"},borderColor:{value:"{colors.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},outlined:{info:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"}},_focus:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"}},_focus:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"}},_focus:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"}},_focus:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_hover:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"}},_focus:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.neutral.100.value}"}}}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.100.value}"},color:{value:"{colors.font.inverse.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.100.value}"},color:{value:"{colors.font.inverse.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100.value}"},color:{value:"{colors.font.inverse.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.100.value}"},color:{value:"{colors.font.inverse.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.70}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.neutral.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.80.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.90.value}"}}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.border.error.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},icon:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.font.primary}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.primary}"}},_disabled:{backgroundColor:{value:"{colors.background.disabled}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.disabled}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.disabled}"}},accepted:{backgroundColor:{value:"{colors.background.success}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.success}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.success}"}},rejected:{backgroundColor:{value:"{colors.background.error}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.error}"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},flexDirection:{value:"column"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},color:{value:"{colors.font.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}},info:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.blue.100.value}"}}}},warning:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.orange.100.value}"}}}},success:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.green.100.value}"}}}},overlay:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.overlay.90.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fieldset:{backgroundColor:{value:"transparent"},borderRadius:{value:"{radii.xs.value}"},flexDirection:{value:"column"},gap:{value:"{components.field.gap.value}"},legend:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{components.field.fontSize.value}"},fontWeight:{value:"{fontWeights.bold.value}"},lineHeight:{value:"{lineHeights.medium.value}"},small:{fontSize:"{components.field.small.fontSize.value}"},large:{fontSize:"{components.field.large.fontSize.value}"}},outlined:{padding:"{space.medium.value}",borderColor:"{colors.neutral.40.value}",borderWidth:"{borderWidths.small.value}",borderStyle:"solid",small:{padding:"{space.small.value}"},large:{padding:"{space.large.value}"}},small:{gap:"{components.field.small.gap.value}"},large:{gap:"{components.field.large.gap.value}"}},fileuploader:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.fileuploader.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.fileuploader.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},input:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},liveness:{cameraModule:{backgroundColor:{value:"{colors.background.primary.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.xxs.value}"},strokeWidth:{value:"{fontSizes.xxs.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.xxxs.value}"},fontSize:{value:"{fontSizes.xxxs.value}"}},large:{strokeWidth:{value:"{fontSizes.xs.value}"},fontSize:{value:"{fontSizes.xs.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},message:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderColor:{value:"transparent"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.xs.value}"},color:{value:"{colors.font.primary.value}"},justifyContent:{value:"flex-start"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},lineHeight:{value:"{lineHeights.small.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},dismiss:{gap:{value:"{space.xxs.value}"}},plain:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}}},outlined:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.primary.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.error.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.success.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.warning.value}"}}},filled:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.secondary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"transparent"}}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_error:{color:{value:"{components.button.outlined.error.color.value}"},backgroundColor:{value:"{components.button.outlined.error.backgroundColor.value}"},borderColor:{value:"{components.button.outlined.error.borderColor.value}"},_active:{borderColor:{value:"{components.button.outlined.error._active.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._active.backgroundColor.value}"},color:{value:"{components.button.outlined.error._active.color.value}"}},_focus:{borderColor:{value:"{components.button.outlined.error._focus.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._focus.backgroundColor.value}"},color:{value:"{components.button.outlined.error._focus.color.value}"},boxShadow:{value:"{components.button.outlined.error._focus.boxShadow.value}"}},_hover:{borderColor:{value:"{components.button.outlined.error._hover.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._hover.backgroundColor.value}"},color:{value:"{components.button.outlined.error._hover.color.value}"}}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},legend:{color:{value:"{components.fieldset.legend.color}"},fontWeight:{value:"{fontWeights.normal}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{color:{value:"{components.fieldcontrol.color}"},backgroundColor:{value:"{colors.background.primary.value}"},paddingInlineEnd:{value:"{space.xxl.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"},small:{right:{value:"{space.xs.value}"}},large:{right:{value:"{space.medium.value}"}}},option:{backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"},paddingInlineEnd:{value:"{space.xl.value}"}},large:{minWidth:{value:"7.5rem"},paddingInlineEnd:{value:"{space.xxl.value}"}},expanded:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},option:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"}}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},storagemanager:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.storagemanager.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.storagemanager.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.hover.value}"}},_focus:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"{borderWidths.medium}",color:"{colors.border.focus.value}"}},color:{value:"{colors.font.focus.value}"}},_active:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.font.interactive.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.interactive.value}"}},_disabled:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.disabled.value}"}}},panel:{backgroundColor:{value:"transparent"},paddingInline:{value:"0"},paddingBlock:{value:"{space.small.value}"}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.primary.80.value}"},borderColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.primary.60.value}"},backgroundColor:{value:"{colors.primary.60.value}"},boxShadow:{value:"{colors.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},borderWidths:WU,colors:UU,fonts:{default:{variable:{value:"'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif"},static:{value:"'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif"}}},fontSizes:jU,fontWeights:HU,lineHeights:{small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},opacities:VU,outlineOffsets:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},outlineWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},radii:qU,shadows:{small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},space:GU,time:KU,transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}},breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"},YU={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},QU=e=>"string"===typeof e&&0===e.length,XU=e=>null==e||QU(e),JU=e=>Object.keys(e),ZU=(e,t,n)=>{if("string"!==typeof t)return t;if(t.includes(" "))return t.split(" ").map((t=>ZU(e,t,n))).join(" ");if(e in YU){const r=t.split(".");let a=n[YU[e]];for(let e=0;e<r.length&&a;e++)a=a[r[e]];return OU(a)?"var(--".concat(CU({path:[YU[e],...r]}),")"):t}return t},ej=e=>{let{breakpoint:t,breakpoints:n,values:r}=e,a={};const o=JU(n).sort(((e,t)=>n[e]-n[t]));var s;return Array.isArray(r)?r.forEach(((e,t)=>{a[o[t]]=e})):"object"===typeof r&&(a=JU(s=r).reduce(((e,t)=>t in $U.breakpoints.values?M(M({},e),{},{[t]:s[t]}):e),{})),(e=>{let{breakpoint:t,breakpoints:n,values:r}=e;const a=r[t];if(void 0!==a)return a;const o=JU(n).sort(((e,t)=>n[t]-n[e])),s=o.slice(o.indexOf(t));for(const i of s){const e=r[i];if(void 0!==e)return e}return null})({breakpoint:t,breakpoints:n,values:a})},tj="undefined"===typeof window?_.useEffect:_.useLayoutEffect,nj=e=>{let{breakpoints:t,defaultBreakpoint:n}=e;const r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia?window.matchMedia:null,a=_.useMemo((()=>(e=>{let{breakpoints:t}=e;const n=JU(t).sort(((e,n)=>t[n]-t[e]));return n.map(((e,r)=>{let a="";const o=t[e],s=n[r-1],i=s?t[s]-1:null;return o>=0&&(a="(min-width: ".concat(o,"px)")),null!==i&&(a&&(a+=" and "),a+="(max-width: ".concat(i,"px)")),{breakpoint:e,query:a,maxWidth:i,minWidth:o}}))})({breakpoints:t})),[t]),[o,s]=_.useState(n),i=_.useCallback(((e,t)=>{e&&s(t)}),[s]);return tj((()=>{if(!r)return;const e=a.map((e=>{let{query:t,breakpoint:n}=e;const a=r(t);i(a.matches,n);const o=e=>{e.matches&&s(n)};return a.addEventListener("change",o),()=>a.removeEventListener("change",o)}));return()=>{e.forEach((e=>e()))}}),[t,s,r,a]),_.useDebugValue(o,(e=>e)),o},rj=["_modifiers","_element","_vars"],aj=["_modifiers","_element","_vars"];function oj(e,t){return t?"".concat(e," { ").concat(Object.entries(t).map((e=>{let[t,n]=e;return"--".concat(t,":").concat(n,"; ")})).join(" "),"}\n"):""}function sj(e,t){let n="";const{_modifiers:r={},_element:a={},_vars:o}=t,s=Bn(t,rj);if(Object.keys(s).length){const[t,r]=function(e,t){const n={},r={};return Object.entries(e).forEach((e=>{let[a,o]=e;t(a)?n[a]=o:r[a]=o})),[n,r]}(s,(e=>e.startsWith(":")||e.startsWith("[")));Object.entries(t).forEach((t=>{let[r,a]=t;const{_modifiers:o={},_element:s={},_vars:i}=a,l=Bn(a,aj);n+="".concat(e).concat(r," { ").concat(NU(l)," }\n"),n+=oj("".concat(e).concat(r),i)})),n+="".concat(e," { ").concat(NU(r)," }\n")}return n+=oj(e,o),Object.entries(r).forEach((t=>{let[r,a]=t;a&&Object.keys(a).length&&(n+=sj("".concat(e,"--").concat(r),a))})),Object.entries(a).forEach((t=>{let[r,a]=t;a&&Object.keys(a).length&&(n+=sj("".concat(e,"__").concat(r),a))})),n}function ij(e){let{keys:t,value:n}=e;return t.reduce(((e,t)=>M(M({},e),{},{[t]:{value:"{colors.".concat(n,".").concat(t,".value}")}})),{})}function lj(e){const t=zU([{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:$U,M(M({},e),{},{components:{}})]),{primaryColor:n,secondaryColor:r}=t;wU(n)&&(t.tokens.colors.primary=ij({keys:Object.keys(t.tokens.colors[n]),value:n})),wU(r)&&(t.tokens.colors.secondary=ij({keys:Object.keys(t.tokens.colors[r]),value:r}));const a=PU({tokens:t.tokens,setupToken:FU}),{breakpoints:o,name:s}=t;let i='[data-amplify-theme="'.concat(s,'"] {\n')+LU(a).map((e=>"".concat(e.name,": ").concat(e.value,";"))).join("\n")+"\n}\n";null!==e&&void 0!==e&&e.components&&(i+=function(e){let{theme:t,components:n}=e,r="";const{tokens:a,name:o,breakpoints:s}=t;return n.forEach((e=>{let{name:t,theme:n,overrides:i}=e;const l="amplify-".concat(t),u='[data-amplify-theme="'.concat(o,'"] .').concat(l),c=SU(n)?n(a):n;r+=sj(u,c),i&&i.forEach((e=>{const t=SU(e.theme)?e.theme(a):e.theme;if("mediaQuery"in e&&(r+="@media (".concat(e.mediaQuery,") {\n ").concat(sj(u,t)," \n}")),"breakpoint"in e){const n=s.values[e.breakpoint];r+="\n@media (min-width: ".concat(n,"px) {\n ").concat(sj(u,t)," \n}")}"selector"in e&&(r+=sj("".concat(e.selector," .").concat(l),t)),"colorMode"in e&&(r+="\n@media (prefers-color-scheme: ".concat(e.colorMode,") {\n").concat(sj('[data-amplify-theme="'.concat(o,'"][data-amplify-color-mode="system"] .').concat(l),t),"\n}\n"),r+=sj('[data-amplify-theme="'.concat(o,'"][data-amplify-color-mode="').concat(e.colorMode,'"] .').concat(l),t))}))})),r}({theme:M(M({},t),{},{tokens:a}),components:e.components}));let l=[];return t.animations&&(i+=function(e){let{animations:t,tokens:n}=e,r="";return Object.entries(t).forEach((e=>{let[t,a]=e;r+="\n  @keyframes ".concat(t," {"),Object.entries(a).forEach((e=>{let[t,a]=e;r+="\n    ".concat(t," {\n");const o=SU(a)?a(n):a;r+=NU(o),r+="\n    }"})),r+="\n  }"})),r}({animations:t.animations,tokens:a})),t.overrides&&(l=t.overrides.map((e=>{const n=PU({tokens:e.tokens,setupToken:FU}),r=LU(n).map((e=>"".concat(e.name,": ").concat(e.value,";"))).join("\n");if("selector"in e&&(i+="\n".concat(e.selector," {\n").concat(r,"\n}\n")),"mediaQuery"in e&&(i+="\n@media (".concat(e.mediaQuery,') {\n  [data-amplify-theme="').concat(s,'"] {\n    ').concat(r,"\n  }\n}\n")),"breakpoint"in e){const n=t.breakpoints.values[e.breakpoint];i+="\n@media (min-width: ".concat(n,'px) {\n  [data-amplify-theme="').concat(s,'"] {\n    ').concat(r,"\n  }\n}\n")}return"colorMode"in e&&(i+="\n@media (prefers-color-scheme: ".concat(e.colorMode,') {\n          [data-amplify-theme="').concat(s,'"][data-amplify-color-mode="system"] {\n            ').concat(r,"\n            color-scheme: ").concat(e.colorMode,";\n          }\n        }\n"),i+='\n[data-amplify-theme="'.concat(s,'"][data-amplify-color-mode="').concat(e.colorMode,'"] {\n          ').concat(r,"\n          color-scheme: ").concat(e.colorMode,";\n        }\n")),M(M({},e),{},{tokens:n})}))),{tokens:a,breakpoints:o,name:s,cssText:i,containerProps:function(){let{colorMode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-amplify-theme":s,"data-amplify-color-mode":e}},overrides:l}}const uj=_.createContext({theme:lj(),colorMode:void 0}),cj=()=>(e=>"undefined"===typeof e||"undefined"===typeof e.theme?lj():e.theme)(_.useContext(uj)),dj=["rowSpan","columnSpan","row","column"],pj=e=>"auto"===e?"auto":"span ".concat(e),hj=e=>(e=>"auto"===e||"number"===typeof e&&!isNaN(e)||"string"===typeof e&&!isNaN(parseFloat(e)))(e)?pj(e):Array.isArray(e)?e.map((e=>pj(e))):"object"===typeof e&&null!=e?Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return M(M({},e),{},{[n]:pj(r)})}),{}):null,fj=e=>{let{props:t={},style:n={},breakpoint:r,breakpoints:a,tokens:o}=e;const s={};return Object.keys(t).filter((e=>null!==t[e])).forEach((e=>{if(e in BU){const s=t[e];if(!s||QU(s))return;const i=BU[e];let l="";OU(s)?l=s.toString():"string"===typeof s?l=ZU(e,s,o):"number"===typeof s?l=s:"object"===typeof s&&(l=(e=>{let{value:t,propKey:n,tokens:r}=e;return OU(t)?t.toString():wU(t)?wU(n)?ZU(n,t,r):t:null})({propKey:e,tokens:o,value:ej({values:s,breakpoint:r,breakpoints:a})})),n=M(M({},n),{},{[i]:l})}else"undefined"!==typeof t[e]&&(s[e]=t[e])})),{propStyles:n,nonStyleProps:s}},mj=(e,t)=>{const{breakpoints:{values:n,defaultBreakpoint:r},tokens:a}=cj(),o=nj({breakpoints:n,defaultBreakpoint:r}),s=(e=>{const{rowSpan:t,columnSpan:n,row:r,column:a}=e,o=Bn(e,dj),{rowFromSpanValue:s,columnFromSpanValue:i}=_.useMemo((()=>({rowFromSpanValue:hj(t),columnFromSpanValue:hj(n)})),[t,n]);return M({row:XU(r)?s:r,column:XU(a)?i:a},o)})(e);return _.useMemo((()=>fj({props:s,style:t,breakpoint:o,breakpoints:n,tokens:a})),[s,t,n,o,a])},gj=e=>_.forwardRef(e),vj=["as","children","testId","ariaLabel","isDisabled","style","inert"],yj=gj(((e,t)=>{let{as:n="div",children:r,testId:a,ariaLabel:o,isDisabled:s,style:i,inert:l}=e,u=Bn(e,vj);const{propStyles:c,nonStyleProps:d}=mj(u,i);return _.createElement(n,M({"aria-label":o,"data-testid":a,disabled:s,ref:t,inert:l?"":null,style:c},d),r)}));yj.displayName="View";const bj=function(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)if(a)if(wU(a))e.push(a);else if("number"!==typeof a){if(Array.isArray(a))e.push(bj(...a));else if(bU(a)){if(a.toString!==Object.prototype.toString&&"[object Object]"!==a.toString()){e.push(a.toString());continue}for(const t in a)kU(a,t)&&a[t]&&e.push(t)}}else e.push(a.toString());return e.join(" ")},wj="amplify-alert",kj="amplify-alert__icon",Sj="amplify-alert__heading",xj="amplify-alert__body",_j="amplify-button",Ij="amplify-button__loader-wrapper",Ej="amplify-field",Tj="amplify-field__description",Nj="amplify-field__error-message",Cj="amplify-field-group__control",Aj="amplify-flex",Mj="amplify-icon",Oj="amplify-label",Rj="amplify-loader",Dj="amplify-loader__label",Fj="amplify-select",Pj="amplify-selectfield",Lj="amplify-select__wrapper",zj="amplify-select__icon",Bj="amplify-text",Wj="amplify-visually-hidden",Uj=["className","children"],jj=gj(((e,t)=>{let{className:n,children:r}=e,a=Bn(e,Uj);return _.createElement(yj,M({className:bj(Aj,n),ref:t},a),r)}));jj.displayName="Flex";const Hj=["children"],Vj=_.createContext(null);function qj(e){let{children:t}=e,n=Bn(e,Hj);return _.createElement(Vj.Provider,{value:n},t)}function Gj(){const e=_.useContext(Vj);if(null===e)throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");return e}const Kj=["as","className","children","isTruncated","variation"],$j=gj(((e,t)=>{let{as:n="p",className:r,children:a,isTruncated:o,variation:s}=e,i=Bn(e,Kj);const l=bj(Bj,xU(Bj,s),_U(Bj,"truncated",o),r);return _.createElement(yj,M({as:n,className:l,ref:t},i),a)}));$j.displayName="Text";const Yj=_.createContext({isFieldsetDisabled:!1}),Qj=()=>_.useContext(Yj),Xj=["className","filledColor","emptyColor","size","variation","isDeterminate","isPercentageTextHidden","percentage"],Jj=84*Math.PI,Zj=gj(((e,t)=>{let{className:n,filledColor:r,emptyColor:a,size:o,variation:s,isDeterminate:i=!1,isPercentageTextHidden:l=!1,percentage:u=0}=e,c=Bn(e,Xj);u=Math.min(u,100),u=Math.max(u,0);const d="".concat(u,"%"),p=bj(Rj,xU(Rj,o),xU(Rj,s),_U(Rj,"determinate",i),n),h=_.createElement("g",null,_.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(a)},"data-testid":"linear-empty"}),_.createElement("line",{x1:"0",x2:i?d:"100%",y1:"50%",y2:"50%",style:{stroke:i&&0===u?"none":r?String(r):void 0},"data-testid":"linear-filled"}),i?_.createElement("text",{"aria-live":"polite",className:bj(Dj,l?Wj:null),x:"".concat(-1+u,"%"),y:"200%"},d):null),f=_.createElement("g",null,_.createElement("circle",{cx:"50%",cy:"50%",r:"".concat(42,"%"),strokeWidth:"".concat(8,"%"),style:{stroke:String(a)},"data-testid":"circular-empty"}),_.createElement("circle",{cx:"50%",cy:"50%",r:"".concat(42,"%"),strokeWidth:"".concat(8,"%"),style:{stroke:String(r),strokeDasharray:i?"".concat(Jj,"% ").concat(Jj,"%"):void 0,strokeDashoffset:i?"".concat(Jj-Jj*u/100,"%"):void 0},"data-testid":"circular-filled"}),i?_.createElement("text",{"aria-live":"polite",className:bj(Dj,l?Wj:null),x:"130%",y:"80%"},d):null);return _.createElement(yj,M({as:"svg",className:p,ref:t,role:"img"},c),"linear"===s?h:f)}));Zj.displayName="Loader";const eH=["className","children","colorTheme","isFullWidth","isDisabled","isLoading","loadingText","size","type","variation"],tH=["link","primary",void 0],nH=gj(((e,t)=>{var n;let{className:r,children:a,colorTheme:o,isFullWidth:s=!1,isDisabled:i,isLoading:l,loadingText:u="",size:c,type:d="button",variation:p}=e,h=Bn(e,eH);const f=tH.includes(p)&&o?"".concat(null!==p&&void 0!==p?p:"outlined","--").concat(o):void 0,{isFieldsetDisabled:m}=Qj(),g=m||(null!==(n=null!==i&&void 0!==i?i:l)&&void 0!==n?n:h.disabled),v=bj(_j,Cj,xU(_j,p),xU(_j,f),xU(_j,c),_U(_j,"disabled",g),_U(_j,"loading",l),_U(_j,"fullwidth",s),r);return _.createElement(yj,M({ref:t,as:"button",className:v,isDisabled:g,type:d},h),l?_.createElement(jj,{as:"span",className:Ij},_.createElement(Zj,{size:c}),u||null):a)}));nH.displayName="Button";const rH=["children","className","visuallyHidden"],aH=gj(((e,t)=>{let{children:n,className:r,visuallyHidden:a}=e,o=Bn(e,rH);return _.createElement(yj,M({as:"label",className:bj(Oj,r,{[Wj]:a}),ref:t},o),n)}));aH.displayName="Label";const oH=["descriptiveText","labelHidden"],sH=e=>{let{descriptiveText:t,labelHidden:n}=e,r=Bn(e,oH);return t?_.createElement($j,M({"data-testid":"qa-field-description",className:bj(Tj,{[Wj]:n})},r),t):null};sH.displayName="FieldDescription";const iH=["errorMessage","hasError"],lH=e=>{let{errorMessage:t,hasError:n}=e,r=Bn(e,iH);return n&&t?_.createElement($j,M({className:Nj},r),t):null};lH.displayName="FieldErrorMessage";const uH=_.createContext({});function cH(e){const t=_.useContext(uH);if(e&&t)return t[e]}const dH=["className"],pH=e=>{const{className:t}=e,n=Bn(e,dH);return _.createElement(yj,M({as:"span",width:"1em",height:"1em",className:bj(Mj,t)},n),_.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},hH=["autoComplete","className","size","variation","value","defaultValue","hasError","icon","iconColor","children","placeholder","isDisabled","isRequired","isMultiple","selectSize"],fH=gj(((e,t)=>{var n;let{autoComplete:r,className:a,size:o,variation:s,value:i,defaultValue:l,hasError:u,icon:c,iconColor:d,children:p,placeholder:h,isDisabled:f,isRequired:m,isMultiple:g=!1,selectSize:v=1}=e,y=Bn(e,hH);const b=void 0===i&&void 0===l&&h,w=g||v>1,k=bj(Fj,Cj,xU(Fj,o),xU(Fj,s),_U(Fj,"error",u),_U(Fj,"expanded",w),a),S=cH("select"),{isFieldsetDisabled:x}=Qj();return _.createElement(yj,{className:Lj},_.createElement(yj,M({"aria-invalid":u,as:"select",autoComplete:r,value:i,defaultValue:b?"":l,isDisabled:x||f,multiple:g,size:v,required:m,className:k,ref:t},y),h&&_.createElement("option",{value:""},h),p),w?null:_.createElement(jj,{className:bj(zj,xU(zj,o)),color:d,"aria-hidden":"true"},null!==(n=null!==c&&void 0!==c?c:null===S||void 0===S?void 0:S.expand)&&void 0!==n?n:_.createElement(pH,null)))}));fH.displayName="Select";const mH=e=>{const t={styleProps:{},rest:{}};return Object.keys(e).forEach((n=>{(e=>e in BU)(n)?t.styleProps=M(M({},t.styleProps),{},{[n]:e[n]}):t.rest=M(M({},t.rest),{},{[n]:e[n]})})),t},gH=null!==globalThis&&void 0!==globalThis&&globalThis.document?_.useLayoutEffect:()=>{},vH=I["useId".toString()]||(()=>{});let yH=0;const bH=e=>{const[t,n]=_.useState(vH());return gH((()=>{e||n((e=>null!==e&&void 0!==e?e:String(yH++)))}),[e]),null!==e&&void 0!==e?e:t?"".concat("amplify-id","-").concat(t):""};"undefined"===typeof Symbol||!SU(Symbol.for)||Symbol.for("amplify_default");const wH=(e,t)=>e&&t?"".concat(e,"-").concat(t):void 0,kH=["children","className","descriptiveText","errorMessage","hasError","id","label","labelHidden","options","size","testId","inputStyles"],SH=gj(((e,t)=>{const{children:n,className:r,descriptiveText:a,errorMessage:o,hasError:s=!1,id:i,label:l,labelHidden:u=!1,options:c,size:d,testId:p,inputStyles:h}=e,f=Bn(e,kH),m=bH(i),g=bH(),v=a?wH(g,"description"):void 0,y=s?wH(g,"error"):void 0,b=(e=>{const t=e.filter((e=>void 0!==e)).join(" ");return t.length>0?t:void 0})([y,v]),{styleProps:w,rest:k}=mH(f);return _.createElement(jj,M({className:bj(Ej,xU(Ej,d),Pj,r),testId:p},w),_.createElement(aH,{htmlFor:m,visuallyHidden:u},l),_.createElement(sH,{id:v,labelHidden:u,descriptiveText:a}),_.createElement(fH,M(M({"aria-describedby":b,hasError:s,id:m,ref:t,size:d},k),h),(e=>{let{children:t,options:n}=e;return t?(null!==n&&void 0!==n&&n.length&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),t):null===n||void 0===n?void 0:n.map(((e,t)=>_.createElement("option",{label:e,value:e,key:"".concat(e,"-").concat(t)},e)))})({children:n,options:c})),_.createElement(lH,{id:y,hasError:s,errorMessage:o}))}));SH.displayName="SelectField";var xH=n(8443);function _H(e){return 0!==e.status?e.getSnapshot():e.machine.initialState}function IH(e){return"state"in e&&"machine"in e}function EH(e){return e}function TH(e){return"state"in e}function NH(e){return"getSnapshot"in e?IH(e)?_H(e):e.getSnapshot():TH(e)?e.state:void 0}function CH(e,t){void 0===t&&(t=NH);var n=(0,_.useRef)(e),r=(0,_.useRef)([]),a=(0,_.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),o=(0,_.useCallback)((function(){return t(e)}),[e,t]),s=(0,_.useCallback)((function(t,n){return IH(e)?function(e,t,n){if(e.status===Ma.NotStarted)return!0;var r=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"===typeof t.changed);return!(n.changed||r)}(e,t,n):t===n}),[e]),i=(0,xH.useSyncExternalStoreWithSelector)(a,o,o,EH,s),l=Pa((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e[0];var o=n.current;(function(e){return"deferred"in e})(o)&&o.deferred?r.current.push(a):o.send(a)}}));return Hn((function(){for(n.current=e;r.current.length>0;){var t=r.current.shift();e.send(t)}}),[e]),[i,l]}function AH(){const{service:e}=Gj();return CH(e)}var MH,OH=function(e,t){return e===t};function RH(e,t,n,r){void 0===n&&(n=OH);var a=(0,_.useRef)(null),o=(0,_.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),s=(0,_.useCallback)((function(){return r?r(e):function(e,t){if(IH(e)){if(0===e.status&&t.current)return t.current;var n=_H(e);return t.current=0===e.status?n:null,n}return TH(e)?e.state:void 0}(e,a)}),[e,r]);return(0,xH.useSyncExternalStoreWithSelector)(o,s,s,t,n)}function DH(e){const{service:t}=Gj();return RH(t,e)}!function(e){e.CameraModule="amplify-liveness-camera-module",e.CancelContainer="amplify-liveness-cancel-container",e.CancelButton="amplify-liveness-cancel-button",e.CountdownContainer="amplify-liveness-countdown-container",e.DescriptionBullet="amplify-liveness-description-bullet",e.DescriptionBulletIndex="amplify-liveness-description-bullet__index",e.DescriptionBulletIndexText="amplify-liveness-description-bullet__index__text",e.DescriptionBulletMessage="amplify-liveness-description-bullet__message",e.ErrorModal="amplify-liveness-error-modal",e.ErrorModalHeading="amplify-liveness-error-modal__heading",e.FadeOut="amplify-liveness-fade-out",e.FreshnessCanvas="amplify-liveness-freshness-canvas",e.InstructionList="amplify-liveness-instruction-list",e.InstructionOverlay="amplify-liveness-instruction-overlay",e.Hint="amplify-liveness-hint",e.HintText="amplify-liveness-hint__text",e.LandscapeErrorModal="amplify-liveness-landscape-error-modal",e.LandscapeErrorModalButton="amplify-liveness-landscape-error-modal__button",e.LandscapeErrorModalHeader="amplify-liveness-landscape-error-modal__header",e.Loader="amplify-liveness-loader",e.MatchIndicator="amplify-liveness-match-indicator",e.OvalCanvas="amplify-liveness-oval-canvas",e.OpaqueOverlay="amplify-liveness-overlay-opaque",e.Overlay="amplify-liveness-overlay",e.Popover="amplify-liveness-popover",e.PopoverContainer="amplify-liveness-popover__container",e.PopoverAnchor="amplify-liveness-popover__anchor",e.PopoverAnchorSecondary="amplify-liveness-popover__anchor-secondary",e.RecordingIconContainer="amplify-liveness-recording-icon-container",e.RecordingIcon="amplify-liveness-recording-icon",e.StartScreenCameraSelect="amplify-liveness-start-screen-camera-select",e.StartScreenCameraSelectContainer="amplify-liveness-start-screen-camera-select__container",e.StartScreenCameraWaiting="amplify-liveness-start-screen-camera-waiting",e.StartScreenHeader="amplify-liveness-start-screen-header",e.StartScreenHeaderBody="amplify-liveness-start-screen-header__body",e.StartScreenHeaderHeading="amplify-liveness-start-screen-header__heading",e.StartScreenWarning="amplify-liveness-start-screen-warning",e.StartScreenInstructions="amplify-liveness-start-screen-instructions",e.StartScreenInstructionsHeading="amplify-liveness-start-screen-instructions__heading",e.Toast="amplify-liveness-toast",e.ToastContainer="amplify-liveness-toast__container",e.ToastMessage="amplify-liveness-toast__message",e.Video="amplify-liveness-video",e.VideoAnchor="amplify-liveness-video-anchor"}(MH||(MH={}));const FH=["as","children","className"],PH=gj(((e,t)=>{let{as:n="span",children:r,className:a}=e,o=Bn(e,FH);return _.createElement(yj,M({as:n,className:bj(Wj,a),ref:t},o),r)}));PH.displayName="VisuallyHidden";const LH=["variation","size","children","isInitial"],zH=e=>{let{variation:t="default",size:n="medium",children:r,isInitial:a=!1}=e,o=Bn(e,LH);const{tokens:s}=cj();return _.createElement(yj,M(M({className:"".concat(MH.Toast," ").concat(MH.Toast,"--").concat(t," ").concat(MH.Toast,"--").concat(n)},a&&{backgroundColor:s.colors.background.primary}),o),_.createElement(jj,{className:MH.ToastContainer},_.createElement(jj,M({className:MH.ToastMessage},a?{color:s.colors.font.primary}:{}),r)))},BH=e=>{let{displayText:t}=e;return _.createElement(zH,{"aria-live":"polite"},_.createElement(jj,{className:MH.HintText},_.createElement(Zj,null),_.createElement(yj,null,t)))},WH=e=>e.context.errorState,UH=e=>e.context.faceMatchAssociatedParams.faceMatchState,jH=e=>e.context.faceMatchAssociatedParams.illuminationState,HH=e=>e.context.isFaceFarEnoughBeforeRecording,VH=e=>e.context.faceMatchStateBeforeStart,qH=e=>{var t;return null===(t=e.context.faceMatchAssociatedParams)||void 0===t?void 0:t.faceMatchPercentage},GH=e=>{let{text:t,isInitial:n=!1}=e;return _.createElement(zH,{size:"large",variation:"primary",isInitial:n},_.createElement(yj,{"aria-live":"assertive"},t))},KH=e=>{let{hintDisplayText:t}=e;const[n]=AH(),r=DH(WH),a=DH(UH),o=DH(jH),s=DH(VH),i=DH(HH),l=DH(qH),u=n.matches("checkFaceDetectedBeforeStart")||n.matches("detectFaceBeforeStart"),c=n.matches("checkFaceDistanceBeforeRecording")||n.matches("detectFaceDistanceBeforeRecording"),d=n.matches("start")||n.matches("userCancel"),p=n.matches("recording"),h=n.matches("notRecording"),f=n.matches("uploading"),m=n.matches("checkSucceeded"),g=n.matches("checkFailed"),v=n.matches({recording:"flashFreshnessColors"}),y={[Ja.CANT_IDENTIFY]:t.hintCanNotIdentifyText,[Ja.FACE_IDENTIFIED]:t.hintTooFarText,[Ja.TOO_MANY]:t.hintTooManyFacesText,[Ja.TOO_FAR]:t.hintTooFarText,[Ja.MATCHED]:t.hintHoldFaceForFreshnessText,[Ja.OFF_CENTER]:t.hintFaceOffCenterText},b={[Xa.BRIGHT]:t.hintIlluminationTooBrightText,[Xa.DARK]:t.hintIlluminationTooDarkText,[Xa.NORMAL]:t.hintIlluminationNormalText};if(d)return _.createElement(_.Fragment,null,_.createElement(PH,{role:"alert"},t.hintCenterFaceInstructionText),_.createElement(GH,{text:t.hintCenterFaceText,isInitial:!0}));if(null!==r&&void 0!==r?r:g||m)return null;if(!p){if(u)return s===Ja.TOO_MANY?_.createElement(GH,{text:t.hintTooManyFacesText}):_.createElement(GH,{text:t.hintMoveFaceFrontOfCameraText});if(c&&!1===i)return _.createElement(GH,{text:t.hintTooCloseText});if(h)return _.createElement(BH,{displayText:t.hintConnectingText});if(f)return _.createElement(_.Fragment,null,_.createElement(PH,{"aria-live":"assertive"},t.hintCheckCompleteText),_.createElement(BH,{displayText:t.hintVerifyingText}));if(o&&o!==Xa.NORMAL)return _.createElement(GH,{text:b[o]})}if(v)return _.createElement(GH,{text:t.hintHoldFaceForFreshnessText});if(p&&!v){let e=y[Ja.TOO_FAR];a===Ja.MATCHED&&(e=y[a]);let n=e;return a===Ja.OFF_CENTER?n=y[a]:a===Ja.TOO_FAR&&l>50&&(n=t.hintMatchIndicatorText),_.createElement(zH,{size:"large",variation:"primary"},_.createElement(PH,{"aria-live":"assertive"},n),_.createElement(yj,{"aria-label":n},e))}return null},$H=["children","horizontal","vertical","className"],YH=e=>{let{children:t,horizontal:n="center",vertical:r="center",className:a}=e,o=Bn(e,$H);return _.createElement(jj,M({className:"".concat(MH.Overlay," ").concat(a),alignItems:n,justifyContent:r},o),t)},QH=["className"],XH=e=>{const{className:t}=e,n=Bn(e,QH);return _.createElement(yj,M({as:"span",width:"1em",height:"1em",className:bj(Mj,t)},n),_.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},JH=["className"],ZH=e=>{const{className:t}=e,n=Bn(e,JH);return _.createElement(yj,M({as:"span",width:"1em",height:"1em",className:bj(Mj,t)},n),_.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},eV=["className"],tV=e=>{const{className:t}=e,n=Bn(e,eV);return _.createElement(yj,M({as:"span",width:"1em",height:"1em",className:bj(Mj,t)},n),_.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},nV=["className"],rV=e=>{const{className:t}=e,n=Bn(e,nV);return _.createElement(yj,M({as:"span",width:"1em",height:"1em",className:bj(Mj,t)},n),_.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},aV=e=>{var t,n,r,a;let{variation:o,ariaHidden:s,ariaLabel:i,role:l}=e;const u=cH("alert");let c;switch(o){case"info":c=null!==(t=null===u||void 0===u?void 0:u.info)&&void 0!==t?t:_.createElement(tV,{"aria-hidden":s,"aria-label":i,role:l});break;case"error":c=null!==(n=null===u||void 0===u?void 0:u.error)&&void 0!==n?n:_.createElement(ZH,{"aria-hidden":s,"aria-label":i,role:l});break;case"warning":c=null!==(r=null===u||void 0===u?void 0:u.warning)&&void 0!==r?r:_.createElement(rV,{"aria-hidden":s,"aria-label":i,role:l});break;case"success":c=null!==(a=null===u||void 0===u?void 0:u.success)&&void 0!==a?a:_.createElement(XH,{"aria-hidden":s,"aria-label":i,role:l})}return c?_.createElement("span",{className:kj},c):null};aV.displayName="AlertIcon";const oV={errorLabelText:"Error",connectionTimeoutHeaderText:"Connection time out",connectionTimeoutMessageText:"Connection has timed out.",timeoutHeaderText:"Time out",timeoutMessageText:"Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",faceDistanceHeaderText:"Forward movement detected",faceDistanceMessageText:"Avoid moving closer when connecting.",multipleFacesHeaderText:"Multiple faces detected",multipleFacesMessageText:"Ensure only one face is present in front of the camera when connecting.",clientHeaderText:"Client error",clientMessageText:"Check failed due to client issue",serverHeaderText:"Server issue",serverMessageText:"Cannot complete check due to server issue",landscapeHeaderText:"Landscape orientation not supported",landscapeMessageText:"Rotate your device to portrait (vertical) orientation.",portraitMessageText:"Ensure your device remains in portrait (vertical) orientation for the check\u2019s duration.",tryAgainText:"Try again"},sV=M({cameraMinSpecificationsHeadingText:"Camera does not meet minimum specifications",cameraMinSpecificationsMessageText:"Camera must support at least 320*240 resolution and 15 frames per second.",cameraNotFoundHeadingText:"Camera is not accessible.",cameraNotFoundMessageText:"Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",a11yVideoLabelText:"Webcam for liveness check",cancelLivenessCheckText:"Cancel Liveness check",goodFitCaptionText:"Good fit",goodFitAltText:"Ilustration of a person's face, perfectly fitting inside of an oval.",hintCenterFaceText:"Center your face",hintCenterFaceInstructionText:"Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",hintFaceOffCenterText:"Face is not in the oval, center your face to the camera.",hintMoveFaceFrontOfCameraText:"Move face in front of camera",hintTooManyFacesText:"Ensure only one face is in front of camera",hintFaceDetectedText:"Face detected",hintCanNotIdentifyText:"Move face in front of camera",hintTooCloseText:"Move back",hintTooFarText:"Move closer",hintConnectingText:"Connecting...",hintVerifyingText:"Verifying...",hintCheckCompleteText:"Check complete",hintIlluminationTooBrightText:"Move to dimmer area",hintIlluminationTooDarkText:"Move to brighter area",hintIlluminationNormalText:"Lighting conditions normal",hintHoldFaceForFreshnessText:"Hold still",hintMatchIndicatorText:"50% completed. Keep moving closer.",photosensitivityWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivityWarningHeadingText:"Photosensitivity warning",photosensitivityWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivityWarningLabelText:"More information about photosensitivity",photosensitivyWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivyWarningHeadingText:"Photosensitivity warning",photosensitivyWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivyWarningLabelText:"More information about photosensitivity",retryCameraPermissionsText:"Retry",recordingIndicatorText:"Rec",startScreenBeginCheckText:"Start video check",tooFarCaptionText:"Too far",tooFarAltText:"Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",waitingCameraPermissionText:"Waiting for you to allow camera permission."},oV),iV=e=>{let{errorState:t,overrideErrorDisplayText:n}=e;const r=M(M({},oV),n);return t===oo||t===ao||t===io?null:(e=>{const{error:t,displayText:n}=e,{connectionTimeoutHeaderText:r,connectionTimeoutMessageText:a,errorLabelText:o,timeoutHeaderText:s,timeoutMessageText:i,faceDistanceHeaderText:l,faceDistanceMessageText:u,multipleFacesHeaderText:c,multipleFacesMessageText:d,clientHeaderText:p,clientMessageText:h,serverHeaderText:f,serverMessageText:m}=n;let g,v;switch(t){case eo:g=r,v=a;break;case to:g=s,v=i;break;case so:g=l,v=u;break;case lo:g=c,v=d;break;case no:g=p,v=h;break;default:g=f,v=m}return _.createElement(_.Fragment,null,_.createElement(jj,{className:MH.ErrorModal},_.createElement(aV,{ariaLabel:o,role:"img",variation:"error"}),_.createElement($j,{className:MH.ErrorModalHeading,id:"amplify-liveness-error-heading"},g)),_.createElement($j,{id:"amplify-liveness-error-message"},v))})({error:t,displayText:r})},lV=e=>{const{children:t,onRetry:n,displayText:r}=e,a=M(M({},oV),r),{tryAgainText:o}=a;return _.createElement(YH,{className:MH.OpaqueOverlay},_.createElement(zH,{"aria-labelledby":"amplify-liveness-error-heading","aria-describedby":"amplify-liveness-error-message",role:"alertdialog"},t,_.createElement(jj,{justifyContent:"center"},_.createElement(nH,{variation:"primary",type:"button",onClick:n},o))))},uV=["className","size"],cV=e=>{const{className:t,size:n}=e,r=Bn(e,uV);return _.createElement(yj,M({as:"span",width:null!==n&&void 0!==n?n:"1em",height:null!==n&&void 0!==n?n:"1em",className:bj(Mj,t)},r),_.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},_.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},dV=e=>{let{ariaLabel:t}=e;const[n,r]=AH();return n.done?null:_.createElement(nH,{autoFocus:!0,variation:"link",onClick:()=>{r({type:"CANCEL"})},size:"large",className:MH.CancelButton,"aria-label":t},_.createElement(cV,{"aria-hidden":"true","data-testid":"close-icon"}))},pV=["className","as","fill","pathData","viewBox","children","paths"],hV={minX:0,minY:0,width:24,height:24},fV=gj(((e,t)=>{let{className:n,as:r="svg",fill:a="currentColor",pathData:o,viewBox:s=hV,children:i,paths:l}=e,u=Bn(e,pV);const c=s.minX?s.minX:hV.minX,d=s.minY?s.minY:hV.minY,p=s.width?s.width:hV.width,h=s.height?s.height:hV.height;let f;return i&&(f=i),l&&(f=l.map(((e,t)=>_.createElement("path",M(M({},e),{},{key:t}))))),o&&(f=_.createElement("path",{d:o,fill:a})),_.createElement(yj,M({as:r,className:bj(Mj,n),ref:t,viewBox:"".concat(c," ").concat(d," ").concat(p," ").concat(h)},u),f)}));fV.displayName="Icon";const mV=e=>{let{children:t}=e;return _.createElement(jj,{className:MH.RecordingIcon},_.createElement(jj,{"data-testid":"rec-icon",justifyContent:"center"},_.createElement(fV,{viewBox:{width:20,height:20},width:"20",height:"20"},_.createElement("circle",{cx:"10",cy:"10",r:"8",fill:"red"}))),_.createElement($j,{as:"span",fontWeight:"bold"},t))},gV=e=>{let{children:t,headingText:n,labelText:r}=e;const a=(()=>{const{breakpoints:{values:e,defaultBreakpoint:t}}=cj();return nj({breakpoints:e,defaultBreakpoint:t})})(),[o,s]=_.useState(!1),i=_.useRef(null),l="base"===a;return _.useEffect((()=>{function e(e){o&&i.current&&!i.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i,o]),_.createElement("div",{className:MH.Popover,ref:i},_.createElement(nH,{"aria-controls":"photosensitivity-description","aria-expanded":o,role:"alertdialog","aria-label":r,"aria-describedby":"photosensitivity-description",colorTheme:"info",id:"popover-button",onClick:()=>s(!o),testId:"popover-icon"},_.createElement(aV,{ariaHidden:!0,variation:"info"})),o&&_.createElement(_.Fragment,null,_.createElement(jj,{className:MH.PopoverAnchor}),_.createElement(jj,{className:MH.PopoverAnchorSecondary}),_.createElement(jj,{"aria-hidden":!o,"aria-label":n,className:MH.PopoverContainer,"data-testid":"popover-text",id:"photosensitivity-description",left:l?-190:-108,role:"alertdialog"},t)))};gV.displayName="LivenessIconWithPopover";const vV=e=>{let{bodyText:t,headingText:n,infoText:r,labelText:a}=e;return _.createElement(jj,{className:"".concat(wj," ").concat(MH.StartScreenWarning),style:{zIndex:"3"}},_.createElement(yj,{flex:"1"},_.createElement(yj,{className:Sj},n),_.createElement(yj,{className:xj},t)),_.createElement(gV,{labelText:a,headingText:n},r))},yV=e=>{let{recordingIndicatorText:t}=e;return _.createElement(yj,{className:MH.RecordingIconContainer},_.createElement(mV,null,t))},bV=e=>{let{cancelLivenessCheckText:t}=e;return _.createElement(yj,{className:MH.CancelContainer},_.createElement(dV,{ariaLabel:t}))},wV=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.videoConstraints},kV=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.videoMediaStream},SV=e=>{var t;return null===(t=e.context.faceMatchAssociatedParams)||void 0===t?void 0:t.faceMatchPercentage},xV=e=>{var t;return null===(t=e.context.faceMatchAssociatedParams)||void 0===t?void 0:t.faceMatchState},_V=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.selectedDeviceId},IV=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.selectableDevices},EV=_.createElement(Zj,{size:"large",className:MH.Loader,"data-testid":"centered-loader"}),TV=[Ja.TOO_FAR,Ja.CANT_IDENTIFY,Ja.FACE_IDENTIFIED,Ja.OFF_CENTER],NV=_.memo((e=>{let{percentage:t,initialPercentage:n=25,testId:r}=e;const[a,o]=_.useState(n);_.useEffect((()=>{o(t<0?0:t>100?100:t)}),[t]);const s={"--percentage":"".concat(a,"%")};return _.createElement("div",{className:MH.MatchIndicator,"data-testid":r},_.createElement("div",{className:"".concat(MH.MatchIndicator,"__bar"),style:s,role:"progressbar","aria-label":"MatchIndicator","aria-valuenow":t,"aria-valuetext":"".concat(t,"% face fit")}))})),CV=e=>{const{isMobileScreen:t,isRecordingStopped:n,instructionDisplayText:r,streamDisplayText:a,hintDisplayText:o,errorDisplayText:s,cameraDisplayText:i,components:l,testId:u}=e,{cancelLivenessCheckText:c,recordingIndicatorText:d}=a,{ErrorView:p=lV,PhotosensitiveWarning:h=vV}=null!==l&&void 0!==l?l:{},[f,m]=AH(),g=DH(kV),v=DH(wV),y=DH(_V),b=DH(IV),w=DH(SV),k=DH(xV),S=DH(WH),x=_.useContext(uj).colorMode,{videoRef:I,videoWidth:E,videoHeight:T}=function(e){const t=cU.height.ideal,n=cU.width.ideal,r=(0,_.useRef)(null),[a,o]=(0,_.useState)(t),[s,i]=(0,_.useState)(n);return(0,_.useEffect)((()=>{if(e){bU(r.current)&&(r.current.srcObject=e);const{height:t,width:n}=e.getTracks()[0].getSettings();o(t),i(n)}return()=>{e&&e.getTracks().forEach((t=>{e.removeTrack(t),t.stop()}))}}),[e]),{videoRef:r,videoHeight:a,videoWidth:s}}(g),N=(0,_.useRef)(null),C=(0,_.useRef)(null),[A,O]=(0,_.useState)(!1),R=f.matches("cameraCheck"),D=f.matches("waitForDOMAndCameraDetails"),F=f.matches("start")||f.matches("userCancel"),P=f.matches("detectFaceBeforeStart"),L=f.matches("recording"),z=f.matches("checkSucceeded"),B=f.matches({recording:"flashFreshnessColors"}),[W,U]=(0,_.useState)(E),[j,H]=(0,_.useState)(T),[V,q]=(0,_.useState)((()=>E&&T?E/T:0));_.useEffect((()=>{null!==N&&void 0!==N&&N.current&&null!==I&&void 0!==I&&I.current&&g&&F&&ko(N.current,I.current,g)}),[N,I,g,x,F]),_.useEffect((()=>{const e=e=>{e.matches&&null!==N&&void 0!==N&&N.current&&null!==I&&void 0!==I&&I.current&&g&&F&&ko(N.current,I.current,g)},t=window.matchMedia("(prefers-color-scheme: dark)"),n=window.matchMedia("(prefers-color-scheme: light)");return t.addEventListener("change",e),n.addEventListener("change",e),()=>{t.removeEventListener("change",e),n.addEventListener("change",e)}}),[N,I,g,F]),_.useLayoutEffect((()=>{A&&m({type:"SET_DOM_AND_CAMERA_DETAILS",data:{videoEl:I.current,canvasEl:N.current,freshnessColorEl:C.current,isMobile:t}}),I.current&&(U(I.current.videoWidth),H(I.current.videoHeight),q(I.current.videoWidth/I.current.videoHeight))}),[m,I,A,t]),_.useEffect((()=>{P&&function(e){let{canvas:t}=e;const n=t.getContext("2d");if(!n)throw new Error("Cannot find Canvas.");n.restore(),n.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}({canvas:N.current})}),[P]);const G=_.useMemo((()=>_.createElement(yj,{style:{visibility:F?"visible":"hidden"}},_.createElement(h,{bodyText:r.photosensitivityWarningBodyText,headingText:r.photosensitivityWarningHeadingText,infoText:r.photosensitivityWarningInfoText,labelText:r.photosensitivityWarningLabelText}))),[h,r,F]),K=_.useCallback((()=>{m({type:"BEGIN"})}),[m]),$=_.useCallback((e=>{const t=e.target.value;(async()=>{const e=await navigator.mediaDevices.getUserMedia({video:M(M({},v),{},{deviceId:{exact:t}}),audio:!1});m({type:"UPDATE_DEVICE_AND_STREAM",data:{newDeviceId:t,newStream:e}})})()}),[v,m]);if(R)return _.createElement(jj,{justifyContent:"center",className:MH.StartScreenCameraWaiting},_.createElement(Zj,{size:"large",className:MH.Loader,"data-testid":"centered-loader",position:"unset"}),_.createElement($j,{fontSize:"large",fontWeight:"bold","data-testid":"waiting-camera-permission",className:"".concat(MH.StartScreenCameraWaiting,"__text")},i.waitingCameraPermissionText));const Y=t&&!F&&!D;return _.createElement(_.Fragment,null,G,_.createElement(jj,{className:bj(MH.CameraModule,Y&&"".concat(MH.CameraModule,"--mobile")),"data-testid":u,gap:"zero"},!A&&EV,_.createElement(YH,{horizontal:"center",vertical:L&&!B?"start":"space-between",className:MH.InstructionOverlay},L&&_.createElement(yV,{recordingIndicatorText:d}),!F&&!D&&!z&&_.createElement(bV,{cancelLivenessCheckText:c}),_.createElement(jj,{className:bj(MH.Hint,Y&&"".concat(MH.Hint,"--mobile"))},_.createElement(KH,{hintDisplayText:o})),S&&_.createElement(p,{onRetry:()=>{m({type:"CANCEL"})},displayText:s},iV({errorState:S,overrideErrorDisplayText:s})),L&&!B&&TV.includes(k)?_.createElement(NV,{percentage:Math.ceil(w)}):null),_.createElement(yj,{as:"canvas",ref:C,className:MH.FreshnessCanvas,hidden:!0}),_.createElement(yj,{className:MH.VideoAnchor,style:{aspectRatio:"".concat(V)}},_.createElement("video",{ref:I,muted:!0,autoPlay:!0,playsInline:!0,width:W,height:j,onCanPlay:()=>{O(!0)},"data-testid":"video",className:bj(MH.Video,n&&MH.FadeOut),"aria-label":i.a11yVideoLabelText}),_.createElement(jj,{className:bj(MH.OvalCanvas,Y&&"".concat(MH.OvalCanvas,"--mobile"),n&&MH.FadeOut)},_.createElement(yj,{as:"canvas",ref:N})),F&&!t&&b&&b.length>1&&_.createElement(jj,{className:MH.StartScreenCameraSelect},_.createElement(yj,{className:MH.StartScreenCameraSelectContainer},_.createElement(aH,{htmlFor:"amplify-liveness-camera-select",className:"".concat(MH.StartScreenCameraSelect,"__label")},"Camera:"),_.createElement(SH,{id:"amplify-liveness-camera-select",label:"Camera",labelHidden:!0,value:y,onChange:$},null===b||void 0===b?void 0:b.map((e=>_.createElement("option",{value:e.deviceId,key:e.deviceId},e.label)))))))),F&&_.createElement(jj,{justifyContent:"center"},_.createElement(nH,{variation:"primary",type:"button",onClick:K},r.startScreenBeginCheckText)))},AV=e=>{const{onRetry:t,header:n,portraitMessage:r,landscapeMessage:a,tryAgainText:o}=e,[s,i]=_.useState(!0);return _.useLayoutEffect((()=>{const e=$F();return i(e.matches),e.addEventListener("change",(e=>{i(e.matches)})),()=>{e.removeEventListener("change",(e=>i(e.matches)))}}),[]),_.createElement(jj,{className:MH.LandscapeErrorModal,height:s?"auto":480},_.createElement($j,{className:MH.LandscapeErrorModalHeader},n),_.createElement($j,null,s?a:r),s?null:_.createElement(jj,{className:MH.LandscapeErrorModalButton},_.createElement(nH,{variation:"primary",type:"button",onClick:t},o)))},MV="liveness-detector-check",OV=e=>e.context.isRecordingStopped,RV=e=>{let{instructionDisplayText:t,hintDisplayText:n,cameraDisplayText:r,streamDisplayText:a,errorDisplayText:o,components:s}=e;const[i,l]=AH(),u=DH(WH),c=DH(OV),d=i.matches("permissionDenied"),p=KF(),h=()=>{l({type:"RETRY_CAMERA_CHECK"})},{cameraMinSpecificationsHeadingText:f,cameraMinSpecificationsMessageText:m,cameraNotFoundHeadingText:g,cameraNotFoundMessageText:v,retryCameraPermissionsText:y}=r,{cancelLivenessCheckText:b}=a;_.useLayoutEffect((()=>{if(p){const e=e=>{e&&l({type:"MOBILE_LANDSCAPE_WARNING"})},t=$F();return e(t.matches),t.addEventListener("change",(t=>{e(t.matches)})),()=>{t.removeEventListener("change",(t=>e(t.matches)))}}}),[p,l]);return _.createElement(jj,{direction:"column",position:"relative",testId:MV,className:MV,gap:"xl"},(()=>{if(u===io){const e=M(M({},oV),o),{landscapeHeaderText:t,portraitMessageText:n,landscapeMessageText:r,tryAgainText:a}=e;return _.createElement(jj,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},_.createElement(AV,{header:t,portraitMessage:n,landscapeMessage:r,tryAgainText:a,onRetry:()=>{l({type:"CANCEL"})}}))}return d?_.createElement(jj,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:480},_.createElement($j,{fontSize:"large",fontWeight:"bold"},u===ao?f:g),_.createElement($j,{maxWidth:420},u===ao?m:v),_.createElement(nH,{variation:"primary",type:"button",onClick:h},y),_.createElement(yj,{position:"absolute",top:"medium",right:"medium"},_.createElement(dV,{ariaLabel:b}))):_.createElement(CV,{isMobileScreen:p,isRecordingStopped:c,instructionDisplayText:t,streamDisplayText:a,hintDisplayText:n,errorDisplayText:o,cameraDisplayText:r,components:s})})())};function DV(e){const t=function(e){const t=(t,n)=>e[t]&&e[t]!==sV[t]?e[t]:e[n]&&e[n]!==sV[t]?e[n]:sV[t];return{photosensitivityWarningBodyText:t("photosensitivityWarningBodyText","photosensitivyWarningBodyText"),photosensitivityWarningHeadingText:t("photosensitivityWarningHeadingText","photosensitivyWarningHeadingText"),photosensitivityWarningInfoText:t("photosensitivityWarningInfoText","photosensitivyWarningInfoText"),photosensitivityWarningLabelText:t("photosensitivityWarningLabelText","photosensitivyWarningLabelText")}}(null!==e&&void 0!==e?e:{}),n=M(M(M({},sV),e),t),{a11yVideoLabelText:r,cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:s,cameraNotFoundMessageText:i,cancelLivenessCheckText:l,connectionTimeoutHeaderText:u,connectionTimeoutMessageText:c,clientHeaderText:d,clientMessageText:p,errorLabelText:h,hintCanNotIdentifyText:f,hintCenterFaceText:m,hintCenterFaceInstructionText:g,hintFaceOffCenterText:v,hintConnectingText:y,hintFaceDetectedText:b,hintHoldFaceForFreshnessText:w,hintIlluminationNormalText:k,hintIlluminationTooBrightText:S,hintIlluminationTooDarkText:x,hintMoveFaceFrontOfCameraText:_,hintTooManyFacesText:I,hintTooCloseText:E,hintTooFarText:T,hintVerifyingText:N,hintCheckCompleteText:C,hintMatchIndicatorText:A,faceDistanceHeaderText:O,faceDistanceMessageText:R,goodFitCaptionText:D,goodFitAltText:F,landscapeHeaderText:P,landscapeMessageText:L,multipleFacesHeaderText:z,multipleFacesMessageText:B,photosensitivityWarningBodyText:W,photosensitivityWarningHeadingText:U,photosensitivityWarningInfoText:j,photosensitivityWarningLabelText:H,photosensitivyWarningBodyText:V,photosensitivyWarningHeadingText:q,photosensitivyWarningInfoText:G,photosensitivyWarningLabelText:K,portraitMessageText:$,retryCameraPermissionsText:Y,recordingIndicatorText:Q,serverHeaderText:X,serverMessageText:J,startScreenBeginCheckText:Z,timeoutHeaderText:ee,timeoutMessageText:te,tooFarCaptionText:ne,tooFarAltText:re,tryAgainText:ae,waitingCameraPermissionText:oe}=n;return{hintDisplayText:{hintMoveFaceFrontOfCameraText:_,hintTooManyFacesText:I,hintFaceDetectedText:b,hintCanNotIdentifyText:f,hintTooCloseText:E,hintTooFarText:T,hintConnectingText:y,hintVerifyingText:N,hintCheckCompleteText:C,hintIlluminationTooBrightText:S,hintIlluminationTooDarkText:x,hintIlluminationNormalText:k,hintHoldFaceForFreshnessText:w,hintCenterFaceText:m,hintCenterFaceInstructionText:g,hintFaceOffCenterText:v,hintMatchIndicatorText:A},cameraDisplayText:{cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:s,cameraNotFoundMessageText:i,retryCameraPermissionsText:Y,waitingCameraPermissionText:oe,a11yVideoLabelText:r},instructionDisplayText:{photosensitivityWarningBodyText:W,photosensitivityWarningHeadingText:U,photosensitivityWarningInfoText:j,photosensitivityWarningLabelText:H,photosensitivyWarningBodyText:V,photosensitivyWarningHeadingText:q,photosensitivyWarningInfoText:G,photosensitivyWarningLabelText:K,goodFitCaptionText:D,goodFitAltText:F,tooFarCaptionText:ne,tooFarAltText:re,startScreenBeginCheckText:Z},streamDisplayText:{cancelLivenessCheckText:l,recordingIndicatorText:Q},errorDisplayText:{connectionTimeoutHeaderText:u,connectionTimeoutMessageText:c,errorLabelText:h,timeoutHeaderText:ee,timeoutMessageText:te,faceDistanceHeaderText:O,faceDistanceMessageText:R,multipleFacesHeaderText:z,multipleFacesMessageText:B,clientHeaderText:d,clientMessageText:p,serverHeaderText:X,serverMessageText:J,landscapeHeaderText:P,landscapeMessageText:L,portraitMessageText:$,tryAgainText:ae}}}const FV="liveness-detector";function PV(e){const{components:t,config:n,displayText:r}=e,a=_.useRef(null),{hintDisplayText:o,cameraDisplayText:s,instructionDisplayText:i,streamDisplayText:l,errorDisplayText:u}=DV(r),c=Wa(mU,{devTools:!1,context:{componentProps:M(M({},e),{},{config:null!==n&&void 0!==n?n:{}})}});return _.createElement(yj,{className:FV,testId:FV},_.createElement(qj,{componentProps:e,service:c},_.createElement(jj,{direction:"column",ref:a},_.createElement(RV,{instructionDisplayText:i,hintDisplayText:o,cameraDisplayText:s,streamDisplayText:l,errorDisplayText:u,components:t}))))}const LV=["config"],zV=async()=>{const{credentials:e}=await Wn();if(!e)throw new Error("No credentials provided");return e};function BV(e){const{config:t}=e,n=Bn(e,LV);return _.createElement(PV,M(M({},n),{},{config:M({credentialProvider:zV},t)}))}const WV=(0,_.createContext)(void 0),UV=e=>{const{dir:t,children:n}=e;return(0,_.createElement)(WV.Provider,{value:t},n)};function jV(e){const t=(0,_.useContext)(WV);return e||t||"ltr"}const HV=UV,VV=["cssText"],qV=e=>{let{cssText:t}=e,n=Bn(e,VV);return void 0===t||/<\/style/i.test(t)?null:_.createElement("style",M(M({},n),{},{dangerouslySetInnerHTML:{__html:t}}))};qV.displayName="Style";const GV=["theme"],KV=e=>{let{theme:t}=e,n=Bn(e,GV);if(!t)return null;const{name:r,cssText:a}=t;return _.createElement(qV,M(M({},n),{},{cssText:a,id:"amplify-theme-".concat(r)}))};KV.displayName="ThemeStyle";const{DirectionProvider:$V}=(e=>{var t;const n=M({default:void 0},e);return null!==(t=n.default)&&void 0!==t?t:n})(x);function YV(e){let{children:t,colorMode:n,direction:r="ltr",nonce:a,theme:o}=e;const s=_.useMemo((()=>({theme:lj(o),colorMode:n})),[o,n]);return _.createElement(uj.Provider,{value:s},_.createElement($V,{dir:r},_.createElement("div",{"data-amplify-theme":s.theme.name,"data-amplify-color-mode":n,dir:r},t),o?_.createElement(KV,{theme:s.theme,nonce:a}):null))}var QV=n(579);function XV(){const[e,t]=_.useState(!0),[n,r]=_.useState(null);_.useEffect((()=>{(async()=>{await new Promise((e=>setTimeout(e,2e3)));r({sessionId:"https://8fdvh2yif4.execute-api.eu-north-1.amazonaws.com/dev/items/createLivenessSession"}),t(!1)})()}),[]);return(0,QV.jsx)(YV,{children:e?(0,QV.jsx)(Zj,{}):(0,QV.jsx)(BV,{sessionId:n.sessionId,region:"eu-north-1",onAnalysisComplete:async()=>{try{const e=await fetch("https://8fdvh2yif4.execute-api.eu-north-1.amazonaws.com/dev/items/getLivenessSessionResult?sessionId=".concat(n.sessionId));(await e.json()).isLive?console.log("Usu\xe1rio est\xe1 vivo"):console.log("Usu\xe1rio n\xe3o est\xe1 vivo")}catch(e){console.error("Erro ao obter o resultado da an\xe1lise:",e)}},onError:e=>{console.error("Erro no detector de vivacidade:",e)}})})}Ln.configure(zn);const JV=function(){return(0,QV.jsxs)("div",{children:[(0,QV.jsx)("h1",{children:"Detec\xe7\xe3o de Vivacidade"}),(0,QV.jsx)(XV,{})]})},ZV=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:s}=t;n(e),r(e),a(e),o(e),s(e)}))};E.createRoot(document.getElementById("root")).render((0,QV.jsx)(_.StrictMode,{children:(0,QV.jsx)(JV,{})})),ZV()})()})();
//# sourceMappingURL=main.d7b4c149.js.map